diff --git a/CODING_STYLE b/CODING_STYLE
old mode 100644
new mode 100755
diff --git a/COPYING b/COPYING
old mode 100644
new mode 100755
diff --git a/CREDITS b/CREDITS
old mode 100644
new mode 100755
diff --git a/Config.mk b/Config.mk
old mode 100644
new mode 100755
diff --git a/MAINTAINERS b/MAINTAINERS
old mode 100644
new mode 100755
diff --git a/Makefile b/Makefile
old mode 100644
new mode 100755
diff --git a/README b/README
old mode 100644
new mode 100755
diff --git a/buildconfigs/Rules.mk b/buildconfigs/Rules.mk
old mode 100644
new mode 100755
diff --git a/buildconfigs/enable-xen-config b/buildconfigs/enable-xen-config
old mode 100644
new mode 100755
diff --git a/buildconfigs/interface.exclude b/buildconfigs/interface.exclude
old mode 100644
new mode 100755
diff --git a/buildconfigs/ketchup b/buildconfigs/ketchup
old mode 100644
new mode 100755
diff --git a/buildconfigs/mk.linux-2.6 b/buildconfigs/mk.linux-2.6
old mode 100644
new mode 100755
diff --git a/buildconfigs/mk.linux-2.6-common b/buildconfigs/mk.linux-2.6-common
old mode 100644
new mode 100755
diff --git a/buildconfigs/mk.linux-2.6-git b/buildconfigs/mk.linux-2.6-git
old mode 100644
new mode 100755
diff --git a/buildconfigs/mk.linux-2.6-mm b/buildconfigs/mk.linux-2.6-mm
old mode 100644
new mode 100755
diff --git a/buildconfigs/mk.linux-2.6-native b/buildconfigs/mk.linux-2.6-native
old mode 100644
new mode 100755
diff --git a/buildconfigs/mk.linux-2.6-pvops b/buildconfigs/mk.linux-2.6-pvops
old mode 100644
new mode 100755
diff --git a/buildconfigs/mk.linux-2.6-rc b/buildconfigs/mk.linux-2.6-rc
old mode 100644
new mode 100755
diff --git a/buildconfigs/mk.linux-2.6-tip b/buildconfigs/mk.linux-2.6-tip
old mode 100644
new mode 100755
diff --git a/buildconfigs/mk.linux-2.6-tip-latest b/buildconfigs/mk.linux-2.6-tip-latest
old mode 100644
new mode 100755
diff --git a/buildconfigs/mk.linux-2.6-xen b/buildconfigs/mk.linux-2.6-xen
old mode 100644
new mode 100755
diff --git a/buildconfigs/mk.linux-2.6-xen0 b/buildconfigs/mk.linux-2.6-xen0
old mode 100644
new mode 100755
diff --git a/buildconfigs/mk.linux-2.6-xenU b/buildconfigs/mk.linux-2.6-xenU
old mode 100644
new mode 100755
diff --git a/buildconfigs/src.git-clone b/buildconfigs/src.git-clone
old mode 100644
new mode 100755
diff --git a/buildconfigs/src.hg-clone b/buildconfigs/src.hg-clone
old mode 100644
new mode 100755
diff --git a/buildconfigs/src.tarball b/buildconfigs/src.tarball
old mode 100644
new mode 100755
diff --git a/config/Docs.mk.in b/config/Docs.mk.in
old mode 100644
new mode 100755
diff --git a/config/FreeBSD.mk b/config/FreeBSD.mk
old mode 100644
new mode 100755
diff --git a/config/Linux.mk b/config/Linux.mk
old mode 100644
new mode 100755
diff --git a/config/MiniOS.mk b/config/MiniOS.mk
old mode 100644
new mode 100755
diff --git a/config/NetBSD.mk b/config/NetBSD.mk
old mode 100644
new mode 100755
diff --git a/config/OpenBSD.mk b/config/OpenBSD.mk
old mode 100644
new mode 100755
diff --git a/config/StdGNU.mk b/config/StdGNU.mk
old mode 100644
new mode 100755
diff --git a/config/Stubdom.mk.in b/config/Stubdom.mk.in
old mode 100644
new mode 100755
diff --git a/config/SunOS.mk b/config/SunOS.mk
old mode 100644
new mode 100755
diff --git a/config/Tools.mk.in b/config/Tools.mk.in
old mode 100644
new mode 100755
diff --git a/config/Toplevel.mk.in b/config/Toplevel.mk.in
old mode 100644
new mode 100755
diff --git a/config/arm32.mk b/config/arm32.mk
old mode 100644
new mode 100755
diff --git a/config/arm64.mk b/config/arm64.mk
old mode 100644
new mode 100755
diff --git a/config/x86_32.mk b/config/x86_32.mk
old mode 100644
new mode 100755
diff --git a/config/x86_64.mk b/config/x86_64.mk
old mode 100644
new mode 100755
diff --git a/configure.ac b/configure.ac
old mode 100644
new mode 100755
diff --git a/docs/ChangeLog b/docs/ChangeLog
old mode 100644
new mode 100755
diff --git a/docs/INDEX b/docs/INDEX
old mode 100644
new mode 100755
diff --git a/docs/Makefile b/docs/Makefile
old mode 100644
new mode 100755
diff --git a/docs/README.xen-bugtool b/docs/README.xen-bugtool
old mode 100644
new mode 100755
diff --git a/docs/configure.ac b/docs/configure.ac
old mode 100644
new mode 100755
diff --git a/docs/figs/Makefile b/docs/figs/Makefile
old mode 100644
new mode 100755
diff --git a/docs/figs/network-basic.fig b/docs/figs/network-basic.fig
old mode 100644
new mode 100755
diff --git a/docs/figs/network-bridge.fig b/docs/figs/network-bridge.fig
old mode 100644
new mode 100755
diff --git a/docs/figs/xenlogo.eps b/docs/figs/xenlogo.eps
old mode 100644
new mode 100755
diff --git a/docs/gen-html-index b/docs/gen-html-index
old mode 100644
new mode 100755
diff --git a/docs/man/xend-config.sxp.pod.5 b/docs/man/xend-config.sxp.pod.5
old mode 100644
new mode 100755
diff --git a/docs/man/xl.cfg.pod.5 b/docs/man/xl.cfg.pod.5
old mode 100644
new mode 100755
diff --git a/docs/man/xl.conf.pod.5 b/docs/man/xl.conf.pod.5
old mode 100644
new mode 100755
diff --git a/docs/man/xl.pod.1 b/docs/man/xl.pod.1
old mode 100644
new mode 100755
diff --git a/docs/man/xlcpupool.cfg.pod.5 b/docs/man/xlcpupool.cfg.pod.5
old mode 100644
new mode 100755
diff --git a/docs/man/xm.pod.1 b/docs/man/xm.pod.1
old mode 100644
new mode 100755
diff --git a/docs/man/xmdomain.cfg.pod.5 b/docs/man/xmdomain.cfg.pod.5
old mode 100644
new mode 100755
diff --git a/docs/misc/arm/device-tree/booting.txt b/docs/misc/arm/device-tree/booting.txt
old mode 100644
new mode 100755
diff --git a/docs/misc/arm/early-printk.txt b/docs/misc/arm/early-printk.txt
old mode 100644
new mode 100755
diff --git a/docs/misc/console.txt b/docs/misc/console.txt
old mode 100644
new mode 100755
diff --git a/docs/misc/coverage.markdown b/docs/misc/coverage.markdown
old mode 100644
new mode 100755
diff --git a/docs/misc/crashdb.txt b/docs/misc/crashdb.txt
old mode 100644
new mode 100755
diff --git a/docs/misc/distro_mapping.txt b/docs/misc/distro_mapping.txt
old mode 100644
new mode 100755
diff --git a/docs/misc/dump-core-format.txt b/docs/misc/dump-core-format.txt
old mode 100644
new mode 100755
diff --git a/docs/misc/efi.markdown b/docs/misc/efi.markdown
old mode 100644
new mode 100755
diff --git a/docs/misc/grant-tables.txt b/docs/misc/grant-tables.txt
old mode 100644
new mode 100755
diff --git a/docs/misc/hvm-emulated-unplug.markdown b/docs/misc/hvm-emulated-unplug.markdown
old mode 100644
new mode 100755
diff --git a/docs/misc/kexec_and_kdump.txt b/docs/misc/kexec_and_kdump.txt
old mode 100644
new mode 100755
diff --git a/docs/misc/libxl_memory.txt b/docs/misc/libxl_memory.txt
old mode 100644
new mode 100755
diff --git a/docs/misc/pvrdtscp.c b/docs/misc/pvrdtscp.c
old mode 100644
new mode 100755
diff --git a/docs/misc/qemu-upstream_howto_use_it.markdown b/docs/misc/qemu-upstream_howto_use_it.markdown
old mode 100644
new mode 100755
diff --git a/docs/misc/sedf_scheduler_mini-HOWTO.txt b/docs/misc/sedf_scheduler_mini-HOWTO.txt
old mode 100644
new mode 100755
diff --git a/docs/misc/tmem-internals.html b/docs/misc/tmem-internals.html
old mode 100644
new mode 100755
diff --git a/docs/misc/tscmode.txt b/docs/misc/tscmode.txt
old mode 100644
new mode 100755
diff --git a/docs/misc/vbd-interface.txt b/docs/misc/vbd-interface.txt
old mode 100644
new mode 100755
diff --git a/docs/misc/vtd.txt b/docs/misc/vtd.txt
old mode 100644
new mode 100755
diff --git a/docs/misc/vtpm.txt b/docs/misc/vtpm.txt
old mode 100644
new mode 100755
diff --git a/docs/misc/xen-command-line.markdown b/docs/misc/xen-command-line.markdown
old mode 100644
new mode 100755
diff --git a/docs/misc/xen-error-handling.txt b/docs/misc/xen-error-handling.txt
old mode 100644
new mode 100755
diff --git a/docs/misc/xen_config.html b/docs/misc/xen_config.html
old mode 100644
new mode 100755
diff --git a/docs/misc/xend.tex b/docs/misc/xend.tex
old mode 100644
new mode 100755
diff --git a/docs/misc/xenpaging.txt b/docs/misc/xenpaging.txt
old mode 100644
new mode 100755
diff --git a/docs/misc/xenstore-paths.markdown b/docs/misc/xenstore-paths.markdown
old mode 100644
new mode 100755
diff --git a/docs/misc/xenstore.txt b/docs/misc/xenstore.txt
old mode 100644
new mode 100755
diff --git a/docs/misc/xl-disk-configuration.txt b/docs/misc/xl-disk-configuration.txt
old mode 100644
new mode 100755
diff --git a/docs/misc/xl-network-configuration.markdown b/docs/misc/xl-network-configuration.markdown
old mode 100644
new mode 100755
diff --git a/docs/misc/xl-numa-placement.markdown b/docs/misc/xl-numa-placement.markdown
old mode 100644
new mode 100755
diff --git a/docs/misc/xsm-flask.txt b/docs/misc/xsm-flask.txt
old mode 100644
new mode 100755
diff --git a/extras/mini-os/COPYING b/extras/mini-os/COPYING
old mode 100644
new mode 100755
diff --git a/extras/mini-os/Config.mk b/extras/mini-os/Config.mk
old mode 100644
new mode 100755
diff --git a/extras/mini-os/Makefile b/extras/mini-os/Makefile
old mode 100644
new mode 100755
diff --git a/extras/mini-os/README b/extras/mini-os/README
old mode 100644
new mode 100755
diff --git a/extras/mini-os/app.lds b/extras/mini-os/app.lds
old mode 100644
new mode 100755
diff --git a/extras/mini-os/arch/x86/Makefile b/extras/mini-os/arch/x86/Makefile
old mode 100644
new mode 100755
diff --git a/extras/mini-os/arch/x86/arch.mk b/extras/mini-os/arch/x86/arch.mk
old mode 100644
new mode 100755
diff --git a/extras/mini-os/arch/x86/ioremap.c b/extras/mini-os/arch/x86/ioremap.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/arch/x86/iorw.c b/extras/mini-os/arch/x86/iorw.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/arch/x86/minios-x86_32.lds b/extras/mini-os/arch/x86/minios-x86_32.lds
old mode 100644
new mode 100755
diff --git a/extras/mini-os/arch/x86/minios-x86_64.lds b/extras/mini-os/arch/x86/minios-x86_64.lds
old mode 100644
new mode 100755
diff --git a/extras/mini-os/arch/x86/mm.c b/extras/mini-os/arch/x86/mm.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/arch/x86/sched.c b/extras/mini-os/arch/x86/sched.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/arch/x86/setup.c b/extras/mini-os/arch/x86/setup.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/arch/x86/time.c b/extras/mini-os/arch/x86/time.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/arch/x86/traps.c b/extras/mini-os/arch/x86/traps.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/arch/x86/x86_32.S b/extras/mini-os/arch/x86/x86_32.S
old mode 100644
new mode 100755
diff --git a/extras/mini-os/arch/x86/x86_64.S b/extras/mini-os/arch/x86/x86_64.S
old mode 100644
new mode 100755
diff --git a/extras/mini-os/blkfront.c b/extras/mini-os/blkfront.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/console/console.c b/extras/mini-os/console/console.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/console/console.h b/extras/mini-os/console/console.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/console/xenbus.c b/extras/mini-os/console/xenbus.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/console/xencons_ring.c b/extras/mini-os/console/xencons_ring.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/daytime.c b/extras/mini-os/daytime.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/domain_config b/extras/mini-os/domain_config
old mode 100644
new mode 100755
diff --git a/extras/mini-os/events.c b/extras/mini-os/events.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/fbfront.c b/extras/mini-os/fbfront.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/gntmap.c b/extras/mini-os/gntmap.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/gnttab.c b/extras/mini-os/gnttab.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/hypervisor.c b/extras/mini-os/hypervisor.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/arch/cc.h b/extras/mini-os/include/arch/cc.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/arch/perf.h b/extras/mini-os/include/arch/perf.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/arch/sys_arch.h b/extras/mini-os/include/arch/sys_arch.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/blkfront.h b/extras/mini-os/include/blkfront.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/byteorder.h b/extras/mini-os/include/byteorder.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/byteswap.h b/extras/mini-os/include/byteswap.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/console.h b/extras/mini-os/include/console.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/ctype.h b/extras/mini-os/include/ctype.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/endian.h b/extras/mini-os/include/endian.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/err.h b/extras/mini-os/include/err.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/errno-base.h b/extras/mini-os/include/errno-base.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/errno.h b/extras/mini-os/include/errno.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/events.h b/extras/mini-os/include/events.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/fbfront.h b/extras/mini-os/include/fbfront.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/fcntl.h b/extras/mini-os/include/fcntl.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/gntmap.h b/extras/mini-os/include/gntmap.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/gnttab.h b/extras/mini-os/include/gnttab.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/hypervisor.h b/extras/mini-os/include/hypervisor.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/ioremap.h b/extras/mini-os/include/ioremap.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/iorw.h b/extras/mini-os/include/iorw.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/kernel.h b/extras/mini-os/include/kernel.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/lib-gpl.h b/extras/mini-os/include/lib-gpl.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/lib.h b/extras/mini-os/include/lib.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/linux/types.h b/extras/mini-os/include/linux/types.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/lwipopts.h b/extras/mini-os/include/lwipopts.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/mm.h b/extras/mini-os/include/mm.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/netfront.h b/extras/mini-os/include/netfront.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/pcifront.h b/extras/mini-os/include/pcifront.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/arpa/inet.h b/extras/mini-os/include/posix/arpa/inet.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/dirent.h b/extras/mini-os/include/posix/dirent.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/err.h b/extras/mini-os/include/posix/err.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/fcntl.h b/extras/mini-os/include/posix/fcntl.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/limits.h b/extras/mini-os/include/posix/limits.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/net/if.h b/extras/mini-os/include/posix/net/if.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/netdb.h b/extras/mini-os/include/posix/netdb.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/netinet/in.h b/extras/mini-os/include/posix/netinet/in.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/netinet/tcp.h b/extras/mini-os/include/posix/netinet/tcp.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/poll.h b/extras/mini-os/include/posix/poll.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/pthread.h b/extras/mini-os/include/posix/pthread.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/signal.h b/extras/mini-os/include/posix/signal.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/stdlib.h b/extras/mini-os/include/posix/stdlib.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/strings.h b/extras/mini-os/include/posix/strings.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/sys/ioctl.h b/extras/mini-os/include/posix/sys/ioctl.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/sys/mman.h b/extras/mini-os/include/posix/sys/mman.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/sys/poll.h b/extras/mini-os/include/posix/sys/poll.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/sys/select.h b/extras/mini-os/include/posix/sys/select.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/sys/socket.h b/extras/mini-os/include/posix/sys/socket.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/sys/stat.h b/extras/mini-os/include/posix/sys/stat.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/syslog.h b/extras/mini-os/include/posix/syslog.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/termios.h b/extras/mini-os/include/posix/termios.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/time.h b/extras/mini-os/include/posix/time.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/posix/unistd.h b/extras/mini-os/include/posix/unistd.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/sched.h b/extras/mini-os/include/sched.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/semaphore.h b/extras/mini-os/include/semaphore.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/spinlock.h b/extras/mini-os/include/spinlock.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/sys/lock.h b/extras/mini-os/include/sys/lock.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/sys/time.h b/extras/mini-os/include/sys/time.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/time.h b/extras/mini-os/include/time.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/tpm_tis.h b/extras/mini-os/include/tpm_tis.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/tpmback.h b/extras/mini-os/include/tpmback.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/tpmfront.h b/extras/mini-os/include/tpmfront.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/types.h b/extras/mini-os/include/types.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/wait.h b/extras/mini-os/include/wait.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/waittypes.h b/extras/mini-os/include/waittypes.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/x86/arch_endian.h b/extras/mini-os/include/x86/arch_endian.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/x86/arch_limits.h b/extras/mini-os/include/x86/arch_limits.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/x86/arch_mm.h b/extras/mini-os/include/x86/arch_mm.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/x86/arch_sched.h b/extras/mini-os/include/x86/arch_sched.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/x86/arch_spinlock.h b/extras/mini-os/include/x86/arch_spinlock.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/x86/os.h b/extras/mini-os/include/x86/os.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/x86/traps.h b/extras/mini-os/include/x86/traps.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/x86/x86_32/arch_wordsize.h b/extras/mini-os/include/x86/x86_32/arch_wordsize.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/x86/x86_32/hypercall-x86_32.h b/extras/mini-os/include/x86/x86_32/hypercall-x86_32.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/x86/x86_64/arch_wordsize.h b/extras/mini-os/include/x86/x86_64/arch_wordsize.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/x86/x86_64/hypercall-x86_64.h b/extras/mini-os/include/x86/x86_64/hypercall-x86_64.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/xenbus.h b/extras/mini-os/include/xenbus.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/include/xmalloc.h b/extras/mini-os/include/xmalloc.h
old mode 100644
new mode 100755
diff --git a/extras/mini-os/kernel.c b/extras/mini-os/kernel.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/lib/ctype.c b/extras/mini-os/lib/ctype.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/lib/math.c b/extras/mini-os/lib/math.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/lib/printf.c b/extras/mini-os/lib/printf.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/lib/stack_chk_fail.c b/extras/mini-os/lib/stack_chk_fail.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/lib/string.c b/extras/mini-os/lib/string.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/lib/sys.c b/extras/mini-os/lib/sys.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/lib/xmalloc.c b/extras/mini-os/lib/xmalloc.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/lib/xs.c b/extras/mini-os/lib/xs.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/lock.c b/extras/mini-os/lock.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/lwip-arch.c b/extras/mini-os/lwip-arch.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/lwip-net.c b/extras/mini-os/lwip-net.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/main.c b/extras/mini-os/main.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/minios.mk b/extras/mini-os/minios.mk
old mode 100644
new mode 100755
diff --git a/extras/mini-os/mm.c b/extras/mini-os/mm.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/netfront.c b/extras/mini-os/netfront.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/pcifront.c b/extras/mini-os/pcifront.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/sched.c b/extras/mini-os/sched.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/test.c b/extras/mini-os/test.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/tpm_tis.c b/extras/mini-os/tpm_tis.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/tpmback.c b/extras/mini-os/tpmback.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/tpmfront.c b/extras/mini-os/tpmfront.c
old mode 100644
new mode 100755
diff --git a/extras/mini-os/xenbus/xenbus.c b/extras/mini-os/xenbus/xenbus.c
old mode 100644
new mode 100755
diff --git a/install.sh b/install.sh
old mode 100644
new mode 100755
diff --git a/m4/checkpolicy.m4 b/m4/checkpolicy.m4
old mode 100644
new mode 100755
diff --git a/m4/curses.m4 b/m4/curses.m4
old mode 100644
new mode 100755
diff --git a/m4/depends.m4 b/m4/depends.m4
old mode 100644
new mode 100755
diff --git a/m4/docs_tool.m4 b/m4/docs_tool.m4
old mode 100644
new mode 100755
diff --git a/m4/extfs.m4 b/m4/extfs.m4
old mode 100644
new mode 100755
diff --git a/m4/features.m4 b/m4/features.m4
old mode 100644
new mode 100755
diff --git a/m4/fetcher.m4 b/m4/fetcher.m4
old mode 100644
new mode 100755
diff --git a/m4/ocaml.m4 b/m4/ocaml.m4
old mode 100644
new mode 100755
diff --git a/m4/path_or_fail.m4 b/m4/path_or_fail.m4
old mode 100644
new mode 100755
diff --git a/m4/pkg.m4 b/m4/pkg.m4
old mode 100644
new mode 100755
diff --git a/m4/pthread.m4 b/m4/pthread.m4
old mode 100644
new mode 100755
diff --git a/m4/ptyfuncs.m4 b/m4/ptyfuncs.m4
old mode 100644
new mode 100755
diff --git a/m4/python_devel.m4 b/m4/python_devel.m4
old mode 100644
new mode 100755
diff --git a/m4/python_version.m4 b/m4/python_version.m4
old mode 100644
new mode 100755
diff --git a/m4/savevar.m4 b/m4/savevar.m4
old mode 100644
new mode 100755
diff --git a/m4/set_cflags_ldflags.m4 b/m4/set_cflags_ldflags.m4
old mode 100644
new mode 100755
diff --git a/m4/stubdom.m4 b/m4/stubdom.m4
old mode 100644
new mode 100755
diff --git a/m4/subsystem.m4 b/m4/subsystem.m4
old mode 100644
new mode 100755
diff --git a/m4/uuid.m4 b/m4/uuid.m4
old mode 100644
new mode 100755
diff --git a/stubdom/Makefile b/stubdom/Makefile
old mode 100644
new mode 100755
diff --git a/stubdom/README b/stubdom/README
old mode 100644
new mode 100755
diff --git a/stubdom/c/Makefile b/stubdom/c/Makefile
old mode 100644
new mode 100755
diff --git a/stubdom/c/main.c b/stubdom/c/main.c
old mode 100644
new mode 100755
diff --git a/stubdom/c/minios.cfg b/stubdom/c/minios.cfg
old mode 100644
new mode 100755
diff --git a/stubdom/caml/Makefile b/stubdom/caml/Makefile
old mode 100644
new mode 100755
diff --git a/stubdom/caml/hello.ml b/stubdom/caml/hello.ml
old mode 100644
new mode 100755
diff --git a/stubdom/caml/main-caml.c b/stubdom/caml/main-caml.c
old mode 100644
new mode 100755
diff --git a/stubdom/caml/minios.cfg b/stubdom/caml/minios.cfg
old mode 100644
new mode 100755
diff --git a/stubdom/configure.ac b/stubdom/configure.ac
old mode 100644
new mode 100755
diff --git a/stubdom/grub.patches/00cvs b/stubdom/grub.patches/00cvs
old mode 100644
new mode 100755
diff --git a/stubdom/grub.patches/10graphics.diff b/stubdom/grub.patches/10graphics.diff
old mode 100644
new mode 100755
diff --git a/stubdom/grub.patches/20print_func.diff b/stubdom/grub.patches/20print_func.diff
old mode 100644
new mode 100755
diff --git a/stubdom/grub.patches/30savedefault.diff b/stubdom/grub.patches/30savedefault.diff
old mode 100644
new mode 100755
diff --git a/stubdom/grub.patches/40ext3_256byte_inode.diff b/stubdom/grub.patches/40ext3_256byte_inode.diff
old mode 100644
new mode 100755
diff --git a/stubdom/grub.patches/50fs_fulldisk.diff b/stubdom/grub.patches/50fs_fulldisk.diff
old mode 100644
new mode 100755
diff --git a/stubdom/grub.patches/60ext4.diff b/stubdom/grub.patches/60ext4.diff
old mode 100644
new mode 100755
diff --git a/stubdom/grub.patches/61btrfs.diff b/stubdom/grub.patches/61btrfs.diff
old mode 100644
new mode 100755
diff --git a/stubdom/grub.patches/70compiler_warnings.diff b/stubdom/grub.patches/70compiler_warnings.diff
old mode 100644
new mode 100755
diff --git a/stubdom/grub.patches/99minios b/stubdom/grub.patches/99minios
old mode 100644
new mode 100755
diff --git a/stubdom/grub/Makefile b/stubdom/grub/Makefile
old mode 100644
new mode 100755
diff --git a/stubdom/grub/boot-x86_32.S b/stubdom/grub/boot-x86_32.S
old mode 100644
new mode 100755
diff --git a/stubdom/grub/boot-x86_64.S b/stubdom/grub/boot-x86_64.S
old mode 100644
new mode 100755
diff --git a/stubdom/grub/config.h b/stubdom/grub/config.h
old mode 100644
new mode 100755
diff --git a/stubdom/grub/kexec.c b/stubdom/grub/kexec.c
old mode 100644
new mode 100755
diff --git a/stubdom/grub/mini-os.c b/stubdom/grub/mini-os.c
old mode 100644
new mode 100755
diff --git a/stubdom/grub/mini-os.h b/stubdom/grub/mini-os.h
old mode 100644
new mode 100755
diff --git a/stubdom/grub/minios.cfg b/stubdom/grub/minios.cfg
old mode 100644
new mode 100755
diff --git a/stubdom/grub/osdep.h b/stubdom/grub/osdep.h
old mode 100644
new mode 100755
diff --git a/stubdom/ioemu-minios.cfg b/stubdom/ioemu-minios.cfg
old mode 100644
new mode 100755
diff --git a/stubdom/libpci.config.h b/stubdom/libpci.config.h
old mode 100644
new mode 100755
diff --git a/stubdom/libpci.config.mak b/stubdom/libpci.config.mak
old mode 100644
new mode 100755
diff --git a/stubdom/lwip.patch-cvs b/stubdom/lwip.patch-cvs
old mode 100644
new mode 100755
diff --git a/stubdom/newlib-chk.patch b/stubdom/newlib-chk.patch
old mode 100644
new mode 100755
diff --git a/stubdom/newlib-stdint-size_max-fix-from-1.17.0.patch b/stubdom/newlib-stdint-size_max-fix-from-1.17.0.patch
old mode 100644
new mode 100755
diff --git a/stubdom/newlib.patch b/stubdom/newlib.patch
old mode 100644
new mode 100755
diff --git a/stubdom/ocaml.patch b/stubdom/ocaml.patch
old mode 100644
new mode 100755
diff --git a/stubdom/pciutils.patch b/stubdom/pciutils.patch
old mode 100644
new mode 100755
diff --git a/stubdom/polarssl.patch b/stubdom/polarssl.patch
old mode 100644
new mode 100755
diff --git a/stubdom/stubdom-dm b/stubdom/stubdom-dm
old mode 100644
new mode 100755
diff --git a/stubdom/tpmemu-0.7.4.patch b/stubdom/tpmemu-0.7.4.patch
old mode 100644
new mode 100755
diff --git a/stubdom/vtpm-bufsize.patch b/stubdom/vtpm-bufsize.patch
old mode 100644
new mode 100755
diff --git a/stubdom/vtpm-locality.patch b/stubdom/vtpm-locality.patch
old mode 100644
new mode 100755
diff --git a/stubdom/vtpm/Makefile b/stubdom/vtpm/Makefile
old mode 100644
new mode 100755
diff --git a/stubdom/vtpm/README b/stubdom/vtpm/README
old mode 100644
new mode 100755
diff --git a/stubdom/vtpm/minios.cfg b/stubdom/vtpm/minios.cfg
old mode 100644
new mode 100755
diff --git a/stubdom/vtpm/vtpm.c b/stubdom/vtpm/vtpm.c
old mode 100644
new mode 100755
diff --git a/stubdom/vtpm/vtpm.h b/stubdom/vtpm/vtpm.h
old mode 100644
new mode 100755
diff --git a/stubdom/vtpm/vtpm_cmd.c b/stubdom/vtpm/vtpm_cmd.c
old mode 100644
new mode 100755
diff --git a/stubdom/vtpm/vtpm_cmd.h b/stubdom/vtpm/vtpm_cmd.h
old mode 100644
new mode 100755
diff --git a/stubdom/vtpm/vtpm_pcrs.c b/stubdom/vtpm/vtpm_pcrs.c
old mode 100644
new mode 100755
diff --git a/stubdom/vtpm/vtpm_pcrs.h b/stubdom/vtpm/vtpm_pcrs.h
old mode 100644
new mode 100755
diff --git a/stubdom/vtpm/vtpmblk.c b/stubdom/vtpm/vtpmblk.c
old mode 100644
new mode 100755
diff --git a/stubdom/vtpm/vtpmblk.h b/stubdom/vtpm/vtpmblk.h
old mode 100644
new mode 100755
diff --git a/stubdom/vtpmmgr/Makefile b/stubdom/vtpmmgr/Makefile
old mode 100644
new mode 100755
diff --git a/stubdom/vtpmmgr/README b/stubdom/vtpmmgr/README
old mode 100644
new mode 100755
diff --git a/stubdom/vtpmmgr/init.c b/stubdom/vtpmmgr/init.c
old mode 100644
new mode 100755
diff --git a/stubdom/vtpmmgr/log.c b/stubdom/vtpmmgr/log.c
old mode 100644
new mode 100755
diff --git a/stubdom/vtpmmgr/log.h b/stubdom/vtpmmgr/log.h
old mode 100644
new mode 100755
diff --git a/stubdom/vtpmmgr/marshal.h b/stubdom/vtpmmgr/marshal.h
old mode 100644
new mode 100755
diff --git a/stubdom/vtpmmgr/minios.cfg b/stubdom/vtpmmgr/minios.cfg
old mode 100644
new mode 100755
diff --git a/stubdom/vtpmmgr/tcg.h b/stubdom/vtpmmgr/tcg.h
old mode 100644
new mode 100755
diff --git a/stubdom/vtpmmgr/tpm.c b/stubdom/vtpmmgr/tpm.c
old mode 100644
new mode 100755
diff --git a/stubdom/vtpmmgr/tpm.h b/stubdom/vtpmmgr/tpm.h
old mode 100644
new mode 100755
diff --git a/stubdom/vtpmmgr/tpmrsa.c b/stubdom/vtpmmgr/tpmrsa.c
old mode 100644
new mode 100755
diff --git a/stubdom/vtpmmgr/tpmrsa.h b/stubdom/vtpmmgr/tpmrsa.h
old mode 100644
new mode 100755
diff --git a/stubdom/vtpmmgr/uuid.h b/stubdom/vtpmmgr/uuid.h
old mode 100644
new mode 100755
diff --git a/stubdom/vtpmmgr/vtpm_cmd_handler.c b/stubdom/vtpmmgr/vtpm_cmd_handler.c
old mode 100644
new mode 100755
diff --git a/stubdom/vtpmmgr/vtpm_manager.h b/stubdom/vtpmmgr/vtpm_manager.h
old mode 100644
new mode 100755
diff --git a/stubdom/vtpmmgr/vtpm_storage.c b/stubdom/vtpmmgr/vtpm_storage.c
old mode 100644
new mode 100755
diff --git a/stubdom/vtpmmgr/vtpm_storage.h b/stubdom/vtpmmgr/vtpm_storage.h
old mode 100644
new mode 100755
diff --git a/stubdom/vtpmmgr/vtpmmgr.c b/stubdom/vtpmmgr/vtpmmgr.c
old mode 100644
new mode 100755
diff --git a/stubdom/vtpmmgr/vtpmmgr.h b/stubdom/vtpmmgr/vtpmmgr.h
old mode 100644
new mode 100755
diff --git a/stubdom/xenstore-minios.cfg b/stubdom/xenstore-minios.cfg
old mode 100644
new mode 100755
diff --git a/tools/Makefile b/tools/Makefile
old mode 100644
new mode 100755
diff --git a/tools/Rules.mk b/tools/Rules.mk
old mode 100644
new mode 100755
diff --git a/tools/blktap/Makefile b/tools/blktap/Makefile
old mode 100644
new mode 100755
diff --git a/tools/blktap/README b/tools/blktap/README
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/Makefile b/tools/blktap/drivers/Makefile
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/aes.c b/tools/blktap/drivers/aes.c
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/aes.h b/tools/blktap/drivers/aes.h
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/blk.h b/tools/blktap/drivers/blk.h
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/blk_linux.c b/tools/blktap/drivers/blk_linux.c
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/blktapctrl.c b/tools/blktap/drivers/blktapctrl.c
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/blktapctrl.h b/tools/blktap/drivers/blktapctrl.h
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/blktapctrl_linux.c b/tools/blktap/drivers/blktapctrl_linux.c
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/block-aio.c b/tools/blktap/drivers/block-aio.c
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/block-qcow.c b/tools/blktap/drivers/block-qcow.c
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/block-qcow2.c b/tools/blktap/drivers/block-qcow2.c
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/block-ram.c b/tools/blktap/drivers/block-ram.c
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/block-sync.c b/tools/blktap/drivers/block-sync.c
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/block-vmdk.c b/tools/blktap/drivers/block-vmdk.c
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/bswap.h b/tools/blktap/drivers/bswap.h
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/img2qcow.c b/tools/blktap/drivers/img2qcow.c
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/qcow-create.c b/tools/blktap/drivers/qcow-create.c
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/qcow2raw.c b/tools/blktap/drivers/qcow2raw.c
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/tapaio.c b/tools/blktap/drivers/tapaio.c
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/tapaio.h b/tools/blktap/drivers/tapaio.h
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/tapdisk.c b/tools/blktap/drivers/tapdisk.c
old mode 100644
new mode 100755
diff --git a/tools/blktap/drivers/tapdisk.h b/tools/blktap/drivers/tapdisk.h
old mode 100644
new mode 100755
diff --git a/tools/blktap/lib/Makefile b/tools/blktap/lib/Makefile
old mode 100644
new mode 100755
diff --git a/tools/blktap/lib/blkif.c b/tools/blktap/lib/blkif.c
old mode 100644
new mode 100755
diff --git a/tools/blktap/lib/blktaplib.h b/tools/blktap/lib/blktaplib.h
old mode 100644
new mode 100755
diff --git a/tools/blktap/lib/list.h b/tools/blktap/lib/list.h
old mode 100644
new mode 100755
diff --git a/tools/blktap/lib/xenbus.c b/tools/blktap/lib/xenbus.c
old mode 100644
new mode 100755
diff --git a/tools/blktap/lib/xs_api.c b/tools/blktap/lib/xs_api.c
old mode 100644
new mode 100755
diff --git a/tools/blktap/lib/xs_api.h b/tools/blktap/lib/xs_api.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/Makefile b/tools/blktap2/Makefile
old mode 100644
new mode 100755
diff --git a/tools/blktap2/README b/tools/blktap2/README
old mode 100644
new mode 100755
diff --git a/tools/blktap2/control/Makefile b/tools/blktap2/control/Makefile
old mode 100644
new mode 100755
diff --git a/tools/blktap2/control/tap-ctl-allocate.c b/tools/blktap2/control/tap-ctl-allocate.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/control/tap-ctl-attach.c b/tools/blktap2/control/tap-ctl-attach.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/control/tap-ctl-check.c b/tools/blktap2/control/tap-ctl-check.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/control/tap-ctl-close.c b/tools/blktap2/control/tap-ctl-close.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/control/tap-ctl-create.c b/tools/blktap2/control/tap-ctl-create.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/control/tap-ctl-destroy.c b/tools/blktap2/control/tap-ctl-destroy.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/control/tap-ctl-detach.c b/tools/blktap2/control/tap-ctl-detach.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/control/tap-ctl-free.c b/tools/blktap2/control/tap-ctl-free.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/control/tap-ctl-ipc.c b/tools/blktap2/control/tap-ctl-ipc.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/control/tap-ctl-list.c b/tools/blktap2/control/tap-ctl-list.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/control/tap-ctl-major.c b/tools/blktap2/control/tap-ctl-major.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/control/tap-ctl-open.c b/tools/blktap2/control/tap-ctl-open.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/control/tap-ctl-pause.c b/tools/blktap2/control/tap-ctl-pause.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/control/tap-ctl-spawn.c b/tools/blktap2/control/tap-ctl-spawn.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/control/tap-ctl-unpause.c b/tools/blktap2/control/tap-ctl-unpause.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/control/tap-ctl.c b/tools/blktap2/control/tap-ctl.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/control/tap-ctl.h b/tools/blktap2/control/tap-ctl.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/Makefile b/tools/blktap2/drivers/Makefile
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/aes.c b/tools/blktap2/drivers/aes.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/aes.h b/tools/blktap2/drivers/aes.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/atomicio.c b/tools/blktap2/drivers/atomicio.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/blk.h b/tools/blktap2/drivers/blk.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/blk_linux.c b/tools/blktap2/drivers/blk_linux.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/blk_netbsd.c b/tools/blktap2/drivers/blk_netbsd.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/block-aio.c b/tools/blktap2/drivers/block-aio.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/block-cache.c b/tools/blktap2/drivers/block-cache.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/block-log.c b/tools/blktap2/drivers/block-log.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/block-qcow.c b/tools/blktap2/drivers/block-qcow.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/block-ram.c b/tools/blktap2/drivers/block-ram.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/block-remus.c b/tools/blktap2/drivers/block-remus.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/block-vhd.c b/tools/blktap2/drivers/block-vhd.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/bswap.h b/tools/blktap2/drivers/bswap.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/check_gcrypt b/tools/blktap2/drivers/check_gcrypt
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/hashtable.c b/tools/blktap2/drivers/hashtable.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/hashtable.h b/tools/blktap2/drivers/hashtable.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/hashtable_itr.c b/tools/blktap2/drivers/hashtable_itr.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/hashtable_itr.h b/tools/blktap2/drivers/hashtable_itr.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/hashtable_private.h b/tools/blktap2/drivers/hashtable_private.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/hashtable_utility.c b/tools/blktap2/drivers/hashtable_utility.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/hashtable_utility.h b/tools/blktap2/drivers/hashtable_utility.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/img2qcow.c b/tools/blktap2/drivers/img2qcow.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/io-optimize.c b/tools/blktap2/drivers/io-optimize.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/io-optimize.h b/tools/blktap2/drivers/io-optimize.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/libaio-compat.h b/tools/blktap2/drivers/libaio-compat.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/lock.c b/tools/blktap2/drivers/lock.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/lock.h b/tools/blktap2/drivers/lock.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/log.h b/tools/blktap2/drivers/log.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/md5.c b/tools/blktap2/drivers/md5.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/md5.h b/tools/blktap2/drivers/md5.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/profile.h b/tools/blktap2/drivers/profile.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/qcow-create.c b/tools/blktap2/drivers/qcow-create.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/qcow.h b/tools/blktap2/drivers/qcow.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/qcow2raw.c b/tools/blktap2/drivers/qcow2raw.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/scheduler.c b/tools/blktap2/drivers/scheduler.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/scheduler.h b/tools/blktap2/drivers/scheduler.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-client.c b/tools/blktap2/drivers/tapdisk-client.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-control.c b/tools/blktap2/drivers/tapdisk-control.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-control.h b/tools/blktap2/drivers/tapdisk-control.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-diff.c b/tools/blktap2/drivers/tapdisk-diff.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-disktype.c b/tools/blktap2/drivers/tapdisk-disktype.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-disktype.h b/tools/blktap2/drivers/tapdisk-disktype.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-driver.c b/tools/blktap2/drivers/tapdisk-driver.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-driver.h b/tools/blktap2/drivers/tapdisk-driver.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-filter.c b/tools/blktap2/drivers/tapdisk-filter.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-filter.h b/tools/blktap2/drivers/tapdisk-filter.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-image.c b/tools/blktap2/drivers/tapdisk-image.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-image.h b/tools/blktap2/drivers/tapdisk-image.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-interface.c b/tools/blktap2/drivers/tapdisk-interface.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-interface.h b/tools/blktap2/drivers/tapdisk-interface.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-log.c b/tools/blktap2/drivers/tapdisk-log.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-log.h b/tools/blktap2/drivers/tapdisk-log.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-queue.c b/tools/blktap2/drivers/tapdisk-queue.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-queue.h b/tools/blktap2/drivers/tapdisk-queue.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-ring.c b/tools/blktap2/drivers/tapdisk-ring.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-ring.h b/tools/blktap2/drivers/tapdisk-ring.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-server.c b/tools/blktap2/drivers/tapdisk-server.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-server.h b/tools/blktap2/drivers/tapdisk-server.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-stream.c b/tools/blktap2/drivers/tapdisk-stream.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-utils.c b/tools/blktap2/drivers/tapdisk-utils.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-utils.h b/tools/blktap2/drivers/tapdisk-utils.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-vbd.c b/tools/blktap2/drivers/tapdisk-vbd.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk-vbd.h b/tools/blktap2/drivers/tapdisk-vbd.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk.h b/tools/blktap2/drivers/tapdisk.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/tapdisk2.c b/tools/blktap2/drivers/tapdisk2.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/td.c b/tools/blktap2/drivers/td.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/drivers/xmsnap b/tools/blktap2/drivers/xmsnap
old mode 100644
new mode 100755
diff --git a/tools/blktap2/include/Makefile b/tools/blktap2/include/Makefile
old mode 100644
new mode 100755
diff --git a/tools/blktap2/include/atomicio.h b/tools/blktap2/include/atomicio.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/include/blktap2.h b/tools/blktap2/include/blktap2.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/include/blktaplib.h b/tools/blktap2/include/blktaplib.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/include/libvhd-journal.h b/tools/blktap2/include/libvhd-journal.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/include/libvhd.h b/tools/blktap2/include/libvhd.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/include/list.h b/tools/blktap2/include/list.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/include/lvm-util.h b/tools/blktap2/include/lvm-util.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/include/relative-path.h b/tools/blktap2/include/relative-path.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/include/tapdisk-message.h b/tools/blktap2/include/tapdisk-message.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/include/vhd-util.h b/tools/blktap2/include/vhd-util.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/include/vhd-uuid.h b/tools/blktap2/include/vhd-uuid.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/include/vhd.h b/tools/blktap2/include/vhd.h
old mode 100644
new mode 100755
diff --git a/tools/blktap2/lvm/Makefile b/tools/blktap2/lvm/Makefile
old mode 100644
new mode 100755
diff --git a/tools/blktap2/lvm/lvm-util.c b/tools/blktap2/lvm/lvm-util.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/Makefile b/tools/blktap2/vhd/Makefile
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/lib/Makefile b/tools/blktap2/vhd/lib/Makefile
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/lib/atomicio.c b/tools/blktap2/vhd/lib/atomicio.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/lib/libvhd-journal.c b/tools/blktap2/vhd/lib/libvhd-journal.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/lib/libvhd.c b/tools/blktap2/vhd/lib/libvhd.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/lib/relative-path.c b/tools/blktap2/vhd/lib/relative-path.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/lib/vhd-util-check.c b/tools/blktap2/vhd/lib/vhd-util-check.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/lib/vhd-util-coalesce.c b/tools/blktap2/vhd/lib/vhd-util-coalesce.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/lib/vhd-util-create.c b/tools/blktap2/vhd/lib/vhd-util-create.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/lib/vhd-util-fill.c b/tools/blktap2/vhd/lib/vhd-util-fill.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/lib/vhd-util-modify.c b/tools/blktap2/vhd/lib/vhd-util-modify.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/lib/vhd-util-query.c b/tools/blktap2/vhd/lib/vhd-util-query.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/lib/vhd-util-read.c b/tools/blktap2/vhd/lib/vhd-util-read.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/lib/vhd-util-repair.c b/tools/blktap2/vhd/lib/vhd-util-repair.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/lib/vhd-util-resize.c b/tools/blktap2/vhd/lib/vhd-util-resize.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/lib/vhd-util-revert.c b/tools/blktap2/vhd/lib/vhd-util-revert.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/lib/vhd-util-scan.c b/tools/blktap2/vhd/lib/vhd-util-scan.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/lib/vhd-util-set-field.c b/tools/blktap2/vhd/lib/vhd-util-set-field.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/lib/vhd-util-snapshot.c b/tools/blktap2/vhd/lib/vhd-util-snapshot.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/lib/vhd-util-uuid.c b/tools/blktap2/vhd/lib/vhd-util-uuid.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/vhd-update.c b/tools/blktap2/vhd/vhd-update.c
old mode 100644
new mode 100755
diff --git a/tools/blktap2/vhd/vhd-util.c b/tools/blktap2/vhd/vhd-util.c
old mode 100644
new mode 100755
diff --git a/tools/config.h.in b/tools/config.h.in
old mode 100644
new mode 100755
diff --git a/tools/configure.ac b/tools/configure.ac
old mode 100644
new mode 100755
diff --git a/tools/console/Makefile b/tools/console/Makefile
old mode 100644
new mode 100755
diff --git a/tools/console/client/main.c b/tools/console/client/main.c
old mode 100644
new mode 100755
diff --git a/tools/console/daemon/io.c b/tools/console/daemon/io.c
old mode 100644
new mode 100755
diff --git a/tools/console/daemon/io.h b/tools/console/daemon/io.h
old mode 100644
new mode 100755
diff --git a/tools/console/daemon/main.c b/tools/console/daemon/main.c
old mode 100644
new mode 100755
diff --git a/tools/console/daemon/utils.c b/tools/console/daemon/utils.c
old mode 100644
new mode 100755
diff --git a/tools/console/daemon/utils.h b/tools/console/daemon/utils.h
old mode 100644
new mode 100755
diff --git a/tools/console/testsuite/Makefile b/tools/console/testsuite/Makefile
old mode 100644
new mode 100755
diff --git a/tools/console/testsuite/README b/tools/console/testsuite/README
old mode 100644
new mode 100755
diff --git a/tools/console/testsuite/console-dom0.c b/tools/console/testsuite/console-dom0.c
old mode 100644
new mode 100755
diff --git a/tools/console/testsuite/console-domU.c b/tools/console/testsuite/console-domU.c
old mode 100644
new mode 100755
diff --git a/tools/console/testsuite/procpipe.c b/tools/console/testsuite/procpipe.c
old mode 100644
new mode 100755
diff --git a/tools/debugger/gdbsx/Makefile b/tools/debugger/gdbsx/Makefile
old mode 100644
new mode 100755
diff --git a/tools/debugger/gdbsx/README b/tools/debugger/gdbsx/README
old mode 100644
new mode 100755
diff --git a/tools/debugger/gdbsx/Rules.mk b/tools/debugger/gdbsx/Rules.mk
old mode 100644
new mode 100755
diff --git a/tools/debugger/gdbsx/gx/Makefile b/tools/debugger/gdbsx/gx/Makefile
old mode 100644
new mode 100755
diff --git a/tools/debugger/gdbsx/gx/gx.h b/tools/debugger/gdbsx/gx/gx.h
old mode 100644
new mode 100755
diff --git a/tools/debugger/gdbsx/gx/gx_comm.c b/tools/debugger/gdbsx/gx/gx_comm.c
old mode 100644
new mode 100755
diff --git a/tools/debugger/gdbsx/gx/gx_local.c b/tools/debugger/gdbsx/gx/gx_local.c
old mode 100644
new mode 100755
diff --git a/tools/debugger/gdbsx/gx/gx_main.c b/tools/debugger/gdbsx/gx/gx_main.c
old mode 100644
new mode 100755
diff --git a/tools/debugger/gdbsx/gx/gx_utils.c b/tools/debugger/gdbsx/gx/gx_utils.c
old mode 100644
new mode 100755
diff --git a/tools/debugger/gdbsx/gx/xg_dummy.c b/tools/debugger/gdbsx/gx/xg_dummy.c
old mode 100644
new mode 100755
diff --git a/tools/debugger/gdbsx/xg/Makefile b/tools/debugger/gdbsx/xg/Makefile
old mode 100644
new mode 100755
diff --git a/tools/debugger/gdbsx/xg/xg_main.c b/tools/debugger/gdbsx/xg/xg_main.c
old mode 100644
new mode 100755
diff --git a/tools/debugger/gdbsx/xg/xg_public.h b/tools/debugger/gdbsx/xg/xg_public.h
old mode 100644
new mode 100755
diff --git a/tools/debugger/kdd/Makefile b/tools/debugger/kdd/Makefile
old mode 100644
new mode 100755
diff --git a/tools/debugger/kdd/kdd-xen.c b/tools/debugger/kdd/kdd-xen.c
old mode 100644
new mode 100755
diff --git a/tools/debugger/kdd/kdd.c b/tools/debugger/kdd/kdd.c
old mode 100644
new mode 100755
diff --git a/tools/debugger/kdd/kdd.h b/tools/debugger/kdd/kdd.h
old mode 100644
new mode 100755
diff --git a/tools/examples/Makefile b/tools/examples/Makefile
old mode 100644
new mode 100755
diff --git a/tools/examples/README b/tools/examples/README
old mode 100644
new mode 100755
diff --git a/tools/examples/README.incompatibilities b/tools/examples/README.incompatibilities
old mode 100644
new mode 100755
diff --git a/tools/examples/cpupool b/tools/examples/cpupool
old mode 100644
new mode 100755
diff --git a/tools/examples/vnc/Xservers b/tools/examples/vnc/Xservers
old mode 100644
new mode 100755
diff --git a/tools/examples/xend-config.sxp b/tools/examples/xend-config.sxp
old mode 100644
new mode 100755
diff --git a/tools/examples/xend-pci-permissive.sxp b/tools/examples/xend-pci-permissive.sxp
old mode 100644
new mode 100755
diff --git a/tools/examples/xend-pci-quirks.sxp b/tools/examples/xend-pci-quirks.sxp
old mode 100644
new mode 100755
diff --git a/tools/examples/xeninfo.pl b/tools/examples/xeninfo.pl
old mode 100644
new mode 100755
diff --git a/tools/examples/xl.conf b/tools/examples/xl.conf
old mode 100644
new mode 100755
diff --git a/tools/examples/xlexample.hvm b/tools/examples/xlexample.hvm
old mode 100644
new mode 100755
diff --git a/tools/examples/xlexample.pvlinux b/tools/examples/xlexample.pvlinux
old mode 100644
new mode 100755
diff --git a/tools/examples/xm-config.xml b/tools/examples/xm-config.xml
old mode 100644
new mode 100755
diff --git a/tools/examples/xmexample.hvm b/tools/examples/xmexample.hvm
old mode 100644
new mode 100755
diff --git a/tools/examples/xmexample.hvm-stubdom b/tools/examples/xmexample.hvm-stubdom
old mode 100644
new mode 100755
diff --git a/tools/examples/xmexample.nbd b/tools/examples/xmexample.nbd
old mode 100644
new mode 100755
diff --git a/tools/examples/xmexample.pv-grub b/tools/examples/xmexample.pv-grub
old mode 100644
new mode 100755
diff --git a/tools/examples/xmexample.vti b/tools/examples/xmexample.vti
old mode 100644
new mode 100755
diff --git a/tools/examples/xmexample1 b/tools/examples/xmexample1
old mode 100644
new mode 100755
diff --git a/tools/examples/xmexample2 b/tools/examples/xmexample2
old mode 100644
new mode 100755
diff --git a/tools/examples/xmexample3 b/tools/examples/xmexample3
old mode 100644
new mode 100755
diff --git a/tools/firmware/Makefile b/tools/firmware/Makefile
old mode 100644
new mode 100755
diff --git a/tools/firmware/Rules.mk b/tools/firmware/Rules.mk
old mode 100644
new mode 100755
diff --git a/tools/firmware/etherboot/Config b/tools/firmware/etherboot/Config
old mode 100644
new mode 100755
diff --git a/tools/firmware/etherboot/Makefile b/tools/firmware/etherboot/Makefile
old mode 100644
new mode 100755
diff --git a/tools/firmware/etherboot/README b/tools/firmware/etherboot/README
old mode 100644
new mode 100755
diff --git a/tools/firmware/etherboot/patches/boot_prompt_option.patch b/tools/firmware/etherboot/patches/boot_prompt_option.patch
old mode 100644
new mode 100755
diff --git a/tools/firmware/etherboot/patches/build_fix_1.patch b/tools/firmware/etherboot/patches/build_fix_1.patch
old mode 100644
new mode 100755
diff --git a/tools/firmware/etherboot/patches/build_fix_2.patch b/tools/firmware/etherboot/patches/build_fix_2.patch
old mode 100644
new mode 100755
diff --git a/tools/firmware/etherboot/patches/build_fix_3.patch b/tools/firmware/etherboot/patches/build_fix_3.patch
old mode 100644
new mode 100755
diff --git a/tools/firmware/etherboot/patches/series b/tools/firmware/etherboot/patches/series
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/32bitbios_support.c b/tools/firmware/hvmloader/32bitbios_support.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/Makefile b/tools/firmware/hvmloader/Makefile
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/acpi/Makefile b/tools/firmware/hvmloader/acpi/Makefile
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/acpi/README b/tools/firmware/hvmloader/acpi/README
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/acpi/acpi2_0.h b/tools/firmware/hvmloader/acpi/acpi2_0.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/acpi/build.c b/tools/firmware/hvmloader/acpi/build.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/acpi/dsdt.asl b/tools/firmware/hvmloader/acpi/dsdt.asl
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/acpi/mk_dsdt.c b/tools/firmware/hvmloader/acpi/mk_dsdt.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/acpi/ssdt_pm.asl b/tools/firmware/hvmloader/acpi/ssdt_pm.asl
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/acpi/ssdt_s3.asl b/tools/firmware/hvmloader/acpi/ssdt_s3.asl
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/acpi/ssdt_s4.asl b/tools/firmware/hvmloader/acpi/ssdt_s4.asl
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/acpi/ssdt_tpm.asl b/tools/firmware/hvmloader/acpi/ssdt_tpm.asl
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/acpi/static_tables.c b/tools/firmware/hvmloader/acpi/static_tables.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/apic_regs.h b/tools/firmware/hvmloader/apic_regs.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/cacheattr.c b/tools/firmware/hvmloader/cacheattr.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/config-seabios.h b/tools/firmware/hvmloader/config-seabios.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/config.h b/tools/firmware/hvmloader/config.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/ctype.c b/tools/firmware/hvmloader/ctype.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/ctype.h b/tools/firmware/hvmloader/ctype.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/e820.c b/tools/firmware/hvmloader/e820.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/e820.h b/tools/firmware/hvmloader/e820.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/hvmloader.c b/tools/firmware/hvmloader/hvmloader.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/hypercall.h b/tools/firmware/hvmloader/hypercall.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/mp_tables.c b/tools/firmware/hvmloader/mp_tables.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/option_rom.h b/tools/firmware/hvmloader/option_rom.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/optionroms.c b/tools/firmware/hvmloader/optionroms.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/ovmf.c b/tools/firmware/hvmloader/ovmf.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/pci.c b/tools/firmware/hvmloader/pci.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/pci_regs.h b/tools/firmware/hvmloader/pci_regs.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/pir.c b/tools/firmware/hvmloader/pir.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/pir_types.h b/tools/firmware/hvmloader/pir_types.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/rombios.c b/tools/firmware/hvmloader/rombios.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/seabios.c b/tools/firmware/hvmloader/seabios.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/smbios.c b/tools/firmware/hvmloader/smbios.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/smbios_types.h b/tools/firmware/hvmloader/smbios_types.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/smp.c b/tools/firmware/hvmloader/smp.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/tests.c b/tools/firmware/hvmloader/tests.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/util.c b/tools/firmware/hvmloader/util.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/util.h b/tools/firmware/hvmloader/util.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/hvmloader/xenbus.c b/tools/firmware/hvmloader/xenbus.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/ovmf-makefile b/tools/firmware/ovmf-makefile
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/32bit/32bitbios.c b/tools/firmware/rombios/32bit/32bitbios.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/32bit/Makefile b/tools/firmware/rombios/32bit/Makefile
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/32bit/mkhex b/tools/firmware/rombios/32bit/mkhex
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/32bit/pmm.c b/tools/firmware/rombios/32bit/pmm.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/32bit/rombios_compat.h b/tools/firmware/rombios/32bit/rombios_compat.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/32bit/tcgbios/Makefile b/tools/firmware/rombios/32bit/tcgbios/Makefile
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/32bit/tcgbios/tcgbios.c b/tools/firmware/rombios/32bit/tcgbios/tcgbios.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/32bit/tcgbios/tcgbios.h b/tools/firmware/rombios/32bit/tcgbios/tcgbios.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/32bit/tcgbios/tpm_drivers.c b/tools/firmware/rombios/32bit/tcgbios/tpm_drivers.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/32bit/tcgbios/tpm_drivers.h b/tools/firmware/rombios/32bit/tcgbios/tpm_drivers.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/32bit/util.c b/tools/firmware/rombios/32bit/util.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/32bit/util.h b/tools/firmware/rombios/32bit/util.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/32bitgateway.c b/tools/firmware/rombios/32bitgateway.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/32bitprotos.h b/tools/firmware/rombios/32bitprotos.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/Makefile b/tools/firmware/rombios/Makefile
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/apmbios.S b/tools/firmware/rombios/apmbios.S
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/biossums.c b/tools/firmware/rombios/biossums.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/config.h b/tools/firmware/rombios/config.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/e820.h b/tools/firmware/rombios/e820.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/rombios.c b/tools/firmware/rombios/rombios.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/rombios.h b/tools/firmware/rombios/rombios.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/rombios/tcgbios.c b/tools/firmware/rombios/tcgbios.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/seabios-config b/tools/firmware/seabios-config
old mode 100644
new mode 100755
diff --git a/tools/firmware/vgabios/BUGS b/tools/firmware/vgabios/BUGS
old mode 100644
new mode 100755
diff --git a/tools/firmware/vgabios/COPYING b/tools/firmware/vgabios/COPYING
old mode 100644
new mode 100755
diff --git a/tools/firmware/vgabios/ChangeLog b/tools/firmware/vgabios/ChangeLog
old mode 100644
new mode 100755
diff --git a/tools/firmware/vgabios/Makefile b/tools/firmware/vgabios/Makefile
old mode 100644
new mode 100755
diff --git a/tools/firmware/vgabios/Notes b/tools/firmware/vgabios/Notes
old mode 100644
new mode 100755
diff --git a/tools/firmware/vgabios/README b/tools/firmware/vgabios/README
old mode 100644
new mode 100755
diff --git a/tools/firmware/vgabios/TODO b/tools/firmware/vgabios/TODO
old mode 100644
new mode 100755
diff --git a/tools/firmware/vgabios/biossums.c b/tools/firmware/vgabios/biossums.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/vgabios/clext.c b/tools/firmware/vgabios/clext.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/vgabios/vbe.c b/tools/firmware/vgabios/vbe.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/vgabios/vbe.h b/tools/firmware/vgabios/vbe.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/vgabios/vbe_display_api.txt b/tools/firmware/vgabios/vbe_display_api.txt
old mode 100644
new mode 100755
diff --git a/tools/firmware/vgabios/vbetables-gen.c b/tools/firmware/vgabios/vbetables-gen.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/vgabios/vgabios.c b/tools/firmware/vgabios/vgabios.c
old mode 100644
new mode 100755
diff --git a/tools/firmware/vgabios/vgabios.h b/tools/firmware/vgabios/vgabios.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/vgabios/vgafonts.h b/tools/firmware/vgabios/vgafonts.h
old mode 100644
new mode 100755
diff --git a/tools/firmware/vgabios/vgatables.h b/tools/firmware/vgabios/vgatables.h
old mode 100644
new mode 100755
diff --git a/tools/flask/Makefile b/tools/flask/Makefile
old mode 100644
new mode 100755
diff --git a/tools/flask/policy/Makefile b/tools/flask/policy/Makefile
old mode 100644
new mode 100755
diff --git a/tools/flask/policy/policy/access_vectors b/tools/flask/policy/policy/access_vectors
old mode 100644
new mode 100755
diff --git a/tools/flask/policy/policy/constraints b/tools/flask/policy/policy/constraints
old mode 100644
new mode 100755
diff --git a/tools/flask/policy/policy/global_tunables b/tools/flask/policy/policy/global_tunables
old mode 100644
new mode 100755
diff --git a/tools/flask/policy/policy/initial_sids b/tools/flask/policy/policy/initial_sids
old mode 100644
new mode 100755
diff --git a/tools/flask/policy/policy/mls b/tools/flask/policy/policy/mls
old mode 100644
new mode 100755
diff --git a/tools/flask/policy/policy/modules.conf b/tools/flask/policy/policy/modules.conf
old mode 100644
new mode 100755
diff --git a/tools/flask/policy/policy/modules/xen/xen.if b/tools/flask/policy/policy/modules/xen/xen.if
old mode 100644
new mode 100755
diff --git a/tools/flask/policy/policy/modules/xen/xen.te b/tools/flask/policy/policy/modules/xen/xen.te
old mode 100644
new mode 100755
diff --git a/tools/flask/policy/policy/security_classes b/tools/flask/policy/policy/security_classes
old mode 100644
new mode 100755
diff --git a/tools/flask/policy/policy/support/loadable_module.spt b/tools/flask/policy/policy/support/loadable_module.spt
old mode 100644
new mode 100755
diff --git a/tools/flask/policy/policy/support/misc_macros.spt b/tools/flask/policy/policy/support/misc_macros.spt
old mode 100644
new mode 100755
diff --git a/tools/flask/policy/policy/support/mls_macros.spt b/tools/flask/policy/policy/support/mls_macros.spt
old mode 100644
new mode 100755
diff --git a/tools/flask/policy/policy/users b/tools/flask/policy/policy/users
old mode 100644
new mode 100755
diff --git a/tools/flask/utils/Makefile b/tools/flask/utils/Makefile
old mode 100644
new mode 100755
diff --git a/tools/flask/utils/get-bool.c b/tools/flask/utils/get-bool.c
old mode 100644
new mode 100755
diff --git a/tools/flask/utils/getenforce.c b/tools/flask/utils/getenforce.c
old mode 100644
new mode 100755
diff --git a/tools/flask/utils/label-pci.c b/tools/flask/utils/label-pci.c
old mode 100644
new mode 100755
diff --git a/tools/flask/utils/loadpolicy.c b/tools/flask/utils/loadpolicy.c
old mode 100644
new mode 100755
diff --git a/tools/flask/utils/set-bool.c b/tools/flask/utils/set-bool.c
old mode 100644
new mode 100755
diff --git a/tools/flask/utils/setenforce.c b/tools/flask/utils/setenforce.c
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/Makefile b/tools/hotplug/Linux/Makefile
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/blktap b/tools/hotplug/Linux/blktap
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/block b/tools/hotplug/Linux/block
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/block-common.sh b/tools/hotplug/Linux/block-common.sh
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/block-enbd b/tools/hotplug/Linux/block-enbd
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/block-iscsi b/tools/hotplug/Linux/block-iscsi
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/block-nbd b/tools/hotplug/Linux/block-nbd
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/external-device-migrate b/tools/hotplug/Linux/external-device-migrate
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/init.d/sysconfig.xencommons b/tools/hotplug/Linux/init.d/sysconfig.xencommons
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/init.d/sysconfig.xendomains b/tools/hotplug/Linux/init.d/sysconfig.xendomains
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/init.d/xen-watchdog b/tools/hotplug/Linux/init.d/xen-watchdog
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/init.d/xencommons b/tools/hotplug/Linux/init.d/xencommons
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/init.d/xendomains b/tools/hotplug/Linux/init.d/xendomains
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/locking.sh b/tools/hotplug/Linux/locking.sh
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/logging.sh b/tools/hotplug/Linux/logging.sh
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/network-bridge b/tools/hotplug/Linux/network-bridge
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/network-nat b/tools/hotplug/Linux/network-nat
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/network-route b/tools/hotplug/Linux/network-route
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/vif-bridge b/tools/hotplug/Linux/vif-bridge
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/vif-common.sh b/tools/hotplug/Linux/vif-common.sh
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/vif-nat b/tools/hotplug/Linux/vif-nat
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/vif-openvswitch b/tools/hotplug/Linux/vif-openvswitch
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/vif-post.d/00-vif-local.hook b/tools/hotplug/Linux/vif-post.d/00-vif-local.hook
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/vif-route b/tools/hotplug/Linux/vif-route
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/vif-setup b/tools/hotplug/Linux/vif-setup
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/vif2 b/tools/hotplug/Linux/vif2
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/vscsi b/tools/hotplug/Linux/vscsi
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/xen-backend.rules b/tools/hotplug/Linux/xen-backend.rules
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/xen-hotplug-cleanup b/tools/hotplug/Linux/xen-hotplug-cleanup
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/xen-hotplug-common.sh b/tools/hotplug/Linux/xen-hotplug-common.sh
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/xen-network-common.sh b/tools/hotplug/Linux/xen-network-common.sh
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/xen-script-common.sh b/tools/hotplug/Linux/xen-script-common.sh
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Linux/xend.rules b/tools/hotplug/Linux/xend.rules
old mode 100644
new mode 100755
diff --git a/tools/hotplug/Makefile b/tools/hotplug/Makefile
old mode 100644
new mode 100755
diff --git a/tools/hotplug/NetBSD/Makefile b/tools/hotplug/NetBSD/Makefile
old mode 100644
new mode 100755
diff --git a/tools/hotplug/NetBSD/block b/tools/hotplug/NetBSD/block
old mode 100644
new mode 100755
diff --git a/tools/hotplug/NetBSD/rc.d/xen-watchdog b/tools/hotplug/NetBSD/rc.d/xen-watchdog
old mode 100644
new mode 100755
diff --git a/tools/hotplug/NetBSD/rc.d/xencommons b/tools/hotplug/NetBSD/rc.d/xencommons
old mode 100644
new mode 100755
diff --git a/tools/hotplug/NetBSD/rc.d/xend b/tools/hotplug/NetBSD/rc.d/xend
old mode 100644
new mode 100755
diff --git a/tools/hotplug/NetBSD/rc.d/xendomains b/tools/hotplug/NetBSD/rc.d/xendomains
old mode 100644
new mode 100755
diff --git a/tools/hotplug/NetBSD/vif-bridge b/tools/hotplug/NetBSD/vif-bridge
old mode 100644
new mode 100755
diff --git a/tools/hotplug/NetBSD/vif-ip b/tools/hotplug/NetBSD/vif-ip
old mode 100644
new mode 100755
diff --git a/tools/hotplug/common/Makefile b/tools/hotplug/common/Makefile
old mode 100644
new mode 100755
diff --git a/tools/include/Makefile b/tools/include/Makefile
old mode 100644
new mode 100755
diff --git a/tools/include/xen-external/README b/tools/include/xen-external/README
old mode 100644
new mode 100755
diff --git a/tools/include/xen-external/bsd-COPYRIGHT b/tools/include/xen-external/bsd-COPYRIGHT
old mode 100644
new mode 100755
diff --git a/tools/include/xen-external/bsd-queue.3 b/tools/include/xen-external/bsd-queue.3
old mode 100644
new mode 100755
diff --git a/tools/include/xen-external/bsd-sys-queue.h b/tools/include/xen-external/bsd-sys-queue.h
old mode 100644
new mode 100755
diff --git a/tools/include/xen-foreign/Makefile b/tools/include/xen-foreign/Makefile
old mode 100644
new mode 100755
diff --git a/tools/include/xen-foreign/mkchecker.py b/tools/include/xen-foreign/mkchecker.py
old mode 100644
new mode 100755
diff --git a/tools/include/xen-foreign/mkheader.py b/tools/include/xen-foreign/mkheader.py
old mode 100644
new mode 100755
diff --git a/tools/include/xen-foreign/reference.size b/tools/include/xen-foreign/reference.size
old mode 100644
new mode 100755
diff --git a/tools/include/xen-foreign/structs.py b/tools/include/xen-foreign/structs.py
old mode 100644
new mode 100755
diff --git a/tools/include/xen-sys/Linux/evtchn.h b/tools/include/xen-sys/Linux/evtchn.h
old mode 100644
new mode 100755
diff --git a/tools/include/xen-sys/Linux/gntalloc.h b/tools/include/xen-sys/Linux/gntalloc.h
old mode 100644
new mode 100755
diff --git a/tools/include/xen-sys/Linux/gntdev.h b/tools/include/xen-sys/Linux/gntdev.h
old mode 100644
new mode 100755
diff --git a/tools/include/xen-sys/Linux/privcmd.h b/tools/include/xen-sys/Linux/privcmd.h
old mode 100644
new mode 100755
diff --git a/tools/include/xen-sys/Linux/xenbus_dev.h b/tools/include/xen-sys/Linux/xenbus_dev.h
old mode 100644
new mode 100755
diff --git a/tools/include/xen-sys/MiniOS/privcmd.h b/tools/include/xen-sys/MiniOS/privcmd.h
old mode 100644
new mode 100755
diff --git a/tools/include/xen-sys/NetBSD/evtchn.h b/tools/include/xen-sys/NetBSD/evtchn.h
old mode 100644
new mode 100755
diff --git a/tools/include/xen-sys/NetBSD/privcmd.h b/tools/include/xen-sys/NetBSD/privcmd.h
old mode 100644
new mode 100755
diff --git a/tools/include/xen-sys/SunOS/evtchn.h b/tools/include/xen-sys/SunOS/evtchn.h
old mode 100644
new mode 100755
diff --git a/tools/include/xen-sys/SunOS/privcmd.h b/tools/include/xen-sys/SunOS/privcmd.h
old mode 100644
new mode 100755
diff --git a/tools/include/xen-sys/SunOS/xenbus.h b/tools/include/xen-sys/SunOS/xenbus.h
old mode 100644
new mode 100755
diff --git a/tools/libaio/COPYING b/tools/libaio/COPYING
old mode 100644
new mode 100755
diff --git a/tools/libaio/ChangeLog b/tools/libaio/ChangeLog
old mode 100644
new mode 100755
diff --git a/tools/libaio/INSTALL b/tools/libaio/INSTALL
old mode 100644
new mode 100755
diff --git a/tools/libaio/Makefile b/tools/libaio/Makefile
old mode 100644
new mode 100755
diff --git a/tools/libaio/TODO b/tools/libaio/TODO
old mode 100644
new mode 100755
diff --git a/tools/libaio/harness/Makefile b/tools/libaio/harness/Makefile
old mode 100644
new mode 100755
diff --git a/tools/libaio/harness/README b/tools/libaio/harness/README
old mode 100644
new mode 100755
diff --git a/tools/libaio/harness/attic/0.t b/tools/libaio/harness/attic/0.t
old mode 100644
new mode 100755
diff --git a/tools/libaio/harness/attic/1.t b/tools/libaio/harness/attic/1.t
old mode 100644
new mode 100755
diff --git a/tools/libaio/harness/cases/10.t b/tools/libaio/harness/cases/10.t
old mode 100644
new mode 100755
diff --git a/tools/libaio/harness/cases/11.t b/tools/libaio/harness/cases/11.t
old mode 100644
new mode 100755
diff --git a/tools/libaio/harness/cases/12.t b/tools/libaio/harness/cases/12.t
old mode 100644
new mode 100755
diff --git a/tools/libaio/harness/cases/13.t b/tools/libaio/harness/cases/13.t
old mode 100644
new mode 100755
diff --git a/tools/libaio/harness/cases/14.t b/tools/libaio/harness/cases/14.t
old mode 100644
new mode 100755
diff --git a/tools/libaio/harness/cases/2.t b/tools/libaio/harness/cases/2.t
old mode 100644
new mode 100755
diff --git a/tools/libaio/harness/cases/3.t b/tools/libaio/harness/cases/3.t
old mode 100644
new mode 100755
diff --git a/tools/libaio/harness/cases/4.t b/tools/libaio/harness/cases/4.t
old mode 100644
new mode 100755
diff --git a/tools/libaio/harness/cases/5.t b/tools/libaio/harness/cases/5.t
old mode 100644
new mode 100755
diff --git a/tools/libaio/harness/cases/6.t b/tools/libaio/harness/cases/6.t
old mode 100644
new mode 100755
diff --git a/tools/libaio/harness/cases/7.t b/tools/libaio/harness/cases/7.t
old mode 100644
new mode 100755
diff --git a/tools/libaio/harness/cases/8.t b/tools/libaio/harness/cases/8.t
old mode 100644
new mode 100755
diff --git a/tools/libaio/harness/cases/aio_setup.h b/tools/libaio/harness/cases/aio_setup.h
old mode 100644
new mode 100755
diff --git a/tools/libaio/harness/cases/common-7-8.h b/tools/libaio/harness/cases/common-7-8.h
old mode 100644
new mode 100755
diff --git a/tools/libaio/harness/main.c b/tools/libaio/harness/main.c
old mode 100644
new mode 100755
diff --git a/tools/libaio/harness/runtests.sh b/tools/libaio/harness/runtests.sh
old mode 100644
new mode 100755
diff --git a/tools/libaio/libaio.spec b/tools/libaio/libaio.spec
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/aio.3 b/tools/libaio/man/aio.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/aio_cancel.3 b/tools/libaio/man/aio_cancel.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/aio_cancel64.3 b/tools/libaio/man/aio_cancel64.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/aio_error.3 b/tools/libaio/man/aio_error.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/aio_error64.3 b/tools/libaio/man/aio_error64.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/aio_fsync.3 b/tools/libaio/man/aio_fsync.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/aio_fsync64.3 b/tools/libaio/man/aio_fsync64.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/aio_init.3 b/tools/libaio/man/aio_init.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/aio_read.3 b/tools/libaio/man/aio_read.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/aio_read64.3 b/tools/libaio/man/aio_read64.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/aio_return.3 b/tools/libaio/man/aio_return.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/aio_return64.3 b/tools/libaio/man/aio_return64.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/aio_suspend.3 b/tools/libaio/man/aio_suspend.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/aio_suspend64.3 b/tools/libaio/man/aio_suspend64.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/aio_write.3 b/tools/libaio/man/aio_write.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/aio_write64.3 b/tools/libaio/man/aio_write64.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/io.3 b/tools/libaio/man/io.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/io_cancel.1 b/tools/libaio/man/io_cancel.1
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/io_cancel.3 b/tools/libaio/man/io_cancel.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/io_destroy.1 b/tools/libaio/man/io_destroy.1
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/io_fsync.3 b/tools/libaio/man/io_fsync.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/io_getevents.1 b/tools/libaio/man/io_getevents.1
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/io_getevents.3 b/tools/libaio/man/io_getevents.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/io_prep_fsync.3 b/tools/libaio/man/io_prep_fsync.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/io_prep_pread.3 b/tools/libaio/man/io_prep_pread.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/io_prep_pwrite.3 b/tools/libaio/man/io_prep_pwrite.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/io_queue_init.3 b/tools/libaio/man/io_queue_init.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/io_queue_release.3 b/tools/libaio/man/io_queue_release.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/io_queue_run.3 b/tools/libaio/man/io_queue_run.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/io_queue_wait.3 b/tools/libaio/man/io_queue_wait.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/io_set_callback.3 b/tools/libaio/man/io_set_callback.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/io_setup.1 b/tools/libaio/man/io_setup.1
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/io_submit.1 b/tools/libaio/man/io_submit.1
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/io_submit.3 b/tools/libaio/man/io_submit.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/lio_listio.3 b/tools/libaio/man/lio_listio.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/man/lio_listio64.3 b/tools/libaio/man/lio_listio64.3
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/Makefile b/tools/libaio/src/Makefile
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/compat-0_1.c b/tools/libaio/src/compat-0_1.c
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/io_cancel.c b/tools/libaio/src/io_cancel.c
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/io_destroy.c b/tools/libaio/src/io_destroy.c
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/io_getevents.c b/tools/libaio/src/io_getevents.c
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/io_queue_init.c b/tools/libaio/src/io_queue_init.c
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/io_queue_release.c b/tools/libaio/src/io_queue_release.c
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/io_queue_run.c b/tools/libaio/src/io_queue_run.c
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/io_queue_wait.c b/tools/libaio/src/io_queue_wait.c
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/io_setup.c b/tools/libaio/src/io_setup.c
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/io_submit.c b/tools/libaio/src/io_submit.c
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/libaio.h b/tools/libaio/src/libaio.h
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/libaio.map b/tools/libaio/src/libaio.map
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/raw_syscall.c b/tools/libaio/src/raw_syscall.c
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/syscall-alpha.h b/tools/libaio/src/syscall-alpha.h
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/syscall-i386.h b/tools/libaio/src/syscall-i386.h
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/syscall-ppc.h b/tools/libaio/src/syscall-ppc.h
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/syscall-s390.h b/tools/libaio/src/syscall-s390.h
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/syscall-x86_64.h b/tools/libaio/src/syscall-x86_64.h
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/syscall.h b/tools/libaio/src/syscall.h
old mode 100644
new mode 100755
diff --git a/tools/libaio/src/vsys_def.h b/tools/libaio/src/vsys_def.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/Makefile b/tools/libfsimage/Makefile
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/Rules.mk b/tools/libfsimage/Rules.mk
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/common/Makefile b/tools/libfsimage/common/Makefile
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/common/fsimage.c b/tools/libfsimage/common/fsimage.c
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/common/fsimage.h b/tools/libfsimage/common/fsimage.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/common/fsimage_grub.c b/tools/libfsimage/common/fsimage_grub.c
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/common/fsimage_grub.h b/tools/libfsimage/common/fsimage_grub.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/common/fsimage_plugin.c b/tools/libfsimage/common/fsimage_plugin.c
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/common/fsimage_plugin.h b/tools/libfsimage/common/fsimage_plugin.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/common/fsimage_priv.h b/tools/libfsimage/common/fsimage_priv.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/common/mapfile-GNU b/tools/libfsimage/common/mapfile-GNU
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/common/mapfile-SunOS b/tools/libfsimage/common/mapfile-SunOS
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/ext2fs-lib/Makefile b/tools/libfsimage/ext2fs-lib/Makefile
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/ext2fs-lib/ext2fs-lib.c b/tools/libfsimage/ext2fs-lib/ext2fs-lib.c
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/ext2fs/Makefile b/tools/libfsimage/ext2fs/Makefile
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/ext2fs/fsys_ext2fs.c b/tools/libfsimage/ext2fs/fsys_ext2fs.c
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/fat/Makefile b/tools/libfsimage/fat/Makefile
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/fat/fat.h b/tools/libfsimage/fat/fat.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/fat/fsys_fat.c b/tools/libfsimage/fat/fsys_fat.c
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/iso9660/Makefile b/tools/libfsimage/iso9660/Makefile
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/iso9660/fsys_iso9660.c b/tools/libfsimage/iso9660/fsys_iso9660.c
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/iso9660/iso9660.h b/tools/libfsimage/iso9660/iso9660.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/reiserfs/Makefile b/tools/libfsimage/reiserfs/Makefile
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/reiserfs/fsys_reiserfs.c b/tools/libfsimage/reiserfs/fsys_reiserfs.c
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/ufs/Makefile b/tools/libfsimage/ufs/Makefile
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/ufs/fsys_ufs.c b/tools/libfsimage/ufs/fsys_ufs.c
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/ufs/ufs.h b/tools/libfsimage/ufs/ufs.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/xfs/Makefile b/tools/libfsimage/xfs/Makefile
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/xfs/fsys_xfs.c b/tools/libfsimage/xfs/fsys_xfs.c
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/xfs/xfs.h b/tools/libfsimage/xfs/xfs.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/Makefile b/tools/libfsimage/zfs/Makefile
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/filesys.h b/tools/libfsimage/zfs/filesys.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/fsi_zfs.c b/tools/libfsimage/zfs/fsi_zfs.c
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/fsi_zfs.h b/tools/libfsimage/zfs/fsi_zfs.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/fsys_zfs.c b/tools/libfsimage/zfs/fsys_zfs.c
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/fsys_zfs.h b/tools/libfsimage/zfs/fsys_zfs.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/mb_info.h b/tools/libfsimage/zfs/mb_info.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/shared.h b/tools/libfsimage/zfs/shared.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/zfs-include/dmu.h b/tools/libfsimage/zfs/zfs-include/dmu.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/zfs-include/dmu_objset.h b/tools/libfsimage/zfs/zfs-include/dmu_objset.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/zfs-include/dnode.h b/tools/libfsimage/zfs/zfs-include/dnode.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/zfs-include/dsl_dataset.h b/tools/libfsimage/zfs/zfs-include/dsl_dataset.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/zfs-include/dsl_dir.h b/tools/libfsimage/zfs/zfs-include/dsl_dir.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/zfs-include/sa_impl.h b/tools/libfsimage/zfs/zfs-include/sa_impl.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/zfs-include/spa.h b/tools/libfsimage/zfs/zfs-include/spa.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/zfs-include/uberblock_impl.h b/tools/libfsimage/zfs/zfs-include/uberblock_impl.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/zfs-include/vdev_impl.h b/tools/libfsimage/zfs/zfs-include/vdev_impl.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/zfs-include/zap_impl.h b/tools/libfsimage/zfs/zfs-include/zap_impl.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/zfs-include/zap_leaf.h b/tools/libfsimage/zfs/zfs-include/zap_leaf.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/zfs-include/zfs.h b/tools/libfsimage/zfs/zfs-include/zfs.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/zfs-include/zfs_acl.h b/tools/libfsimage/zfs/zfs-include/zfs_acl.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/zfs-include/zfs_znode.h b/tools/libfsimage/zfs/zfs-include/zfs_znode.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/zfs-include/zil.h b/tools/libfsimage/zfs/zfs-include/zil.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/zfs-include/zio.h b/tools/libfsimage/zfs/zfs-include/zio.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/zfs-include/zio_checksum.h b/tools/libfsimage/zfs/zfs-include/zio_checksum.h
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/zfs_fletcher.c b/tools/libfsimage/zfs/zfs_fletcher.c
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/zfs_lzjb.c b/tools/libfsimage/zfs/zfs_lzjb.c
old mode 100644
new mode 100755
diff --git a/tools/libfsimage/zfs/zfs_sha256.c b/tools/libfsimage/zfs/zfs_sha256.c
old mode 100644
new mode 100755
diff --git a/tools/libvchan/Makefile b/tools/libvchan/Makefile
old mode 100644
new mode 100755
diff --git a/tools/libvchan/init.c b/tools/libvchan/init.c
old mode 100644
new mode 100755
diff --git a/tools/libvchan/io.c b/tools/libvchan/io.c
old mode 100644
new mode 100755
diff --git a/tools/libvchan/libxenvchan.h b/tools/libvchan/libxenvchan.h
old mode 100644
new mode 100755
diff --git a/tools/libvchan/node-select.c b/tools/libvchan/node-select.c
old mode 100644
new mode 100755
diff --git a/tools/libvchan/node.c b/tools/libvchan/node.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/COPYING b/tools/libxc/COPYING
old mode 100644
new mode 100755
diff --git a/tools/libxc/Makefile b/tools/libxc/Makefile
old mode 100644
new mode 100755
index 512a994..dcd63d3
--- a/tools/libxc/Makefile
+++ b/tools/libxc/Makefile
@@ -19,6 +19,8 @@ CTRL_SRCS-y       += xc_private.c
 CTRL_SRCS-y       += xc_sedf.c
 CTRL_SRCS-y       += xc_csched.c
 CTRL_SRCS-y       += xc_csched2.c
+CTRL_SRCS-y       += xc_rtglobal.c
+CTRL_SRCS-y       += xc_rtpartition.c
 CTRL_SRCS-y       += xc_arinc653.c
 CTRL_SRCS-y       += xc_tbuf.c
 CTRL_SRCS-y       += xc_pm.c
diff --git a/tools/libxc/xc_arinc653.c b/tools/libxc/xc_arinc653.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_bitops.h b/tools/libxc/xc_bitops.h
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_compression.c b/tools/libxc/xc_compression.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_core.c b/tools/libxc/xc_core.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_core.h b/tools/libxc/xc_core.h
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_core_arm.c b/tools/libxc/xc_core_arm.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_core_arm.h b/tools/libxc/xc_core_arm.h
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_core_x86.c b/tools/libxc/xc_core_x86.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_core_x86.h b/tools/libxc/xc_core_x86.h
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_cpu_hotplug.c b/tools/libxc/xc_cpu_hotplug.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_cpufeature.h b/tools/libxc/xc_cpufeature.h
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_cpuid_x86.c b/tools/libxc/xc_cpuid_x86.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_cpupool.c b/tools/libxc/xc_cpupool.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_csched.c b/tools/libxc/xc_csched.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_csched2.c b/tools/libxc/xc_csched2.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_dom.h b/tools/libxc/xc_dom.h
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_dom_arm.c b/tools/libxc/xc_dom_arm.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_dom_armzimageloader.c b/tools/libxc/xc_dom_armzimageloader.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_dom_binloader.c b/tools/libxc/xc_dom_binloader.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_dom_boot.c b/tools/libxc/xc_dom_boot.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_dom_bzimageloader.c b/tools/libxc/xc_dom_bzimageloader.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_dom_compat_linux.c b/tools/libxc/xc_dom_compat_linux.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_dom_core.c b/tools/libxc/xc_dom_core.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_dom_decompress_unsafe.c b/tools/libxc/xc_dom_decompress_unsafe.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_dom_decompress_unsafe.h b/tools/libxc/xc_dom_decompress_unsafe.h
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_dom_decompress_unsafe_bzip2.c b/tools/libxc/xc_dom_decompress_unsafe_bzip2.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_dom_decompress_unsafe_lzma.c b/tools/libxc/xc_dom_decompress_unsafe_lzma.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_dom_decompress_unsafe_lzo1x.c b/tools/libxc/xc_dom_decompress_unsafe_lzo1x.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_dom_decompress_unsafe_xz.c b/tools/libxc/xc_dom_decompress_unsafe_xz.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_dom_elfloader.c b/tools/libxc/xc_dom_elfloader.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_dom_x86.c b/tools/libxc/xc_dom_x86.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_domain.c b/tools/libxc/xc_domain.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_domain_restore.c b/tools/libxc/xc_domain_restore.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_domain_save.c b/tools/libxc/xc_domain_save.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_efi.h b/tools/libxc/xc_efi.h
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_elf.h b/tools/libxc/xc_elf.h
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_evtchn.c b/tools/libxc/xc_evtchn.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_flask.c b/tools/libxc/xc_flask.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_foreign_memory.c b/tools/libxc/xc_foreign_memory.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_gnttab.c b/tools/libxc/xc_gnttab.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_hcall_buf.c b/tools/libxc/xc_hcall_buf.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_hvm_build_arm.c b/tools/libxc/xc_hvm_build_arm.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_hvm_build_x86.c b/tools/libxc/xc_hvm_build_x86.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_linux.c b/tools/libxc/xc_linux.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_linux_osdep.c b/tools/libxc/xc_linux_osdep.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_mem_access.c b/tools/libxc/xc_mem_access.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_mem_event.c b/tools/libxc/xc_mem_event.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_mem_paging.c b/tools/libxc/xc_mem_paging.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_memshr.c b/tools/libxc/xc_memshr.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_minios.c b/tools/libxc/xc_minios.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_misc.c b/tools/libxc/xc_misc.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_netbsd.c b/tools/libxc/xc_netbsd.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_nomigrate.c b/tools/libxc/xc_nomigrate.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_offline_page.c b/tools/libxc/xc_offline_page.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_pagetab.c b/tools/libxc/xc_pagetab.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_physdev.c b/tools/libxc/xc_physdev.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_pm.c b/tools/libxc/xc_pm.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_private.c b/tools/libxc/xc_private.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_private.h b/tools/libxc/xc_private.h
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_resume.c b/tools/libxc/xc_resume.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_rtglobal.c b/tools/libxc/xc_rtglobal.c
new file mode 100755
index 0000000..2fc7d88
--- /dev/null
+++ b/tools/libxc/xc_rtglobal.c
@@ -0,0 +1,63 @@
+/****************************************************************************
+ * (C) 2006 - Emmanuel Ackaouy - XenSource Inc.
+ ****************************************************************************
+ *
+ *        File: xc_rtglobal.c
+ *      Author: Sisu Xi
+ *
+ * Description: XC Interface to the rtglobal scheduler
+ *
+ * This library is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU Lesser General Public
+ * License as published by the Free Software Foundation;
+ * version 2.1 of the License.
+ *
+ * This library is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ * Lesser General Public License for more details.
+ *
+ * You should have received a copy of the GNU Lesser General Public
+ * License along with this library; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
+ */
+
+#include "xc_private.h"
+
+int
+xc_sched_rtglobal_domain_set(
+    xc_interface *xch,
+    uint32_t domid,
+    struct xen_domctl_sched_rtglobal *sdom)
+{
+    DECLARE_DOMCTL;
+
+    domctl.cmd = XEN_DOMCTL_scheduler_op;
+    domctl.domain = (domid_t) domid;
+    domctl.u.scheduler_op.sched_id = XEN_SCHEDULER_RTGLOBAL;
+    domctl.u.scheduler_op.cmd = XEN_DOMCTL_SCHEDOP_putinfo;
+    domctl.u.scheduler_op.u.rtglobal = *sdom;
+
+    return do_domctl(xch, &domctl);
+}
+
+int
+xc_sched_rtglobal_domain_get(
+    xc_interface *xch,
+    uint32_t domid,
+    struct xen_domctl_sched_rtglobal *sdom)
+{
+    DECLARE_DOMCTL;
+    int err;
+
+    domctl.cmd = XEN_DOMCTL_scheduler_op;
+    domctl.domain = (domid_t) domid;
+    domctl.u.scheduler_op.sched_id = XEN_SCHEDULER_RTGLOBAL;
+    domctl.u.scheduler_op.cmd = XEN_DOMCTL_SCHEDOP_getinfo;
+
+    err = do_domctl(xch, &domctl);
+    if ( err == 0 )
+        *sdom = domctl.u.scheduler_op.u.rtglobal;
+
+    return err;
+}
diff --git a/tools/libxc/xc_rtpartition.c b/tools/libxc/xc_rtpartition.c
new file mode 100755
index 0000000..5cbbddb
--- /dev/null
+++ b/tools/libxc/xc_rtpartition.c
@@ -0,0 +1,63 @@
+/****************************************************************************
+ * (C) 2006 - Emmanuel Ackaouy - XenSource Inc.
+ ****************************************************************************
+ *
+ *        File: xc_rtpartition.c
+ *      Author: Sisu Xi
+ *
+ * Description: XC Interface to the rtpartition scheduler
+ *
+ * This library is free software; you can redistribute it and/or
+ * modify it under the terms of the GNU Lesser General Public
+ * License as published by the Free Software Foundation;
+ * version 2.1 of the License.
+ *
+ * This library is distributed in the hope that it will be useful,
+ * but WITHOUT ANY WARRANTY; without even the implied warranty of
+ * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
+ * Lesser General Public License for more details.
+ *
+ * You should have received a copy of the GNU Lesser General Public
+ * License along with this library; if not, write to the Free Software
+ * Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301  USA
+ */
+
+#include "xc_private.h"
+
+int
+xc_sched_rtpartition_domain_set(
+    xc_interface *xch,
+    uint32_t domid,
+    struct xen_domctl_sched_rtpartition *sdom)
+{
+    DECLARE_DOMCTL;
+
+    domctl.cmd = XEN_DOMCTL_scheduler_op;
+    domctl.domain = (domid_t) domid;
+    domctl.u.scheduler_op.sched_id = XEN_SCHEDULER_RTPARTITION;
+    domctl.u.scheduler_op.cmd = XEN_DOMCTL_SCHEDOP_putinfo;
+    domctl.u.scheduler_op.u.rtpartition = *sdom;
+
+    return do_domctl(xch, &domctl);
+}
+
+int
+xc_sched_rtpartition_domain_get(
+    xc_interface *xch,
+    uint32_t domid,
+    struct xen_domctl_sched_rtpartition *sdom)
+{
+    DECLARE_DOMCTL;
+    int err;
+
+    domctl.cmd = XEN_DOMCTL_scheduler_op;
+    domctl.domain = (domid_t) domid;
+    domctl.u.scheduler_op.sched_id = XEN_SCHEDULER_RTPARTITION;
+    domctl.u.scheduler_op.cmd = XEN_DOMCTL_SCHEDOP_getinfo;
+
+    err = do_domctl(xch, &domctl);
+    if ( err == 0 )
+        *sdom = domctl.u.scheduler_op.u.rtpartition;
+
+    return err;
+}
diff --git a/tools/libxc/xc_sedf.c b/tools/libxc/xc_sedf.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_solaris.c b/tools/libxc/xc_solaris.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_suspend.c b/tools/libxc/xc_suspend.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_tbuf.c b/tools/libxc/xc_tbuf.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xc_tmem.c b/tools/libxc/xc_tmem.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xenctrl.h b/tools/libxc/xenctrl.h
old mode 100644
new mode 100755
index 388a9c3..6860dbf
--- a/tools/libxc/xenctrl.h
+++ b/tools/libxc/xenctrl.h
@@ -748,10 +748,21 @@ int xc_sched_credit_params_get(xc_interface *xch,
 int xc_sched_credit2_domain_set(xc_interface *xch,
                                uint32_t domid,
                                struct xen_domctl_sched_credit2 *sdom);
-
 int xc_sched_credit2_domain_get(xc_interface *xch,
                                uint32_t domid,
                                struct xen_domctl_sched_credit2 *sdom);
+int xc_sched_rtglobal_domain_set(xc_interface *xch,
+                               uint32_t domid,
+                               struct xen_domctl_sched_rtglobal *sdom);
+int xc_sched_rtglobal_domain_get(xc_interface *xch,
+                               uint32_t domid,
+                               struct xen_domctl_sched_rtglobal *sdom);
+int xc_sched_rtpartition_domain_set(xc_interface *xch,
+                               uint32_t domid,
+                               struct xen_domctl_sched_rtpartition *sdom);
+int xc_sched_rtpartition_domain_get(xc_interface *xch,
+                               uint32_t domid,
+                               struct xen_domctl_sched_rtpartition *sdom);
 
 int
 xc_sched_arinc653_schedule_set(
diff --git a/tools/libxc/xenctrl_osdep_ENOSYS.c b/tools/libxc/xenctrl_osdep_ENOSYS.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xenctrlosdep.h b/tools/libxc/xenctrlosdep.h
old mode 100644
new mode 100755
diff --git a/tools/libxc/xenguest.h b/tools/libxc/xenguest.h
old mode 100644
new mode 100755
diff --git a/tools/libxc/xentoollog.h b/tools/libxc/xentoollog.h
old mode 100644
new mode 100755
diff --git a/tools/libxc/xg_private.c b/tools/libxc/xg_private.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xg_private.h b/tools/libxc/xg_private.h
old mode 100644
new mode 100755
diff --git a/tools/libxc/xg_save_restore.h b/tools/libxc/xg_save_restore.h
old mode 100644
new mode 100755
diff --git a/tools/libxc/xtl_core.c b/tools/libxc/xtl_core.c
old mode 100644
new mode 100755
diff --git a/tools/libxc/xtl_logger_stdio.c b/tools/libxc/xtl_logger_stdio.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/COPYING b/tools/libxen/COPYING
old mode 100644
new mode 100755
diff --git a/tools/libxen/Makefile b/tools/libxen/Makefile
old mode 100644
new mode 100755
diff --git a/tools/libxen/Makefile.dist b/tools/libxen/Makefile.dist
old mode 100644
new mode 100755
diff --git a/tools/libxen/README b/tools/libxen/README
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_all.h b/tools/libxen/include/xen/api/xen_all.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_common.h b/tools/libxen/include/xen/api/xen_common.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_console.h b/tools/libxen/include/xen/api/xen_console.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_console_decl.h b/tools/libxen/include/xen/api/xen_console_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_console_protocol.h b/tools/libxen/include/xen/api/xen_console_protocol.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_cpu_pool.h b/tools/libxen/include/xen/api/xen_cpu_pool.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_cpu_pool_decl.h b/tools/libxen/include/xen/api/xen_cpu_pool_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_crashdump.h b/tools/libxen/include/xen/api/xen_crashdump.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_crashdump_decl.h b/tools/libxen/include/xen/api/xen_crashdump_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_event.h b/tools/libxen/include/xen/api/xen_event.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_event_decl.h b/tools/libxen/include/xen/api/xen_event_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_event_operation.h b/tools/libxen/include/xen/api/xen_event_operation.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_host.h b/tools/libxen/include/xen/api/xen_host.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_host_cpu.h b/tools/libxen/include/xen/api/xen_host_cpu.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_host_cpu_decl.h b/tools/libxen/include/xen/api/xen_host_cpu_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_host_decl.h b/tools/libxen/include/xen/api/xen_host_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_host_metrics.h b/tools/libxen/include/xen/api/xen_host_metrics.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_host_metrics_decl.h b/tools/libxen/include/xen/api/xen_host_metrics_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_int_float_map.h b/tools/libxen/include/xen/api/xen_int_float_map.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_int_int_map.h b/tools/libxen/include/xen/api/xen_int_int_map.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_int_string_set_map.h b/tools/libxen/include/xen/api/xen_int_string_set_map.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_network.h b/tools/libxen/include/xen/api/xen_network.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_network_decl.h b/tools/libxen/include/xen/api/xen_network_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_on_crash_behaviour.h b/tools/libxen/include/xen/api/xen_on_crash_behaviour.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_on_normal_exit.h b/tools/libxen/include/xen/api/xen_on_normal_exit.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_pbd.h b/tools/libxen/include/xen/api/xen_pbd.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_pbd_decl.h b/tools/libxen/include/xen/api/xen_pbd_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_pif.h b/tools/libxen/include/xen/api/xen_pif.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_pif_decl.h b/tools/libxen/include/xen/api/xen_pif_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_pif_metrics.h b/tools/libxen/include/xen/api/xen_pif_metrics.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_pif_metrics_decl.h b/tools/libxen/include/xen/api/xen_pif_metrics_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_sr.h b/tools/libxen/include/xen/api/xen_sr.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_sr_decl.h b/tools/libxen/include/xen/api/xen_sr_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_string_set.h b/tools/libxen/include/xen/api/xen_string_set.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_string_string_map.h b/tools/libxen/include/xen/api/xen_string_string_map.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_user.h b/tools/libxen/include/xen/api/xen_user.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_user_decl.h b/tools/libxen/include/xen/api/xen_user_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_vbd.h b/tools/libxen/include/xen/api/xen_vbd.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_vbd_decl.h b/tools/libxen/include/xen/api/xen_vbd_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_vbd_metrics.h b/tools/libxen/include/xen/api/xen_vbd_metrics.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_vbd_metrics_decl.h b/tools/libxen/include/xen/api/xen_vbd_metrics_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_vbd_mode.h b/tools/libxen/include/xen/api/xen_vbd_mode.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_vbd_type.h b/tools/libxen/include/xen/api/xen_vbd_type.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_vdi.h b/tools/libxen/include/xen/api/xen_vdi.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_vdi_decl.h b/tools/libxen/include/xen/api/xen_vdi_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_vdi_type.h b/tools/libxen/include/xen/api/xen_vdi_type.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_vif.h b/tools/libxen/include/xen/api/xen_vif.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_vif_decl.h b/tools/libxen/include/xen/api/xen_vif_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_vif_metrics.h b/tools/libxen/include/xen/api/xen_vif_metrics.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_vif_metrics_decl.h b/tools/libxen/include/xen/api/xen_vif_metrics_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_vm.h b/tools/libxen/include/xen/api/xen_vm.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_vm_decl.h b/tools/libxen/include/xen/api/xen_vm_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_vm_guest_metrics.h b/tools/libxen/include/xen/api/xen_vm_guest_metrics.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_vm_guest_metrics_decl.h b/tools/libxen/include/xen/api/xen_vm_guest_metrics_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_vm_metrics.h b/tools/libxen/include/xen/api/xen_vm_metrics.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_vm_metrics_decl.h b/tools/libxen/include/xen/api/xen_vm_metrics_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_vm_power_state.h b/tools/libxen/include/xen/api/xen_vm_power_state.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_xspolicy.h b/tools/libxen/include/xen/api/xen_xspolicy.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen/api/xen_xspolicy_decl.h b/tools/libxen/include/xen/api/xen_xspolicy_decl.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen_console_protocol_internal.h b/tools/libxen/include/xen_console_protocol_internal.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen_event_operation_internal.h b/tools/libxen/include/xen_event_operation_internal.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen_internal.h b/tools/libxen/include/xen_internal.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen_on_crash_behaviour_internal.h b/tools/libxen/include/xen_on_crash_behaviour_internal.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen_on_normal_exit_internal.h b/tools/libxen/include/xen_on_normal_exit_internal.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen_vbd_mode_internal.h b/tools/libxen/include/xen_vbd_mode_internal.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen_vbd_type_internal.h b/tools/libxen/include/xen_vbd_type_internal.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen_vdi_type_internal.h b/tools/libxen/include/xen_vdi_type_internal.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/include/xen_vm_power_state_internal.h b/tools/libxen/include/xen_vm_power_state_internal.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_common.c b/tools/libxen/src/xen_common.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_console.c b/tools/libxen/src/xen_console.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_console_protocol.c b/tools/libxen/src/xen_console_protocol.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_cpu_pool.c b/tools/libxen/src/xen_cpu_pool.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_crashdump.c b/tools/libxen/src/xen_crashdump.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_event.c b/tools/libxen/src/xen_event.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_event_operation.c b/tools/libxen/src/xen_event_operation.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_host.c b/tools/libxen/src/xen_host.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_host_cpu.c b/tools/libxen/src/xen_host_cpu.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_host_metrics.c b/tools/libxen/src/xen_host_metrics.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_int_float_map.c b/tools/libxen/src/xen_int_float_map.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_int_int_map.c b/tools/libxen/src/xen_int_int_map.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_int_string_set_map.c b/tools/libxen/src/xen_int_string_set_map.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_network.c b/tools/libxen/src/xen_network.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_on_crash_behaviour.c b/tools/libxen/src/xen_on_crash_behaviour.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_on_normal_exit.c b/tools/libxen/src/xen_on_normal_exit.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_pbd.c b/tools/libxen/src/xen_pbd.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_pif.c b/tools/libxen/src/xen_pif.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_pif_metrics.c b/tools/libxen/src/xen_pif_metrics.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_sr.c b/tools/libxen/src/xen_sr.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_string_set.c b/tools/libxen/src/xen_string_set.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_string_set.h b/tools/libxen/src/xen_string_set.h
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_string_string_map.c b/tools/libxen/src/xen_string_string_map.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_user.c b/tools/libxen/src/xen_user.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_vbd.c b/tools/libxen/src/xen_vbd.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_vbd_metrics.c b/tools/libxen/src/xen_vbd_metrics.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_vbd_mode.c b/tools/libxen/src/xen_vbd_mode.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_vbd_type.c b/tools/libxen/src/xen_vbd_type.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_vdi.c b/tools/libxen/src/xen_vdi.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_vdi_type.c b/tools/libxen/src/xen_vdi_type.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_vif.c b/tools/libxen/src/xen_vif.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_vif_metrics.c b/tools/libxen/src/xen_vif_metrics.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_vm.c b/tools/libxen/src/xen_vm.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_vm_guest_metrics.c b/tools/libxen/src/xen_vm_guest_metrics.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_vm_metrics.c b/tools/libxen/src/xen_vm_metrics.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_vm_power_state.c b/tools/libxen/src/xen_vm_power_state.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/src/xen_xspolicy.c b/tools/libxen/src/xen_xspolicy.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/test/test_bindings.c b/tools/libxen/test/test_bindings.c
old mode 100644
new mode 100755
diff --git a/tools/libxen/test/test_event_handling.c b/tools/libxen/test/test_event_handling.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/CODING_STYLE b/tools/libxl/CODING_STYLE
old mode 100644
new mode 100755
diff --git a/tools/libxl/Makefile b/tools/libxl/Makefile
old mode 100644
new mode 100755
diff --git a/tools/libxl/bash-completion b/tools/libxl/bash-completion
old mode 100644
new mode 100755
diff --git a/tools/libxl/flexarray.c b/tools/libxl/flexarray.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/flexarray.h b/tools/libxl/flexarray.h
old mode 100644
new mode 100755
diff --git a/tools/libxl/gentest.py b/tools/libxl/gentest.py
old mode 100644
new mode 100755
diff --git a/tools/libxl/gentypes.py b/tools/libxl/gentypes.py
old mode 100644
new mode 100755
diff --git a/tools/libxl/idl.py b/tools/libxl/idl.py
old mode 100644
new mode 100755
diff --git a/tools/libxl/idl.txt b/tools/libxl/idl.txt
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl.c b/tools/libxl/libxl.c
old mode 100644
new mode 100755
index 3236aa9..b53e6c0
--- a/tools/libxl/libxl.c
+++ b/tools/libxl/libxl.c
@@ -4517,6 +4517,167 @@ static int sched_credit2_domain_set(libxl__gc *gc, uint32_t domid,
     return 0;
 }
 
+// rtglobal
+static int sched_rtglobal_domain_get(libxl__gc *gc, uint32_t domid,
+                                    libxl_domain_sched_params *scinfo)
+{
+    struct xen_domctl_sched_rtglobal sdom;
+    int rc;
+
+    rc = xc_sched_rtglobal_domain_get(CTX->xch, domid, &sdom);
+    if (rc != 0) {
+        LOGE(ERROR, "getting domain sched rtglobal");
+        return ERROR_FAIL;
+    }
+
+    libxl_domain_sched_params_init(scinfo);
+    scinfo->sched = LIBXL_SCHEDULER_RTGLOBAL;
+    scinfo->period = sdom.period;
+    scinfo->budget = sdom.budget;
+    scinfo->vcpu = sdom.vcpu;
+    scinfo->extra = sdom.extra;
+
+    return 0;
+}
+
+static int sched_rtglobal_domain_set(libxl__gc *gc, uint32_t domid,
+                                    const libxl_domain_sched_params *scinfo)
+{
+    struct xen_domctl_sched_rtglobal sdom;
+    int rc;
+
+    rc = xc_sched_rtglobal_domain_get(CTX->xch, domid, &sdom);
+    if (rc != 0) {
+        LOGE(ERROR, "getting domain sched rtglobal");
+        return ERROR_FAIL;
+    }
+
+    if (scinfo->period != LIBXL_DOMAIN_SCHED_PARAM_PERIOD_DEFAULT) {
+        if (scinfo->period < 1 || scinfo->period > 65535) {
+            LOG(ERROR, "Cpu period out of range, "
+                       "valid values are within range from 1 to 65535");
+            return ERROR_INVAL;
+        }
+        sdom.period = scinfo->period;
+    }
+
+    if (scinfo->budget != LIBXL_DOMAIN_SCHED_PARAM_BUDGET_DEFAULT) {
+        if (scinfo->budget < 1 || scinfo->budget > 65535) {
+            LOG(ERROR, "Cpu budget out of range, "
+                       "valid values are within range from 1 to 65535");
+            return ERROR_INVAL;
+        }
+        sdom.budget = scinfo->budget;
+    }
+
+    if (scinfo->vcpu != LIBXL_DOMAIN_SCHED_PARAM_VCPU_DEFAULT) {
+        if (scinfo->vcpu < 0 || scinfo->vcpu > 65535) {
+            LOG(ERROR, "Cpu vcpu out of range, "
+                     "valid values are within range from 0 to 65535");
+            return ERROR_INVAL;
+        }
+        sdom.vcpu = scinfo->vcpu;
+    }
+
+    if (scinfo->extra != LIBXL_DOMAIN_SCHED_PARAM_EXTRA_DEFAULT) {
+        if (scinfo->extra < 0 || scinfo->extra > 65535) {
+            LOG(ERROR, "Cpu extra out of range, "
+                     "valid values are within range from 0 to 65535");
+            return ERROR_INVAL;
+        }
+        sdom.extra = scinfo->extra;
+    }    
+
+    rc = xc_sched_rtglobal_domain_set(CTX->xch, domid, &sdom);
+    if ( rc < 0 ) {
+        LOGE(ERROR, "setting domain sched rtglobal");
+        return ERROR_FAIL;
+    }
+
+    return 0;
+}
+
+
+// rtpartition
+static int sched_rtpartition_domain_get(libxl__gc *gc, uint32_t domid,
+                                    libxl_domain_sched_params *scinfo)
+{
+    struct xen_domctl_sched_rtpartition sdom;
+    int rc;
+
+    rc = xc_sched_rtpartition_domain_get(CTX->xch, domid, &sdom);
+    if (rc != 0) {
+        LOGE(ERROR, "getting domain sched rtpartition");
+        return ERROR_FAIL;
+    }
+
+    libxl_domain_sched_params_init(scinfo);
+    scinfo->sched = LIBXL_SCHEDULER_RTPARTITION;
+    scinfo->period = sdom.period;
+    scinfo->budget = sdom.budget;
+    scinfo->vcpu = sdom.vcpu;
+    scinfo->extra = sdom.extra;
+
+    return 0;
+}
+
+static int sched_rtpartition_domain_set(libxl__gc *gc, uint32_t domid,
+                                    const libxl_domain_sched_params *scinfo)
+{
+    struct xen_domctl_sched_rtpartition sdom;
+    int rc;
+
+    rc = xc_sched_rtpartition_domain_get(CTX->xch, domid, &sdom);
+    if (rc != 0) {
+        LOGE(ERROR, "getting domain sched rtpartition");
+        return ERROR_FAIL;
+    }
+
+    if (scinfo->period != LIBXL_DOMAIN_SCHED_PARAM_PERIOD_DEFAULT) {
+        if (scinfo->period < 1 || scinfo->period > 65535) {
+            LOG(ERROR, "Cpu period out of range, "
+                       "valid values are within range from 1 to 65535");
+            return ERROR_INVAL;
+        }
+        sdom.period = scinfo->period;
+    }
+
+    if (scinfo->budget != LIBXL_DOMAIN_SCHED_PARAM_BUDGET_DEFAULT) {
+        if (scinfo->budget < 1 || scinfo->budget > 65535) {
+            LOG(ERROR, "Cpu budget out of range, "
+                       "valid values are within range from 1 to 65535");
+            return ERROR_INVAL;
+        }
+        sdom.budget = scinfo->budget;
+    }
+
+    if (scinfo->vcpu != LIBXL_DOMAIN_SCHED_PARAM_VCPU_DEFAULT) {
+        if (scinfo->vcpu < 0 || scinfo->vcpu > 65535) {
+            LOG(ERROR, "Cpu vcpu out of range, "
+                       "valid values are within range from 0 to 65535");
+            return ERROR_INVAL;
+        }
+        sdom.vcpu = scinfo->vcpu;
+    }
+
+    if (scinfo->extra != LIBXL_DOMAIN_SCHED_PARAM_EXTRA_DEFAULT) {
+        if (scinfo->extra < 0 || scinfo->extra > 65535) {
+            LOG(ERROR, "Cpu extra out of range, "
+                       "valid values are within range from 0 to 65535");
+            return ERROR_INVAL;
+        }
+        sdom.extra = scinfo->extra;
+    }
+
+    rc = xc_sched_rtpartition_domain_set(CTX->xch, domid, &sdom);
+    if ( rc < 0 ) {
+        LOGE(ERROR, "setting domain sched rtpartition");
+        return ERROR_FAIL;
+    }
+
+    return 0;
+}
+
 static int sched_sedf_domain_get(libxl__gc *gc, uint32_t domid,
                                  libxl_domain_sched_params *scinfo)
 {
@@ -4604,6 +4765,12 @@ int libxl_domain_sched_params_set(libxl_ctx *ctx, uint32_t domid,
     case LIBXL_SCHEDULER_CREDIT2:
         ret=sched_credit2_domain_set(gc, domid, scinfo);
         break;
+    case LIBXL_SCHEDULER_RTGLOBAL:
+        ret=sched_rtglobal_domain_set(gc, domid, scinfo);
+        break;
+    case LIBXL_SCHEDULER_RTPARTITION:
+        ret=sched_rtpartition_domain_set(gc, domid, scinfo);
+        break;     
     case LIBXL_SCHEDULER_ARINC653:
         ret=sched_arinc653_domain_set(gc, domid, scinfo);
         break;
@@ -4637,6 +4804,12 @@ int libxl_domain_sched_params_get(libxl_ctx *ctx, uint32_t domid,
     case LIBXL_SCHEDULER_CREDIT2:
         ret=sched_credit2_domain_get(gc, domid, scinfo);
         break;
+    case LIBXL_SCHEDULER_RTGLOBAL:
+        ret=sched_rtglobal_domain_get(gc, domid, scinfo);
+        break;
+    case LIBXL_SCHEDULER_RTPARTITION:
+        ret=sched_rtpartition_domain_get(gc, domid, scinfo);
+        break;  
     default:
         LOG(ERROR, "Unknown scheduler");
         ret=ERROR_INVAL;
diff --git a/tools/libxl/libxl.h b/tools/libxl/libxl.h
old mode 100644
new mode 100755
index 37e4d82..7a8ae40
--- a/tools/libxl/libxl.h
+++ b/tools/libxl/libxl.h
@@ -944,6 +944,15 @@ int libxl_sched_credit_params_get(libxl_ctx *ctx, uint32_t poolid,
 int libxl_sched_credit_params_set(libxl_ctx *ctx, uint32_t poolid,
                                   libxl_sched_credit_params *scinfo);
 
+// int libxl_sched_rtglobal_params_get(libxl_ctx *ctx, uint32_t poolid,
+//                                   libxl_sched_rtglobal_params *scinfo);
+// int libxl_sched_rtglobal_params_set(libxl_ctx *ctx, uint32_t poolid,
+//                                   libxl_sched_rtglobal_params *scinfo);
+// int libxl_sched_rtpartition_params_get(libxl_ctx *ctx, uint32_t poolid,
+//                                   libxl_sched_rtpartition_params *scinfo);
+// int libxl_sched_rtpartition_params_set(libxl_ctx *ctx, uint32_t poolid,
+//                                   libxl_sched_rtpartition_params *scinfo);
+
 /* Scheduler Per-domain parameters */
 
 #define LIBXL_DOMAIN_SCHED_PARAM_WEIGHT_DEFAULT    -1
@@ -953,6 +962,10 @@ int libxl_sched_credit_params_set(libxl_ctx *ctx, uint32_t poolid,
 #define LIBXL_DOMAIN_SCHED_PARAM_LATENCY_DEFAULT   -1
 #define LIBXL_DOMAIN_SCHED_PARAM_EXTRATIME_DEFAULT -1
 
+#define LIBXL_DOMAIN_SCHED_PARAM_BUDGET_DEFAULT    -1
+#define LIBXL_DOMAIN_SCHED_PARAM_VCPU_DEFAULT      -1
+#define LIBXL_DOMAIN_SCHED_PARAM_EXTRA_DEFAULT     -1
+
 int libxl_domain_sched_params_get(libxl_ctx *ctx, uint32_t domid,
                                   libxl_domain_sched_params *params);
 int libxl_domain_sched_params_set(libxl_ctx *ctx, uint32_t domid,
diff --git a/tools/libxl/libxl_aoutils.c b/tools/libxl/libxl_aoutils.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_arch.h b/tools/libxl/libxl_arch.h
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_blktap2.c b/tools/libxl/libxl_blktap2.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_bootloader.c b/tools/libxl/libxl_bootloader.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_cpuid.c b/tools/libxl/libxl_cpuid.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_create.c b/tools/libxl/libxl_create.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_device.c b/tools/libxl/libxl_device.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_dm.c b/tools/libxl/libxl_dm.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_dom.c b/tools/libxl/libxl_dom.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_event.c b/tools/libxl/libxl_event.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_event.h b/tools/libxl/libxl_event.h
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_exec.c b/tools/libxl/libxl_exec.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_flask.c b/tools/libxl/libxl_flask.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_fork.c b/tools/libxl/libxl_fork.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_internal.c b/tools/libxl/libxl_internal.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_internal.h b/tools/libxl/libxl_internal.h
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_json.c b/tools/libxl/libxl_json.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_json.h b/tools/libxl/libxl_json.h
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_linux.c b/tools/libxl/libxl_linux.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_netbsd.c b/tools/libxl/libxl_netbsd.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_noarch.c b/tools/libxl/libxl_noarch.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_noblktap2.c b/tools/libxl/libxl_noblktap2.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_nocpuid.c b/tools/libxl/libxl_nocpuid.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_numa.c b/tools/libxl/libxl_numa.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_osdeps.h b/tools/libxl/libxl_osdeps.h
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_paths.c b/tools/libxl/libxl_paths.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_pci.c b/tools/libxl/libxl_pci.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_qmp.c b/tools/libxl/libxl_qmp.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_save_callout.c b/tools/libxl/libxl_save_callout.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_save_helper.c b/tools/libxl/libxl_save_helper.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_types.idl b/tools/libxl/libxl_types.idl
old mode 100644
new mode 100755
index d218a2d..0625a27
--- a/tools/libxl/libxl_types.idl
+++ b/tools/libxl/libxl_types.idl
@@ -116,6 +116,8 @@ libxl_scheduler = Enumeration("scheduler", [
     (5, "credit"),
     (6, "credit2"),
     (7, "arinc653"),
+    (8, "rtglobal"),
+    (9, "rtpartition"),
     ])
 
 # Consistent with SHUTDOWN_* in sched.h
@@ -253,6 +255,9 @@ libxl_domain_sched_params = Struct("domain_sched_params",[
     ("weight",       integer, {'init_val': 'LIBXL_DOMAIN_SCHED_PARAM_WEIGHT_DEFAULT'}),
     ("cap",          integer, {'init_val': 'LIBXL_DOMAIN_SCHED_PARAM_CAP_DEFAULT'}),
     ("period",       integer, {'init_val': 'LIBXL_DOMAIN_SCHED_PARAM_PERIOD_DEFAULT'}),
+    ("budget",       integer, {'init_val': 'LIBXL_DOMAIN_SCHED_PARAM_BUDGET_DEFAULT'}),
+    ("vcpu",         integer, {'init_val': 'LIBXL_DOMAIN_SCHED_PARAM_VCPU_DEFAULT'}),
+    ("extra",        integer, {'init_val': 'LIBXL_DOMAIN_SCHED_PARAM_EXTRA_DEFAULT'}),
     ("slice",        integer, {'init_val': 'LIBXL_DOMAIN_SCHED_PARAM_SLICE_DEFAULT'}),
     ("latency",      integer, {'init_val': 'LIBXL_DOMAIN_SCHED_PARAM_LATENCY_DEFAULT'}),
     ("extratime",    integer, {'init_val': 'LIBXL_DOMAIN_SCHED_PARAM_EXTRATIME_DEFAULT'}),
diff --git a/tools/libxl/libxl_types_internal.idl b/tools/libxl/libxl_types_internal.idl
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_utils.c b/tools/libxl/libxl_utils.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_utils.h b/tools/libxl/libxl_utils.h
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_uuid.c b/tools/libxl/libxl_uuid.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_uuid.h b/tools/libxl/libxl_uuid.h
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_x86.c b/tools/libxl/libxl_x86.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxl_xshelp.c b/tools/libxl/libxl_xshelp.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxlu_cfg.c b/tools/libxl/libxlu_cfg.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxlu_cfg_i.h b/tools/libxl/libxlu_cfg_i.h
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxlu_cfg_l.l b/tools/libxl/libxlu_cfg_l.l
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxlu_cfg_y.c b/tools/libxl/libxlu_cfg_y.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxlu_cfg_y.h b/tools/libxl/libxlu_cfg_y.h
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxlu_cfg_y.y b/tools/libxl/libxlu_cfg_y.y
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxlu_disk.c b/tools/libxl/libxlu_disk.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxlu_disk_i.h b/tools/libxl/libxlu_disk_i.h
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxlu_disk_l.c b/tools/libxl/libxlu_disk_l.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxlu_disk_l.h b/tools/libxl/libxlu_disk_l.h
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxlu_disk_l.l b/tools/libxl/libxlu_disk_l.l
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxlu_internal.h b/tools/libxl/libxlu_internal.h
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxlu_pci.c b/tools/libxl/libxlu_pci.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxlu_vif.c b/tools/libxl/libxlu_vif.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/libxlutil.h b/tools/libxl/libxlutil.h
old mode 100644
new mode 100755
diff --git a/tools/libxl/osdeps.c b/tools/libxl/osdeps.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/xl.c b/tools/libxl/xl.c
old mode 100644
new mode 100755
diff --git a/tools/libxl/xl.h b/tools/libxl/xl.h
old mode 100644
new mode 100755
index 5ad3e17..b1f85cf
--- a/tools/libxl/xl.h
+++ b/tools/libxl/xl.h
@@ -64,6 +64,8 @@ int main_memmax(int argc, char **argv);
 int main_memset(int argc, char **argv);
 int main_sched_credit(int argc, char **argv);
 int main_sched_credit2(int argc, char **argv);
+int main_sched_rtglobal(int argc, char **argv);
+int main_sched_rtpartition(int argc, char **argv);
 int main_sched_sedf(int argc, char **argv);
 int main_domid(int argc, char **argv);
 int main_domname(int argc, char **argv);
diff --git a/tools/libxl/xl_cmdimpl.c b/tools/libxl/xl_cmdimpl.c
old mode 100644
new mode 100755
index 8a478ba..6601285
--- a/tools/libxl/xl_cmdimpl.c
+++ b/tools/libxl/xl_cmdimpl.c
@@ -4938,6 +4938,62 @@ static int sched_credit2_domain_output(
     return 0;
 }
 
+// rtglobal
+static int sched_rtglobal_domain_output(
+    int domid)
+{
+    char *domname;
+    libxl_domain_sched_params scinfo;
+    int rc;
+
+    if (domid < 0) {
+        printf("%-33s %4s %6s %6s %4s %5s\n", "Name", "ID", "Period", "Budget", "Vcpu", "Extra");
+        return 0;
+    }
+    rc = sched_domain_get(LIBXL_SCHEDULER_RTGLOBAL, domid, &scinfo);
+    if (rc)
+        return rc;
+    domname = libxl_domid_to_name(ctx, domid);
+    printf("%-33s %4d %6d %6d %4d %5d\n",
+        domname,
+        domid,
+        scinfo.period,
+        scinfo.budget,
+        scinfo.vcpu,
+        scinfo.extra);
+    free(domname);
+    libxl_domain_sched_params_dispose(&scinfo);
+    return 0;
+}
+
+// rtpartition
+static int sched_rtpartition_domain_output(
+    int domid)
+{
+    char *domname;
+    libxl_domain_sched_params scinfo;
+    int rc;
+
+    if (domid < 0) {
+        printf("%-33s %4s %6s %6s %4s %5s\n", "Name", "ID", "Period", "Budget", "Vcpu", "Extra");
+        return 0;
+    }
+    rc = sched_domain_get(LIBXL_SCHEDULER_RTPARTITION, domid, &scinfo);
+    if (rc)
+        return rc;
+    domname = libxl_domid_to_name(ctx, domid);
+    printf("%-33s %4d %6d %6d %4d %5d\n",
+        domname,
+        domid,
+        scinfo.period,
+        scinfo.budget,
+        scinfo.vcpu,
+        scinfo.extra);
+    free(domname);
+    libxl_domain_sched_params_dispose(&scinfo);
+    return 0;
+}
+
 static int sched_sedf_domain_output(
     int domid)
 {
@@ -5223,6 +5279,184 @@ int main_sched_credit2(int argc, char **argv)
     return 0;
 }
 
+// rtglobal
+int main_sched_rtglobal(int argc, char **argv)
+{
+    const char *dom = NULL;
+    const char *cpupool = NULL;
+    int period = 10, opt_p = 0;
+    int budget = 4, opt_b = 0;
+    int vcpu = 0, opt_v = 0;
+    int extra = 0, opt_e = 0;
+    int opt, rc;
+    static struct option opts[] = {
+        {"domain", 1, 0, 'd'},
+        {"period", 1, 0, 'p'},
+        {"budget", 1, 0, 'b'},
+        {"vcpu", 1, 0, 'v'},
+        {"extra", 1, 0, 'e'},
+        {"cpupool", 1, 0, 'c'},
+        COMMON_LONG_OPTS,
+        {0, 0, 0, 0}
+    };
+
+    SWITCH_FOREACH_OPT(opt, "d:p:b:v:e:c", opts, "sched-rtglobal", 0) {
+    case 'd':
+        dom = optarg;
+        break;
+    case 'p':
+        period = strtol(optarg, NULL, 10);
+        opt_p = 1;
+        break;
+    case 'b':
+        budget = strtol(optarg, NULL, 10);
+        opt_b = 1;
+        break;
+    case 'v':
+        vcpu = strtol(optarg, NULL, 10);
+        opt_v = 1;
+        break;
+    case 'e':
+        extra = strtol(optarg, NULL, 10);
+        opt_e = 1;
+        break;
+    case 'c':
+        cpupool = optarg;
+        break;
+    }
+
+    if (cpupool && (dom || opt_p || opt_b || opt_v || opt_e)) {
+        fprintf(stderr, "Specifying a cpupool is not allowed with other "
+                "options.\n");
+        return 1;
+    }
+    if (!dom && (opt_p || opt_b || opt_v || opt_e)) {
+        fprintf(stderr, "Must specify a domain.\n");
+        return 1;
+    }
+
+    if (!dom) { /* list all domain's rtglobal scheduler info */
+        return -sched_domain_output(LIBXL_SCHEDULER_RTGLOBAL,
+                                    sched_rtglobal_domain_output,
+                                    sched_default_pool_output,
+                                    cpupool);
+    } else {
+        uint32_t domid = find_domain(dom);
+
+        if (!opt_p && !opt_b && !opt_v && !opt_e) { /* output rtglobal scheduler info */
+            sched_rtglobal_domain_output(-1);
+            return -sched_rtglobal_domain_output(domid);
+        } else { /* set rtglobal scheduler paramaters */
+            libxl_domain_sched_params scinfo;
+            libxl_domain_sched_params_init(&scinfo);
+            scinfo.sched = LIBXL_SCHEDULER_RTGLOBAL;
+            if (opt_p)
+                scinfo.period = period;
+            if (opt_b)
+                scinfo.budget = budget;
+            if (opt_v)
+                scinfo.vcpu = vcpu;
+            if (opt_e)
+                scinfo.extra = extra;
+            rc = sched_domain_set(domid, &scinfo);
+            libxl_domain_sched_params_dispose(&scinfo);
+            if (rc)
+                return -rc;
+        }
+    }
+
+    return 0;
+}
+
+// rtpartition
+int main_sched_rtpartition(int argc, char **argv)
+{
+    const char *dom = NULL;
+    const char *cpupool = NULL;
+    int period = 10, opt_p = 0;
+    int budget = 4, opt_b = 0;
+    int vcpu = 0, opt_v = 0;
+    int extra = 0, opt_e = 0;
+    int opt, rc;
+    static struct option opts[] = {
+        {"domain", 1, 0, 'd'},
+        {"period", 1, 0, 'p'},
+        {"budget", 1, 0, 'b'},
+        {"vcpu", 1, 0, 'v'},
+        {"extra", 1, 0, 'e'},
+        {"cpupool", 1, 0, 'c'},
+        COMMON_LONG_OPTS,
+        {0, 0, 0, 0}
+    };
+
+    SWITCH_FOREACH_OPT(opt, "d:p:b:v:e:c", opts, "sched-rtpartition", 0) {
+    case 'd':
+        dom = optarg;
+        break;
+    case 'p':
+        period = strtol(optarg, NULL, 10);
+        opt_p = 1;
+        break;
+    case 'b':
+        budget = strtol(optarg, NULL, 10);
+        opt_b = 1;
+        break;
+    case 'v':
+        vcpu = strtol(optarg, NULL, 10);
+        opt_v = 1;
+        break;
+    case 'e':
+        extra = strtol(optarg, NULL, 10);
+        opt_e = 1;
+        break;
+    case 'c':
+        cpupool = optarg;
+        break;
+    }
+
+    if (cpupool && (dom || opt_p || opt_b || opt_v || opt_e)) {
+        fprintf(stderr, "Specifying a cpupool is not allowed with other "
+                "options.\n");
+        return 1;
+    }
+    if (!dom && (opt_p || opt_b || opt_v || opt_e)) {
+        fprintf(stderr, "Must specify a domain.\n");
+        return 1;
+    }
+
+    if (!dom) { /* list all domain's rtpartition scheduler info */
+        return -sched_domain_output(LIBXL_SCHEDULER_RTPARTITION,
+                                    sched_rtpartition_domain_output,
+                                    sched_default_pool_output,
+                                    cpupool);
+    } else {
+        uint32_t domid = find_domain(dom);
+
+        if (!opt_p && !opt_b && !opt_v && !opt_e) { /* output rtpartition scheduler info */
+            sched_rtpartition_domain_output(-1);
+            return -sched_rtpartition_domain_output(domid);
+        } else { /* set rtpartition scheduler paramaters */
+            libxl_domain_sched_params scinfo;
+            libxl_domain_sched_params_init(&scinfo);
+            scinfo.sched = LIBXL_SCHEDULER_RTPARTITION;
+            if (opt_p)
+                scinfo.period = period;
+            if (opt_b)
+                scinfo.budget = budget;
+            if (opt_v)
+                scinfo.vcpu = vcpu;
+            if (opt_e)
+                scinfo.extra = extra;
+            rc = sched_domain_set(domid, &scinfo);
+            libxl_domain_sched_params_dispose(&scinfo);
+            if (rc)
+                return -rc;
+        }
+    }
+
+    return 0;
+}
+
 int main_sched_sedf(int argc, char **argv)
 {
     const char *dom = NULL;
@@ -5287,7 +5521,7 @@ int main_sched_sedf(int argc, char **argv)
                 "allowed.\n");
     }
 
-    if (!dom) { /* list all domain's credit scheduler info */
+    if (!dom) { /* list all domain's sedf scheduler info */
         return -sched_domain_output(LIBXL_SCHEDULER_SEDF,
                                     sched_sedf_domain_output,
                                     sched_default_pool_output,
diff --git a/tools/libxl/xl_cmdtable.c b/tools/libxl/xl_cmdtable.c
old mode 100644
new mode 100755
index 44b42b0..632462e
--- a/tools/libxl/xl_cmdtable.c
+++ b/tools/libxl/xl_cmdtable.c
@@ -255,6 +255,26 @@ struct cmd_spec cmd_table[] = {
       "-w WEIGHT, --weight=WEIGHT     Weight (int)\n"
       "-p CPUPOOL, --cpupool=CPUPOOL  Restrict output to CPUPOOL"
     },
+    { "sched-rtglobal",
+      &main_sched_rtglobal, 0, 1,
+      "Get/set rtglobal scheduler parameters",
+      "[-d <Domain> [-w[=WEIGHT]]] [-p CPUPOOL]",
+      "-d DOMAIN, --domain=DOMAIN     Domain to modify\n"
+      "-p PERIOD, --period=PERIOD     Period (int)\n"
+      "-b BUDGET, --budget=BUDGET     Budget (int)\n"
+      "-v VCPU,   --vcpu=VCPU         Vcpu (int)\n"
+      "-e EXTRA,  --extra=EXTRA       Extra (int)\n"
+    },
+    { "sched-rtpartition",
+      &main_sched_rtpartition, 0, 1,
+      "Get/set rtpartition scheduler parameters",
+      "[-d <Domain> [-w[=WEIGHT]]] [-p CPUPOOL]",
+      "-d DOMAIN, --domain=DOMAIN     Domain to modify\n"
+      "-p PERIOD, --period=PERIOD     Period (int)\n"
+      "-b BUDGET, --budget=BUDGET     Budget (int)\n"
+      "-v VCPU,   --vcpu=VCPU         Vcpu (int)\n"
+      "-e EXTRA,  --extra=EXTRA       Extra (int)\n"
+    },
     { "sched-sedf",
       &main_sched_sedf, 0, 1,
       "Get/set sedf scheduler parameters",
diff --git a/tools/libxl/xl_sxp.c b/tools/libxl/xl_sxp.c
old mode 100644
new mode 100755
diff --git a/tools/memshr/Makefile b/tools/memshr/Makefile
old mode 100644
new mode 100755
diff --git a/tools/memshr/bidir-daemon.c b/tools/memshr/bidir-daemon.c
old mode 100644
new mode 100755
diff --git a/tools/memshr/bidir-daemon.h b/tools/memshr/bidir-daemon.h
old mode 100644
new mode 100755
diff --git a/tools/memshr/bidir-hash.c b/tools/memshr/bidir-hash.c
old mode 100644
new mode 100755
diff --git a/tools/memshr/bidir-hash.h b/tools/memshr/bidir-hash.h
old mode 100644
new mode 100755
diff --git a/tools/memshr/bidir-namedefs.h b/tools/memshr/bidir-namedefs.h
old mode 100644
new mode 100755
diff --git a/tools/memshr/interface.c b/tools/memshr/interface.c
old mode 100644
new mode 100755
diff --git a/tools/memshr/memshr-priv.h b/tools/memshr/memshr-priv.h
old mode 100644
new mode 100755
diff --git a/tools/memshr/memshr.h b/tools/memshr/memshr.h
old mode 100644
new mode 100755
diff --git a/tools/memshr/shm.c b/tools/memshr/shm.c
old mode 100644
new mode 100755
diff --git a/tools/memshr/shm.h b/tools/memshr/shm.h
old mode 100644
new mode 100755
diff --git a/tools/misc/Makefile b/tools/misc/Makefile
old mode 100644
new mode 100755
diff --git a/tools/misc/gtracestat.c b/tools/misc/gtracestat.c
old mode 100644
new mode 100755
diff --git a/tools/misc/gtraceview.c b/tools/misc/gtraceview.c
old mode 100644
new mode 100755
diff --git a/tools/misc/lomount/Makefile b/tools/misc/lomount/Makefile
old mode 100644
new mode 100755
diff --git a/tools/misc/lomount/lomount.c b/tools/misc/lomount/lomount.c
old mode 100644
new mode 100755
diff --git a/tools/misc/miniterm/Makefile b/tools/misc/miniterm/Makefile
old mode 100644
new mode 100755
diff --git a/tools/misc/miniterm/README b/tools/misc/miniterm/README
old mode 100644
new mode 100755
diff --git a/tools/misc/miniterm/miniterm.c b/tools/misc/miniterm/miniterm.c
old mode 100644
new mode 100755
diff --git a/tools/misc/mkdeb b/tools/misc/mkdeb
old mode 100644
new mode 100755
diff --git a/tools/misc/nsplitd/Makefile b/tools/misc/nsplitd/Makefile
old mode 100644
new mode 100755
diff --git a/tools/misc/nsplitd/nsplitd.c b/tools/misc/nsplitd/nsplitd.c
old mode 100644
new mode 100755
diff --git a/tools/misc/sbdf2devicepath b/tools/misc/sbdf2devicepath
old mode 100644
new mode 100755
diff --git a/tools/misc/sxp-pretty b/tools/misc/sxp-pretty
old mode 100644
new mode 100755
diff --git a/tools/misc/xen-bugtool b/tools/misc/xen-bugtool
old mode 100644
new mode 100755
diff --git a/tools/misc/xen-detect.c b/tools/misc/xen-detect.c
old mode 100644
new mode 100755
diff --git a/tools/misc/xen-hptool.c b/tools/misc/xen-hptool.c
old mode 100644
new mode 100755
diff --git a/tools/misc/xen-hvmcrash.c b/tools/misc/xen-hvmcrash.c
old mode 100644
new mode 100755
diff --git a/tools/misc/xen-hvmctx.c b/tools/misc/xen-hvmctx.c
old mode 100644
new mode 100755
diff --git a/tools/misc/xen-lowmemd.c b/tools/misc/xen-lowmemd.c
old mode 100644
new mode 100755
diff --git a/tools/misc/xen-python-path b/tools/misc/xen-python-path
old mode 100644
new mode 100755
diff --git a/tools/misc/xen-ringwatch b/tools/misc/xen-ringwatch
old mode 100644
new mode 100755
diff --git a/tools/misc/xen-tmem-list-parse.c b/tools/misc/xen-tmem-list-parse.c
old mode 100644
new mode 100755
diff --git a/tools/misc/xencov.c b/tools/misc/xencov.c
old mode 100644
new mode 100755
diff --git a/tools/misc/xend b/tools/misc/xend
old mode 100644
new mode 100755
diff --git a/tools/misc/xenlockprof.c b/tools/misc/xenlockprof.c
old mode 100644
new mode 100755
diff --git a/tools/misc/xenperf.c b/tools/misc/xenperf.c
old mode 100644
new mode 100755
diff --git a/tools/misc/xenpm.c b/tools/misc/xenpm.c
old mode 100644
new mode 100755
diff --git a/tools/misc/xenwatchdogd.c b/tools/misc/xenwatchdogd.c
old mode 100644
new mode 100755
diff --git a/tools/misc/xsview b/tools/misc/xsview
old mode 100644
new mode 100755
diff --git a/tools/ocaml/LICENSE b/tools/ocaml/LICENSE
old mode 100644
new mode 100755
diff --git a/tools/ocaml/Makefile b/tools/ocaml/Makefile
old mode 100644
new mode 100755
diff --git a/tools/ocaml/Makefile.rules b/tools/ocaml/Makefile.rules
old mode 100644
new mode 100755
diff --git a/tools/ocaml/common.make b/tools/ocaml/common.make
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/Makefile b/tools/ocaml/libs/Makefile
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/eventchn/META.in b/tools/ocaml/libs/eventchn/META.in
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/eventchn/Makefile b/tools/ocaml/libs/eventchn/Makefile
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/eventchn/xeneventchn.ml b/tools/ocaml/libs/eventchn/xeneventchn.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/eventchn/xeneventchn.mli b/tools/ocaml/libs/eventchn/xeneventchn.mli
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/eventchn/xeneventchn_stubs.c b/tools/ocaml/libs/eventchn/xeneventchn_stubs.c
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/mmap/META.in b/tools/ocaml/libs/mmap/META.in
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/mmap/Makefile b/tools/ocaml/libs/mmap/Makefile
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/mmap/mmap_stubs.h b/tools/ocaml/libs/mmap/mmap_stubs.h
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/mmap/xenmmap.ml b/tools/ocaml/libs/mmap/xenmmap.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/mmap/xenmmap.mli b/tools/ocaml/libs/mmap/xenmmap.mli
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/mmap/xenmmap_stubs.c b/tools/ocaml/libs/mmap/xenmmap_stubs.c
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xb/META.in b/tools/ocaml/libs/xb/META.in
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xb/Makefile b/tools/ocaml/libs/xb/Makefile
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xb/op.ml b/tools/ocaml/libs/xb/op.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xb/packet.ml b/tools/ocaml/libs/xb/packet.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xb/partial.ml b/tools/ocaml/libs/xb/partial.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xb/xb.ml b/tools/ocaml/libs/xb/xb.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xb/xb.mli b/tools/ocaml/libs/xb/xb.mli
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xb/xenbus_stubs.c b/tools/ocaml/libs/xb/xenbus_stubs.c
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xb/xs_ring.ml b/tools/ocaml/libs/xb/xs_ring.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xb/xs_ring_stubs.c b/tools/ocaml/libs/xb/xs_ring_stubs.c
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xc/META.in b/tools/ocaml/libs/xc/META.in
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xc/Makefile b/tools/ocaml/libs/xc/Makefile
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xc/xenctrl.ml b/tools/ocaml/libs/xc/xenctrl.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xc/xenctrl.mli b/tools/ocaml/libs/xc/xenctrl.mli
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xc/xenctrl_stubs.c b/tools/ocaml/libs/xc/xenctrl_stubs.c
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xl/META.in b/tools/ocaml/libs/xl/META.in
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xl/Makefile b/tools/ocaml/libs/xl/Makefile
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xl/genwrap.py b/tools/ocaml/libs/xl/genwrap.py
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xl/xenlight.ml.in b/tools/ocaml/libs/xl/xenlight.ml.in
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xl/xenlight.mli.in b/tools/ocaml/libs/xl/xenlight.mli.in
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xl/xenlight_stubs.c b/tools/ocaml/libs/xl/xenlight_stubs.c
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xs/META.in b/tools/ocaml/libs/xs/META.in
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xs/Makefile b/tools/ocaml/libs/xs/Makefile
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xs/queueop.ml b/tools/ocaml/libs/xs/queueop.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xs/xs.ml b/tools/ocaml/libs/xs/xs.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xs/xs.mli b/tools/ocaml/libs/xs/xs.mli
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xs/xsraw.ml b/tools/ocaml/libs/xs/xsraw.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xs/xsraw.mli b/tools/ocaml/libs/xs/xsraw.mli
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xs/xst.ml b/tools/ocaml/libs/xs/xst.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/libs/xs/xst.mli b/tools/ocaml/libs/xs/xst.mli
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/Makefile b/tools/ocaml/xenstored/Makefile
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/config.ml b/tools/ocaml/xenstored/config.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/connection.ml b/tools/ocaml/xenstored/connection.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/connections.ml b/tools/ocaml/xenstored/connections.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/define.ml b/tools/ocaml/xenstored/define.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/disk.ml b/tools/ocaml/xenstored/disk.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/domain.ml b/tools/ocaml/xenstored/domain.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/domains.ml b/tools/ocaml/xenstored/domains.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/event.ml b/tools/ocaml/xenstored/event.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/logging.ml b/tools/ocaml/xenstored/logging.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/oxenstored.conf b/tools/ocaml/xenstored/oxenstored.conf
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/parse_arg.ml b/tools/ocaml/xenstored/parse_arg.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/perms.ml b/tools/ocaml/xenstored/perms.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/process.ml b/tools/ocaml/xenstored/process.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/quota.ml b/tools/ocaml/xenstored/quota.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/stdext.ml b/tools/ocaml/xenstored/stdext.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/store.ml b/tools/ocaml/xenstored/store.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/symbol.ml b/tools/ocaml/xenstored/symbol.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/symbol.mli b/tools/ocaml/xenstored/symbol.mli
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/syslog.ml b/tools/ocaml/xenstored/syslog.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/syslog.mli b/tools/ocaml/xenstored/syslog.mli
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/syslog_stubs.c b/tools/ocaml/xenstored/syslog_stubs.c
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/transaction.ml b/tools/ocaml/xenstored/transaction.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/trie.ml b/tools/ocaml/xenstored/trie.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/trie.mli b/tools/ocaml/xenstored/trie.mli
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/utils.ml b/tools/ocaml/xenstored/utils.ml
old mode 100644
new mode 100755
diff --git a/tools/ocaml/xenstored/xenstored.ml b/tools/ocaml/xenstored/xenstored.ml
old mode 100644
new mode 100755
diff --git a/tools/pygrub/Makefile b/tools/pygrub/Makefile
old mode 100644
new mode 100755
diff --git a/tools/pygrub/README b/tools/pygrub/README
old mode 100644
new mode 100755
diff --git a/tools/pygrub/examples/alpine-linux-2.3.2.extlinux b/tools/pygrub/examples/alpine-linux-2.3.2.extlinux
old mode 100644
new mode 100755
diff --git a/tools/pygrub/examples/fedora-16-with-xen.grub2 b/tools/pygrub/examples/fedora-16-with-xen.grub2
old mode 100644
new mode 100755
diff --git a/tools/pygrub/examples/fedora-19.grub2 b/tools/pygrub/examples/fedora-19.grub2
old mode 100644
new mode 100755
diff --git a/tools/pygrub/setup.py b/tools/pygrub/setup.py
old mode 100644
new mode 100755
diff --git a/tools/pygrub/src/ExtLinuxConf.py b/tools/pygrub/src/ExtLinuxConf.py
old mode 100644
new mode 100755
diff --git a/tools/pygrub/src/GrubConf.py b/tools/pygrub/src/GrubConf.py
old mode 100644
new mode 100755
diff --git a/tools/pygrub/src/LiloConf.py b/tools/pygrub/src/LiloConf.py
old mode 100644
new mode 100755
diff --git a/tools/pygrub/src/__init__.py b/tools/pygrub/src/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/pygrub/src/fsimage/fsimage.c b/tools/pygrub/src/fsimage/fsimage.c
old mode 100644
new mode 100755
diff --git a/tools/pygrub/src/pygrub b/tools/pygrub/src/pygrub
old mode 100644
new mode 100755
diff --git a/tools/python/Makefile b/tools/python/Makefile
old mode 100644
new mode 100755
diff --git a/tools/python/README b/tools/python/README
old mode 100644
new mode 100755
diff --git a/tools/python/README.XendConfig b/tools/python/README.XendConfig
old mode 100644
new mode 100755
diff --git a/tools/python/README.sxpcfg b/tools/python/README.sxpcfg
old mode 100644
new mode 100755
diff --git a/tools/python/ZPL-2.0 b/tools/python/ZPL-2.0
old mode 100644
new mode 100755
diff --git a/tools/python/genwrap.py b/tools/python/genwrap.py
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/PKG-INFO b/tools/python/logging/logging-0.4.9.2/PKG-INFO
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/README.txt b/tools/python/logging/logging-0.4.9.2/README.txt
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/default.css b/tools/python/logging/logging-0.4.9.2/default.css
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/liblogging.tex b/tools/python/logging/logging-0.4.9.2/liblogging.tex
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/logging/__init__.py b/tools/python/logging/logging-0.4.9.2/logging/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/logging/config.py b/tools/python/logging/logging-0.4.9.2/logging/config.py
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/logging/handlers.py b/tools/python/logging/logging-0.4.9.2/logging/handlers.py
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/python_logging.html b/tools/python/logging/logging-0.4.9.2/python_logging.html
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/setup.py b/tools/python/logging/logging-0.4.9.2/setup.py
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/test/app.py b/tools/python/logging/logging-0.4.9.2/test/app.py
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/test/critical.ini b/tools/python/logging/logging-0.4.9.2/test/critical.ini
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/test/debug.ini b/tools/python/logging/logging-0.4.9.2/test/debug.ini
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/test/error.ini b/tools/python/logging/logging-0.4.9.2/test/error.ini
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/test/events.xml b/tools/python/logging/logging-0.4.9.2/test/events.xml
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/test/log_test3.ini b/tools/python/logging/logging-0.4.9.2/test/log_test3.ini
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/test/logconf.ini b/tools/python/logging/logging-0.4.9.2/test/logconf.ini
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/test/logging.dtd b/tools/python/logging/logging-0.4.9.2/test/logging.dtd
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/test/logging.xml b/tools/python/logging/logging-0.4.9.2/test/logging.xml
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/test/logrecv.ini b/tools/python/logging/logging-0.4.9.2/test/logrecv.ini
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/test/myapp.py b/tools/python/logging/logging-0.4.9.2/test/myapp.py
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/test/mymodule.py b/tools/python/logging/logging-0.4.9.2/test/mymodule.py
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/test/stderr.exp b/tools/python/logging/logging-0.4.9.2/test/stderr.exp
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/test/stdout.exp b/tools/python/logging/logging-0.4.9.2/test/stdout.exp
old mode 100644
new mode 100755
diff --git a/tools/python/logging/logging-0.4.9.2/test/warn.ini b/tools/python/logging/logging-0.4.9.2/test/warn.ini
old mode 100644
new mode 100755
diff --git a/tools/python/logging/setup.py b/tools/python/logging/setup.py
old mode 100644
new mode 100755
diff --git a/tools/python/ptsname/ptsname.c b/tools/python/ptsname/ptsname.c
old mode 100644
new mode 100755
diff --git a/tools/python/pylintrc b/tools/python/pylintrc
old mode 100644
new mode 100755
diff --git a/tools/python/scripts/README b/tools/python/scripts/README
old mode 100644
new mode 100755
diff --git a/tools/python/scripts/README.lifecycle b/tools/python/scripts/README.lifecycle
old mode 100644
new mode 100755
diff --git a/tools/python/scripts/test_hvm_create.py b/tools/python/scripts/test_hvm_create.py
old mode 100644
new mode 100755
diff --git a/tools/python/scripts/test_vm_create.py b/tools/python/scripts/test_vm_create.py
old mode 100644
new mode 100755
diff --git a/tools/python/scripts/xapi.domcfg.py b/tools/python/scripts/xapi.domcfg.py
old mode 100644
new mode 100755
diff --git a/tools/python/scripts/xapi.py b/tools/python/scripts/xapi.py
old mode 100644
new mode 100755
diff --git a/tools/python/scripts/xapi.vbdcfg.py b/tools/python/scripts/xapi.vbdcfg.py
old mode 100644
new mode 100755
diff --git a/tools/python/scripts/xapi.vdicfg.py b/tools/python/scripts/xapi.vdicfg.py
old mode 100644
new mode 100755
diff --git a/tools/python/scripts/xapi.vifcfg.py b/tools/python/scripts/xapi.vifcfg.py
old mode 100644
new mode 100755
diff --git a/tools/python/scripts/xapi.vtpmcfg.py b/tools/python/scripts/xapi.vtpmcfg.py
old mode 100644
new mode 100755
diff --git a/tools/python/setup.py b/tools/python/setup.py
old mode 100644
new mode 100755
diff --git a/tools/python/test.py b/tools/python/test.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/__init__.py b/tools/python/xen/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/lowlevel/__init__.py b/tools/python/xen/lowlevel/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/lowlevel/checkpoint/checkpoint.c b/tools/python/xen/lowlevel/checkpoint/checkpoint.c
old mode 100644
new mode 100755
diff --git a/tools/python/xen/lowlevel/checkpoint/checkpoint.h b/tools/python/xen/lowlevel/checkpoint/checkpoint.h
old mode 100644
new mode 100755
diff --git a/tools/python/xen/lowlevel/checkpoint/libcheckpoint.c b/tools/python/xen/lowlevel/checkpoint/libcheckpoint.c
old mode 100644
new mode 100755
diff --git a/tools/python/xen/lowlevel/flask/flask.c b/tools/python/xen/lowlevel/flask/flask.c
old mode 100644
new mode 100755
diff --git a/tools/python/xen/lowlevel/netlink/libnetlink.c b/tools/python/xen/lowlevel/netlink/libnetlink.c
old mode 100644
new mode 100755
diff --git a/tools/python/xen/lowlevel/netlink/libnetlink.h b/tools/python/xen/lowlevel/netlink/libnetlink.h
old mode 100644
new mode 100755
diff --git a/tools/python/xen/lowlevel/netlink/netlink.c b/tools/python/xen/lowlevel/netlink/netlink.c
old mode 100644
new mode 100755
diff --git a/tools/python/xen/lowlevel/process/process.c b/tools/python/xen/lowlevel/process/process.c
old mode 100644
new mode 100755
diff --git a/tools/python/xen/lowlevel/scf/scf.c b/tools/python/xen/lowlevel/scf/scf.c
old mode 100644
new mode 100755
diff --git a/tools/python/xen/lowlevel/xc/xc.c b/tools/python/xen/lowlevel/xc/xc.c
old mode 100644
new mode 100755
index e611b24..6b65ef2
--- a/tools/python/xen/lowlevel/xc/xc.c
+++ b/tools/python/xen/lowlevel/xc/xc.c
@@ -1661,6 +1661,102 @@ static PyObject *pyxc_sched_credit2_domain_get(XcObject *self, PyObject *args)
                          "weight",  sdom.weight);
 }
 
+/* rtglobal */
+static PyObject *pyxc_sched_rtglobal_domain_set(XcObject *self,
+                                              PyObject *args,
+                                              PyObject *kwds)
+{
+    uint32_t domid = 0;
+    uint64_t period = 0;
+    uint64_t budget = 0;
+    uint16_t vcpu = 0;
+    uint16_t extra = 0;
+    static char *kwd_list[] = { "domid", "period", "budget", "vcpu", "extra", NULL };
+    static char kwd_type[] = "I|LLhh";
+    struct xen_domctl_sched_rtglobal sdom;
+
+    if( !PyArg_ParseTupleAndKeywords(args, kwds, kwd_type, kwd_list,
+                                     &domid, &period, &budget, &vcpu, &extra) )
+        return NULL;
+
+    sdom.period = period;
+    sdom.budget = budget;
+    sdom.vcpu = vcpu;
+    sdom.extra = extra;
+
+    if ( xc_sched_rtglobal_domain_set(self->xc_handle, domid, &sdom) != 0 )
+        return pyxc_error_to_exception(self->xc_handle);
+
+    Py_INCREF(zero);
+    return zero;
+}
+
+static PyObject *pyxc_sched_rtglobal_domain_get(XcObject *self, PyObject *args)
+{
+    uint32_t domid;
+    struct xen_domctl_sched_rtglobal sdom;
+
+    if( !PyArg_ParseTuple(args, "I", &domid) )
+        return NULL;
+
+    if ( xc_sched_rtglobal_domain_get(self->xc_handle, domid, &sdom) != 0 )
+        return pyxc_error_to_exception(self->xc_handle);
+
+    return Py_BuildValue("{s:L,s:L,s:H,s:H}",
+                         "period",  sdom.period,
+                         "budget",  sdom.budget,
+                         "vcpu",    sdom.vcpu,
+                         "extra",   sdom.extra);
+}
+
+/* rtpartition */
+static PyObject *pyxc_sched_rtpartition_domain_set(XcObject *self,
+                                              PyObject *args,
+                                              PyObject *kwds)
+{
+    uint32_t domid = 0;
+    uint64_t period = 0;
+    uint64_t budget = 0;
+    uint16_t vcpu = 0;
+    uint16_t extra = 0;
+    static char *kwd_list[] = { "domid", "period", "budget", "vcpu", "extra", NULL };
+    static char kwd_type[] = "I|LLhh";
+    struct xen_domctl_sched_rtpartition sdom;
+
+    if( !PyArg_ParseTupleAndKeywords(args, kwds, kwd_type, kwd_list,
+                                     &domid, &period, &budget, &vcpu, &extra) )
+        return NULL;
+
+    sdom.period = period;
+    sdom.budget = budget;
+    sdom.vcpu = vcpu;
+    sdom.extra = extra;
+
+    if ( xc_sched_rtpartition_domain_set(self->xc_handle, domid, &sdom) != 0 )
+        return pyxc_error_to_exception(self->xc_handle);
+
+    Py_INCREF(zero);
+    return zero;
+}
+
+static PyObject *pyxc_sched_rtpartition_domain_get(XcObject *self, PyObject *args)
+{
+    uint32_t domid;
+    struct xen_domctl_sched_rtpartition sdom;
+
+    if( !PyArg_ParseTuple(args, "I", &domid) )
+        return NULL;
+
+    if ( xc_sched_rtpartition_domain_get(self->xc_handle, domid, &sdom) != 0 )
+        return pyxc_error_to_exception(self->xc_handle);
+
+    return Py_BuildValue("{s:L,s:L,s:H,s:H}",
+                         "period",  sdom.period,
+                         "budget",  sdom.budget,
+                         "vcpu",    sdom.vcpu,
+                         "extra",   sdom.extra);
+}
+
 static PyObject *pyxc_domain_setmaxmem(XcObject *self, PyObject *args)
 {
     uint32_t dom;
@@ -2604,6 +2700,54 @@ static PyMethodDef pyxc_methods[] = {
       "Returns:   [dict]\n"
       " weight    [short]: domain's scheduling weight\n"},
 
+    { "sched_rtglobal_domain_set",
+      (PyCFunction)pyxc_sched_rtglobal_domain_set,
+      METH_KEYWORDS, "\n"
+      "Set the scheduling parameters for a domain when running with the\n"
+      "SMP rtglobal scheduler.\n"
+      " domid     [int]:   domain id to set\n"
+      " period    [period]: domain's scheduling period\n"
+      " budget    [budget]: domain's scheduling budget\n"
+      " vcpu      [vcpu]:   domain's scheduling vcpu\n"
+      " extra     [extra]:  domain's scheduling extra\n"
+      "Returns: [int] 0 on success; -1 on error.\n" },
+
+    { "sched_rtglobal_domain_get",
+      (PyCFunction)pyxc_sched_rtglobal_domain_get,
+      METH_VARARGS, "\n"
+      "Get the scheduling parameters for a domain when running with the\n"
+      "SMP rtglobal scheduler.\n"
+      " domid     [int]:   domain id to get\n"
+      "Returns:   [dict]\n"
+      " period    [period]: domain's scheduling period\n"
+      " budget    [budget]: domain's scheduling budget\n"
+      " vcpu      [vcpu]:   domain's scheduling vcpu\n"
+      " extra     [extra]:  domain's scheduling extra\n"},
+
+    { "sched_rtpartition_domain_set",
+      (PyCFunction)pyxc_sched_rtpartition_domain_set,
+      METH_KEYWORDS, "\n"
+      "Set the scheduling parameters for a domain when running with the\n"
+      "SMP rtpartition scheduler.\n"
+      " domid     [int]:   domain id to set\n"
+      " period    [period]: domain's scheduling period\n"
+      " budget    [budget]: domain's scheduling budget\n"
+      " vcpu      [vcpu]:   domain's scheduling vcpu\n"
+      " extra     [extra]:  domain's scheduling extra\n"
+      "Returns: [int] 0 on success; -1 on error.\n" },
+
+    { "sched_rtpartition_domain_get",
+      (PyCFunction)pyxc_sched_rtpartition_domain_get,
+      METH_VARARGS, "\n"
+      "Get the scheduling parameters for a domain when running with the\n"
+      "SMP rtpartition scheduler.\n"
+      " domid     [int]:   domain id to get\n"
+      "Returns:   [dict]\n"
+      " period    [period]: domain's scheduling period\n"
+      " budget    [budget]: domain's scheduling budget\n"
+      " vcpu      [vcpu]:   domain's scheduling vcpu\n"
+      " extra     [extra]:  domain's scheduling extra\n"},
+
     { "evtchn_alloc_unbound", 
       (PyCFunction)pyxc_evtchn_alloc_unbound,
       METH_VARARGS | METH_KEYWORDS, "\n"
@@ -3095,7 +3239,9 @@ PyMODINIT_FUNC initxc(void)
     PyModule_AddIntConstant(m, "XEN_SCHEDULER_SEDF", XEN_SCHEDULER_SEDF);
     PyModule_AddIntConstant(m, "XEN_SCHEDULER_CREDIT", XEN_SCHEDULER_CREDIT);
     PyModule_AddIntConstant(m, "XEN_SCHEDULER_CREDIT2", XEN_SCHEDULER_CREDIT2);
-
+    PyModule_AddIntConstant(m, "XEN_SCHEDULER_RTGLOBAL", XEN_SCHEDULER_RTGLOBAL);
+    PyModule_AddIntConstant(m, "XEN_SCHEDULER_RTPARTITION", XEN_SCHEDULER_RTPARTITION);
+    
 }
 
 
diff --git a/tools/python/xen/lowlevel/xl/xl.c b/tools/python/xen/lowlevel/xl/xl.c
old mode 100644
new mode 100755
diff --git a/tools/python/xen/lowlevel/xs/xs.c b/tools/python/xen/lowlevel/xs/xs.c
old mode 100644
new mode 100755
diff --git a/tools/python/xen/remus/__init__.py b/tools/python/xen/remus/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/remus/blkdev.py b/tools/python/xen/remus/blkdev.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/remus/device.py b/tools/python/xen/remus/device.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/remus/image.py b/tools/python/xen/remus/image.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/remus/netlink.py b/tools/python/xen/remus/netlink.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/remus/profile.py b/tools/python/xen/remus/profile.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/remus/qdisc.py b/tools/python/xen/remus/qdisc.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/remus/save.py b/tools/python/xen/remus/save.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/remus/tapdisk.py b/tools/python/xen/remus/tapdisk.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/remus/util.py b/tools/python/xen/remus/util.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/remus/vbd.py b/tools/python/xen/remus/vbd.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/remus/vdi.py b/tools/python/xen/remus/vdi.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/remus/vif.py b/tools/python/xen/remus/vif.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/remus/vm.py b/tools/python/xen/remus/vm.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/Brctl.py b/tools/python/xen/util/Brctl.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/SSHTransport.py b/tools/python/xen/util/SSHTransport.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/__init__.py b/tools/python/xen/util/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/acmpolicy.py b/tools/python/xen/util/acmpolicy.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/asserts.py b/tools/python/xen/util/asserts.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/auxbin.py b/tools/python/xen/util/auxbin.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/blkif.py b/tools/python/xen/util/blkif.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/bootloader.py b/tools/python/xen/util/bootloader.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/bugtool.py b/tools/python/xen/util/bugtool.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/diagnose.py b/tools/python/xen/util/diagnose.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/dictio.py b/tools/python/xen/util/dictio.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/fileuri.py b/tools/python/xen/util/fileuri.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/ip.py b/tools/python/xen/util/ip.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/mac.py b/tools/python/xen/util/mac.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/mkdir.py b/tools/python/xen/util/mkdir.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/oshelp.py b/tools/python/xen/util/oshelp.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/pci.py b/tools/python/xen/util/pci.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/rwlock.py b/tools/python/xen/util/rwlock.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/sxputils.py b/tools/python/xen/util/sxputils.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/utils.py b/tools/python/xen/util/utils.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/vscsi_util.py b/tools/python/xen/util/vscsi_util.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/vusb_util.py b/tools/python/xen/util/vusb_util.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/xmlrpcclient.py b/tools/python/xen/util/xmlrpcclient.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/xmlrpclib2.py b/tools/python/xen/util/xmlrpclib2.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/xpopen.py b/tools/python/xen/util/xpopen.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/xsconstants.py b/tools/python/xen/util/xsconstants.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/xsm/__init__.py b/tools/python/xen/util/xsm/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/xsm/acm/__init__.py b/tools/python/xen/util/xsm/acm/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/xsm/acm/acm.py b/tools/python/xen/util/xsm/acm/acm.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/xsm/dummy/__init__.py b/tools/python/xen/util/xsm/dummy/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/xsm/dummy/dummy.py b/tools/python/xen/util/xsm/dummy/dummy.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/xsm/flask/__init__.py b/tools/python/xen/util/xsm/flask/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/xsm/flask/flask.py b/tools/python/xen/util/xsm/flask/flask.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/xsm/xsm.py b/tools/python/xen/util/xsm/xsm.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/xsm/xsm_core.py b/tools/python/xen/util/xsm/xsm_core.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/util/xspolicy.py b/tools/python/xen/util/xspolicy.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/web/SrvBase.py b/tools/python/xen/web/SrvBase.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/web/SrvDir.py b/tools/python/xen/web/SrvDir.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/web/__init__.py b/tools/python/xen/web/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/web/connection.py b/tools/python/xen/web/connection.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/web/http.py b/tools/python/xen/web/http.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/web/httpserver.py b/tools/python/xen/web/httpserver.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/web/protocol.py b/tools/python/xen/web/protocol.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/web/resource.py b/tools/python/xen/web/resource.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/web/static.py b/tools/python/xen/web/static.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/web/tcp.py b/tools/python/xen/web/tcp.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/web/unix.py b/tools/python/xen/web/unix.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/Args.py b/tools/python/xen/xend/Args.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/MemoryPool.py b/tools/python/xen/xend/MemoryPool.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/PrettyPrint.py b/tools/python/xen/xend/PrettyPrint.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/Vifctl.py b/tools/python/xen/xend/Vifctl.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendAPI.py b/tools/python/xen/xend/XendAPI.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendAPIConstants.py b/tools/python/xen/xend/XendAPIConstants.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendAPIStore.py b/tools/python/xen/xend/XendAPIStore.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendAPIVersion.py b/tools/python/xen/xend/XendAPIVersion.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendAuthSessions.py b/tools/python/xen/xend/XendAuthSessions.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendBase.py b/tools/python/xen/xend/XendBase.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendBootloader.py b/tools/python/xen/xend/XendBootloader.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendCPUPool.py b/tools/python/xen/xend/XendCPUPool.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendCheckpoint.py b/tools/python/xen/xend/XendCheckpoint.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendClient.py b/tools/python/xen/xend/XendClient.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendConfig.py b/tools/python/xen/xend/XendConfig.py
old mode 100644
new mode 100755
index 4a226a7..9a3623a
--- a/tools/python/xen/xend/XendConfig.py
+++ b/tools/python/xen/xend/XendConfig.py
@@ -702,6 +702,33 @@ class XendConfig(dict):
         else:
             cfg["vcpus_params"]["cap"] = int(cfg["vcpus_params"]["cap"])
 
+# # rt-xen
+#         if not cfg["vcpus_params"].has_key("period"):
+#             cfg["vcpus_params"]["period"] = \
+#                 int(sxp.child_value(sxp_cfg, "cpu_period", 10))
+#         else:
+#             cfg["vcpus_params"]["period"] = int(cfg["vcpus_params"]["period"])
+
+#         if not cfg["vcpus_params"].has_key("budget"):
+#             cfg["vcpus_params"]["budget"] = \
+#                 int(sxp.child_value(sxp_cfg, "cpu_budget", 4))
+#         else:
+#             cfg["vcpus_params"]["budget"] = int(cfg["vcpus_params"]["budget"])
+
+#         if not cfg["vcpus_params"].has_key("vcpu"):
+#             cfg["vcpus_params"]["vcpu"] = \
+#                 int(sxp.child_value(sxp_cfg, "cpu_vcpu", 0))
+#         else:
+#             cfg["vcpus_params"]["vcpu"] = int(cfg["vcpus_params"]["vcpu"])
+
+#         if not cfg["vcpus_params"].has_key("extra"):
+#             cfg["vcpus_params"]["extra"] = \
+#                 int(sxp.child_value(sxp_cfg, "cpu_extra", 0))
+#         else:
+#             cfg["vcpus_params"]["extra"] = int(cfg["vcpus_params"]["extra"])
+
+
+
         # Only extract options we know about.
         extract_keys = LEGACY_UNSUPPORTED_BY_XENAPI_CFG + \
                   XENAPI_CFG_TO_LEGACY_CFG.values()
diff --git a/tools/python/xen/xend/XendConstants.py b/tools/python/xen/xend/XendConstants.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendDPCI.py b/tools/python/xen/xend/XendDPCI.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendDSCSI.py b/tools/python/xen/xend/XendDSCSI.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendDevices.py b/tools/python/xen/xend/XendDevices.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendDmesg.py b/tools/python/xen/xend/XendDmesg.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendDomain.py b/tools/python/xen/xend/XendDomain.py
old mode 100644
new mode 100755
index 1d4da8f..4084ca4
--- a/tools/python/xen/xend/XendDomain.py
+++ b/tools/python/xen/xend/XendDomain.py
@@ -168,7 +168,7 @@ class XendDomain:
             running = self._running_domains()
             managed = self._managed_domains()
 
-            # add all active domains
+            # add algetBudgetl active domains
             for dom in running:
                 if dom['dying'] == 1:
                     log.warn('Ignoring dying domain %d from now on' %
@@ -1778,6 +1778,205 @@ class XendDomain:
             log.exception(ex)
             raise XendError(str(ex))
 
+# # rtglobal
+#     def domain_sched_rtglobal_get(self, domid):
+#         """Get rtglobal scheduler parameters for a domain.
+
+#         @param domid: Domain ID or Name
+#         @type domid: int or string.
+#         @rtype: dict with keys 'period', 'budget', 'vcpu' and 'extra'
+#         @return: rtglobal scheduler parameters
+#         """
+#         dominfo = self.domain_lookup_nr(domid)
+#         if not dominfo:
+#             raise XendInvalidDomain(str(domid))
+        
+#         if dominfo._stateGet() in (DOM_STATE_RUNNING, DOM_STATE_PAUSED):
+#             try:
+#                 return xc.sched_rtglobal_domain_get(dominfo.getDomid())
+#             except Exception, ex:
+#                 raise XendError(str(ex))
+#         else:
+#             return {'period' : dominfo.getPeriod(),
+#                     'budget' : dominfo.getBudget(),
+#                     'vcpu'   : dominfo.getVcpu(),
+#                     'extra'  : dominfo.getExtra()}
+    
+#     def domain_sched_rtglobal_set(self, domid, period = None, budget = None, vcpu = None, extra = None):
+#         """Set rtglobal scheduler parameters for a domain.
+
+#         @param domid: Domain ID or Name
+#         @type domid: int or string.
+#         @type period: int
+#         @type budget: int
+#         @type vcpu: int
+#         @type extra: int
+#         @rtype: 0
+#         """
+
+#         set_period = False
+#         set_budget = False
+#         set_vcpu = False
+#         set_extra = False
+#         dominfo = self.domain_lookup_nr(domid)
+#         if not dominfo:
+#             raise XendInvalidDomain(str(domid))
+#         try:
+#             if period is None:
+#                 period = int(0)
+#             elif period < 1 or period > 65535:
+#                 raise XendError("Cpu period out of range, valid values are "
+#                                 "within range from 1 to 65535")
+#             else:
+#                 set_period = True
+
+#             if budget is None:
+#                 budget = int(0)
+#             elif budget < 1 or budget > 65535:
+#                 raise XendError("Cpu budget out of range, valid values are "
+#                                 "within range from 1 to 65535")
+#             else:
+#                 set_budget = True
+
+#             if vcpu is None:
+#                 vcpu = int(0)
+#             elif vcpu < 0 or vcpu > 65535:
+#                 raise XendError("Cpu vcpu out of range, valid values are "
+#                                 "within range from 0 to 65535")
+#             else:
+#                 set_vcpu = True
+
+#             if extra is None:
+#                 extra = int(0)
+#             elif extra < 0 or extra > 65535:
+#                 raise XendError("Cpu extra out of range, valid values are "
+#                                 "within range from 0 to 65535")
+#             else:
+#                 set_extra = True
+
+#             assert type(period) == int
+#             assert type(budget) == int
+#             assert type(vcpu) == int
+#             assert type(extra) == int
+
+#             rc = 0
+#             if dominfo._stateGet() in (DOM_STATE_RUNNING, DOM_STATE_PAUSED):
+#                 rc = xc.sched_rtglobal_domain_set(dominfo.getDomid(), period, budget, vcpu, extra)
+#             if rc == 0:
+#                 if set_period:
+#                     dominfo.setPeriod(period)
+#                 if set_budget:
+#                     dominfo.setBudget(budget)
+#                 if set_vcpu:
+#                     dominfo.setVcpu(vcpu)
+#                 if set_extra:
+#                     dominfo.setExtra(extra)                    
+#                 self.managed_config_save(dominfo)
+#             return rc
+#         except Exception, ex:
+#             log.exception(ex)
+#             raise XendError(str(ex))
+
+# # rtpartition
+#     def domain_sched_rtpartition_get(self, domid):
+#         """Get rtpartition scheduler parameters for a domain.
+
+#         @param domid: Domain ID or Name
+#         @type domid: int or string.
+#         @rtype: dict with keys 'period', 'budget', 'vcpu' and 'extra'
+#         @return: rtpartition scheduler parameters
+#         """
+#         dominfo = self.domain_lookup_nr(domid)
+#         if not dominfo:
+#             raise XendInvalidDomain(str(domid))
+        
+#         if dominfo._stateGet() in (DOM_STATE_RUNNING, DOM_STATE_PAUSED):
+#             try:
+#                 return xc.sched_rtpartition_domain_get(dominfo.getDomid())
+#             except Exception, ex:
+#                 raise XendError(str(ex))
+#         else:
+#             return {'period' : dominfo.getPeriod(),
+#                     'budget' : dominfo.getBudget(),
+#                     'vcpu'   : dominfo.getVcpu(),
+#                     'extra'  : dominfo.getExtra()}
+    
+#     def domain_sched_rtpartition_set(self, domid, period = None, budget = None, vcpu = None, extra = None):
+#         """Set rtpartition scheduler parameters for a domain.
+
+#         @param domid: Domain ID or Name
+#         @type domid: int or string.
+#         @type period: int
+#         @type budget: int
+#         @type vcpu: int
+#         @type extra: int
+#         @rtype: 0
+#         """
+
+#         set_period = False
+#         set_budget = False
+#         set_vcpu = False
+#         set_extra = False
+#         dominfo = self.domain_lookup_nr(domid)
+#         if not dominfo:
+#             raise XendInvalidDomain(str(domid))
+#         try:
+#             if period is None:
+#                 period = int(0)
+#             elif period < 1 or period > 65535:
+#                 raise XendError("Cpu period out of range, valid values are "
+#                                 "within range from 1 to 65535")
+#             else:
+#                 set_period = True
+
+#             if budget is None:
+#                 budget = int(0)
+#             elif budget < 1 or budget > 65535:
+#                 raise XendError("Cpu budget out of range, valid values are "
+#                                 "within range from 1 to 65535")
+#             else:
+#                 set_budget = True
+
+#             if vcpu is None:
+#                 vcpu = int(0)
+#             elif vcpu < 0 or vcpu > 65535:
+#                 raise XendError("Cpu vcpu out of range, valid values are "
+#                                 "within range from 0 to 65535")
+#             else:
+#                 set_vcpu = True
+
+#             if extra is None:
+#                 extra = int(0)
+#             elif extra < 0 or extra > 65535:
+#                 raise XendError("Cpu extra out of range, valid values are "
+#                                 "within range from 0 to 65535")
+#             else:
+#                 set_extra = True
+
+#             assert type(period) == int
+#             assert type(budget) == int
+#             assert type(vcpu) == int
+#             assert type(extra) == int
+
+#             rc = 0
+#             if dominfo._stateGet() in (DOM_STATE_RUNNING, DOM_STATE_PAUSED):
+#                 rc = xc.sched_rtpartition_domain_set(dominfo.getDomid(), period, budget, vcpu, extra)
+#             if rc == 0:
+#                 if set_period:
+#                     dominfo.setPeriod(period)
+#                 if set_budget:
+#                     dominfo.setBudget(budget)
+#                 if set_vcpu:
+#                     dominfo.setVcpu(vcpu)
+#                 if set_extra:
+#                     dominfo.setExtra(extra)                    
+#                 self.managed_config_save(dominfo)
+#             return rc
+#         except Exception, ex:
+#             log.exception(ex)
+#             raise XendError(str(ex))
+
+
     def domain_sched_credit2_get(self, domid):
         """Get credit2 scheduler parameters for a domain.
 
diff --git a/tools/python/xen/xend/XendDomainInfo.py b/tools/python/xen/xend/XendDomainInfo.py
old mode 100644
new mode 100755
index e9d3e7e..56ac230
--- a/tools/python/xen/xend/XendDomainInfo.py
+++ b/tools/python/xen/xend/XendDomainInfo.py
@@ -2010,6 +2010,30 @@ class XendDomainInfo:
     def setWeight(self, cpu_weight):
         self.info['vcpus_params']['weight'] = cpu_weight
 
+    # def getPeriod(self):
+    #     return self.info['vcpus_params']['period']
+
+    # def setPeriod(self, cpu_period):
+    #     self.info['vcpus_params']['period'] = cpu_period
+
+    # def getBudget(self):
+    #     return self.info['vcpus_params']['budget']
+
+    # def setBudget(self, cpu_budget):
+    #     self.info['vcpus_params']['budget'] = cpu_budget
+
+    # def getVcpu(self):
+    #     return self.info['vcpus_params']['vcpu']
+
+    # def setVcpu(self, cpu_vcpu):
+    #     self.info['vcpus_params']['vcpu'] = cpu_vcpu
+
+    # def getExtra(self):
+    #     return self.info['vcpus_params']['extra']
+
+    # def setExtra(self, cpu_extra):
+    #     self.info['vcpus_params']['extra'] = cpu_extra
+
     def getRestartCount(self):
         return self._readVm('xend/restart_count')
 
@@ -2835,6 +2859,20 @@ class XendDomainInfo:
             from xen.xend import XendDomain
             XendDomain.instance().domain_sched_credit2_set(self.getDomid(),
                                                            self.getWeight())
+        # elif XendNode.instance().xenschedinfo() == 'rtglobal':
+        #     from xen.xend import XendDomain
+        #     XendDomain.instance().domain_sched_rtglobal_set(self.getDomid(),
+        #                                                     self.getPeriod(),
+        #                                                     self.getBudget(),
+        #                                                     self.getVcpu(),
+        #                                                     self.getExtra())
+        # elif XendNode.instance().xenschedinfo() == 'rtpartition':
+        #     from xen.xend import XendDomain
+        #     XendDomain.instance().domain_sched_rtpartition_set(self.getDomid(),
+        #                                                        self.getPeriod(),
+        #                                                        self.getBudget(),
+        #                                                        self.getVcpu(),
+        #                                                        self.getExtra())
 
     def _initDomain(self):
         log.debug('XendDomainInfo.initDomain: %s %s',
diff --git a/tools/python/xen/xend/XendError.py b/tools/python/xen/xend/XendError.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendLocalStorageRepo.py b/tools/python/xen/xend/XendLocalStorageRepo.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendLogging.py b/tools/python/xen/xend/XendLogging.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendMonitor.py b/tools/python/xen/xend/XendMonitor.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendNetwork.py b/tools/python/xen/xend/XendNetwork.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendNode.py b/tools/python/xen/xend/XendNode.py
old mode 100644
new mode 100755
index f16932c..38a2a47
--- a/tools/python/xen/xend/XendNode.py
+++ b/tools/python/xen/xend/XendNode.py
@@ -808,6 +808,11 @@ class XendNode:
             return 'credit'
         elif sched_id == xen.lowlevel.xc.XEN_SCHEDULER_CREDIT2:
             return 'credit2'
+        elif sched_id == xen.lowlevel.xc.XEN_SCHEDULER_RTGLOBAL:
+            return 'rtglobal'
+        elif sched_id == xen.lowlevel.xc.XEN_SCHEDULER_RTPARTITION:
+            return 'rtpartition'
+        
         else:
             return 'unknown'
 
@@ -1022,6 +1027,10 @@ class XendNode:
             return 'credit'
         elif sched_id == xen.lowlevel.xc.XEN_SCHEDULER_CREDIT2:
             return 'credit2'
+        elif sched_id == xen.lowlevel.xc.XEN_SCHEDULER_RTGLOBAL:
+            return 'rtglobal'
+        elif sched_id == xen.lowlevel.xc.XEN_SCHEDULER_RTPARTITION:
+            return 'rtpartition'
         else:
             return 'unknown'
 
diff --git a/tools/python/xen/xend/XendOptions.py b/tools/python/xen/xend/XendOptions.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendPBD.py b/tools/python/xen/xend/XendPBD.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendPIF.py b/tools/python/xen/xend/XendPIF.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendPIFMetrics.py b/tools/python/xen/xend/XendPIFMetrics.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendPPCI.py b/tools/python/xen/xend/XendPPCI.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendPSCSI.py b/tools/python/xen/xend/XendPSCSI.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendProtocol.py b/tools/python/xen/xend/XendProtocol.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendQCoWStorageRepo.py b/tools/python/xen/xend/XendQCoWStorageRepo.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendSXPDev.py b/tools/python/xen/xend/XendSXPDev.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendStateStore.py b/tools/python/xen/xend/XendStateStore.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendStorageRepository.py b/tools/python/xen/xend/XendStorageRepository.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendTask.py b/tools/python/xen/xend/XendTask.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendTaskManager.py b/tools/python/xen/xend/XendTaskManager.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendVDI.py b/tools/python/xen/xend/XendVDI.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendVMMetrics.py b/tools/python/xen/xend/XendVMMetrics.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendVnet.py b/tools/python/xen/xend/XendVnet.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendXSPolicy.py b/tools/python/xen/xend/XendXSPolicy.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/XendXSPolicyAdmin.py b/tools/python/xen/xend/XendXSPolicyAdmin.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/__init__.py b/tools/python/xen/xend/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/arch.py b/tools/python/xen/xend/arch.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/balloon.py b/tools/python/xen/xend/balloon.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/encode.py b/tools/python/xen/xend/encode.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/image.py b/tools/python/xen/xend/image.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/osdep.py b/tools/python/xen/xend/osdep.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/BlktapController.py b/tools/python/xen/xend/server/BlktapController.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/ConsoleController.py b/tools/python/xen/xend/server/ConsoleController.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/DevConstants.py b/tools/python/xen/xend/server/DevConstants.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/DevController.py b/tools/python/xen/xend/server/DevController.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/SSLXMLRPCServer.py b/tools/python/xen/xend/server/SSLXMLRPCServer.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/SrvDaemon.py b/tools/python/xen/xend/server/SrvDaemon.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/SrvDmesg.py b/tools/python/xen/xend/server/SrvDmesg.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/SrvDomain.py b/tools/python/xen/xend/server/SrvDomain.py
old mode 100644
new mode 100755
index aa07b7a..5358aed
--- a/tools/python/xen/xend/server/SrvDomain.py
+++ b/tools/python/xen/xend/server/SrvDomain.py
@@ -163,6 +163,42 @@ class SrvDomain(SrvDir):
         val = fn(req.args, {'dom': self.dom.getName()})
         return val
 
+# # rtglobal
+#     def op_domain_sched_rtglobal_get(self, _, req):
+#         fn = FormFn(self.xd.domain_sched_rtglobal_get,
+#                     [['dom', 'str']])
+#         val = fn(req.args, {'dom': self.dom.getName()})
+#         return val
+
+
+#     def op_domain_sched_rtglobal_set(self, _, req):
+#         fn = FormFn(self.xd.domain_sched_rtglobal_set,
+#                     [['dom', 'str'],
+#                      ['period', 'int'],
+#                      ['budget', 'int'],
+#                      ['vcpu', 'int'],
+#                      ['extra', 'int']])
+#         val = fn(req.args, {'dom': self.dom.getName()})
+#         return val
+
+# # rtpartition
+#     def op_domain_sched_rtpartition_get(self, _, req):
+#         fn = FormFn(self.xd.domain_sched_rtpartition_get,
+#                     [['dom', 'str']])
+#         val = fn(req.args, {'dom': self.dom.getName()})
+#         return val
+
+
+#     def op_domain_sched_rtpartition_set(self, _, req):
+#         fn = FormFn(self.xd.domain_sched_rtpartition_set,
+#                     [['dom', 'str'],
+#                      ['period', 'int'],
+#                      ['budget', 'int'],
+#                      ['vcpu', 'int'],
+#                      ['extra', 'int']])
+#         val = fn(req.args, {'dom': self.dom.getName()})
+#         return val
+
     def op_domain_sched_credit2_get(self, _, req):
         fn = FormFn(self.xd.domain_sched_credit2_get,
                     [['dom', 'str']])
diff --git a/tools/python/xen/xend/server/SrvDomainDir.py b/tools/python/xen/xend/server/SrvDomainDir.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/SrvNode.py b/tools/python/xen/xend/server/SrvNode.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/SrvRoot.py b/tools/python/xen/xend/server/SrvRoot.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/SrvServer.py b/tools/python/xen/xend/server/SrvServer.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/SrvVnetDir.py b/tools/python/xen/xend/server/SrvVnetDir.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/SrvXendLog.py b/tools/python/xen/xend/server/SrvXendLog.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/XMLRPCServer.py b/tools/python/xen/xend/server/XMLRPCServer.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/__init__.py b/tools/python/xen/xend/server/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/blkif.py b/tools/python/xen/xend/server/blkif.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/iopif.py b/tools/python/xen/xend/server/iopif.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/irqif.py b/tools/python/xen/xend/server/irqif.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/netif.py b/tools/python/xen/xend/server/netif.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/netif2.py b/tools/python/xen/xend/server/netif2.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/params.py b/tools/python/xen/xend/server/params.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/pciif.py b/tools/python/xen/xend/server/pciif.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/pciquirk.py b/tools/python/xen/xend/server/pciquirk.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/relocate.py b/tools/python/xen/xend/server/relocate.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/tests/__init__.py b/tools/python/xen/xend/server/tests/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/tests/test_controllers.py b/tools/python/xen/xend/server/tests/test_controllers.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/udevevent.py b/tools/python/xen/xend/server/udevevent.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/vfbif.py b/tools/python/xen/xend/server/vfbif.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/vscsiif.py b/tools/python/xen/xend/server/vscsiif.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/server/vusbif.py b/tools/python/xen/xend/server/vusbif.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/sxp.py b/tools/python/xen/xend/sxp.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/tests/__init__.py b/tools/python/xen/xend/tests/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/tests/test_XendConfig.py b/tools/python/xen/xend/tests/test_XendConfig.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/tests/test_sxp.py b/tools/python/xen/xend/tests/test_sxp.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/tests/test_uuid.py b/tools/python/xen/xend/tests/test_uuid.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/tests/xend-config.sxp b/tools/python/xen/xend/tests/xend-config.sxp
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/uuid.py b/tools/python/xen/xend/uuid.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/xenstore/__init__.py b/tools/python/xen/xend/xenstore/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/xenstore/tests/__init__.py b/tools/python/xen/xend/xenstore/tests/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/xenstore/tests/stress_xs.py b/tools/python/xen/xend/xenstore/tests/stress_xs.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/xenstore/xstransact.py b/tools/python/xen/xend/xenstore/xstransact.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/xenstore/xsutil.py b/tools/python/xen/xend/xenstore/xsutil.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xend/xenstore/xswatch.py b/tools/python/xen/xend/xenstore/xswatch.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/XenAPI.py b/tools/python/xen/xm/XenAPI.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/__init__.py b/tools/python/xen/xm/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/addlabel.py b/tools/python/xen/xm/addlabel.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/console.py b/tools/python/xen/xm/console.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/cpupool-create.py b/tools/python/xen/xm/cpupool-create.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/cpupool-new.py b/tools/python/xen/xm/cpupool-new.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/cpupool.py b/tools/python/xen/xm/cpupool.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/create.dtd b/tools/python/xen/xm/create.dtd
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/create.py b/tools/python/xen/xm/create.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/dry-run.py b/tools/python/xen/xm/dry-run.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/dumppolicy.py b/tools/python/xen/xm/dumppolicy.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/getenforce.py b/tools/python/xen/xm/getenforce.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/getlabel.py b/tools/python/xen/xm/getlabel.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/getpolicy.py b/tools/python/xen/xm/getpolicy.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/help.py b/tools/python/xen/xm/help.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/labels.py b/tools/python/xen/xm/labels.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/main.py b/tools/python/xen/xm/main.py
old mode 100644
new mode 100755
index 5ed781c..77c08be
--- a/tools/python/xen/xm/main.py
+++ b/tools/python/xen/xm/main.py
@@ -155,6 +155,10 @@ SUBCOMMAND_HELP = {
                      'Get/set credit scheduler parameters.'),
     'sched-credit2': ('[-d <Domain> [-w[=WEIGHT]]',
                      'Get/set credit2 scheduler parameters.'),
+    'sched-rtglobal': ('[-d <Domain> [-p[=PERIOD]|-b[=BUDGET]|-v[=VCPU]|-e[=EXTRA]]',
+                     'Get/set rtglobal scheduler parameters.'),
+    'sched-rtpartition': ('[-d <Domain> [-p[=PERIOD]|-b[=BUDGET]|-v[=VCPU]|-e[=EXTRA]]',
+                     'Get/set rtpartition scheduler parameters.'),
     'sysrq'       : ('<Domain> <letter>', 'Send a sysrq to a domain.'),
     'debug-keys'  : ('<Keys>', 'Send debug keys to Xen.'),
     'trigger'     : ('<Domain> <nmi|reset|init|s3resume|power> [<VCPU>]',
@@ -299,6 +303,20 @@ SUBCOMMAND_OPTIONS = {
        ('-w WEIGHT', '--weight=WEIGHT', 'Weight (int)'),
        ('-c CAP',    '--cap=CAP',       'Cap (int)'),
     ),
+    'sched-rtglobal': (
+       ('-d DOMAIN', '--domain=DOMAIN', 'Domain to modify'),
+       ('-p PERIOD', '--period=PERIOD', 'Period (int)'),
+       ('-p BUDGET', '--budget=BUDGET', 'Budget (int)'),
+       ('-p VCPU',   '--vcpu=VCPU',     'Vcpu (int)'),
+       ('-p EXTRA',  '--extra=EXTRA',   'Extra (int)'),
+    ),
+    'sched-rtpartition': (
+       ('-d DOMAIN', '--domain=DOMAIN', 'Domain to modify'),
+       ('-p PERIOD', '--period=PERIOD', 'Period (int)'),
+       ('-p BUDGET', '--budget=BUDGET', 'Budget (int)'),
+       ('-p VCPU',   '--vcpu=VCPU',     'Vcpu (int)'),
+       ('-p EXTRA',  '--extra=EXTRA',   'Extra (int)'),
+    ),
     'sched-credit2': (
        ('-d DOMAIN', '--domain=DOMAIN', 'Domain to modify'),
        ('-w WEIGHT', '--weight=WEIGHT', 'Weight (int)'),
@@ -454,6 +472,8 @@ host_commands = [
 scheduler_commands = [
     "sched-credit2",
     "sched-credit",
+    "sched-rtglobal",
+    "sched-rtpartition",
     "sched-sedf",
     ]
 
@@ -1833,6 +1853,228 @@ def xm_sched_credit(args):
             if result != 0:
                 err(str(result))
 
+# # rtglobal
+# def xm_sched_rtglobal(args):
+#     """Get/Set options for rtglobal Scheduler."""
+    
+#     check_sched_type('rtglobal')
+
+#     try:
+#         opts, params = getopt.getopt(args, "d:p:b:v:e:",
+#             ["domain=", "period=", "budget=", "vcpu=", "extra="])
+#     except getopt.GetoptError, opterr:
+#         err(opterr)
+#         usage('sched-rtglobal')
+
+#     domid = None
+#     period = None
+#     budget = None
+#     vcpu = None
+#     extra = None
+
+#     for o, a in opts:
+#         if o in ["-d", "--domain"]:
+#             domid = a
+#         elif o in ["-p", "--period"]:
+#             period = int(a)
+#         elif o in ["-p", "--budget"]:
+#             budget = int(a)
+#         elif o in ["-p", "--vcpu"]:
+#             vcpu = int(a)
+#         elif o in ["-p", "--extra"]:
+#             extra = int(a)
+
+#     doms = filter(lambda x : domid_match(domid, x),
+#                   [parse_doms_info(dom)
+#                   for dom in getDomains(None, 'all')])
+
+#     if period is None and budget is None and vcpu is None and extra is None:
+#         if domid is not None and doms == []: 
+#             err("Domain '%s' does not exist." % domid)
+#             usage('sched-rtglobal')
+#         # print header if we aren't setting any parameters
+#         print '%-33s %4s %6s %6s %4s %5s' % ('Name','ID','Period','Budget','Vcpu','Extra')
+        
+#         for d in doms:
+#             try:
+#                 if serverType == SERVER_XEN_API:
+#                     info = server.xenapi.VM_metrics.get_VCPUs_params(
+#                         server.xenapi.VM.get_metrics(
+#                             get_single_vm(d['name'])))
+#                 else:
+#                     info = server.xend.domain.sched_rtglobal_get(d['name'])
+#             except xmlrpclib.Fault:
+#                 pass
+
+#             if 'period' not in info or 'budget' not in info or 'vcpu' not in info or 'extra' not in info:
+#                 # domain does not support sched-rtglobal?
+#                 info = {'period': -1, 'budget': -1, 'vcpu': -1, 'extra': -1}
+
+#             info['period'] = int(info['period'])
+#             info['budget'] = int(info['budget'])
+#             info['vcpu'] = int(info['vcpu'])
+#             info['extra'] = int(info['extra'])
+            
+#             info['name']  = d['name']
+#             info['domid'] = str(d['domid'])
+#             print( ("%(name)-32s %(domid)5s %(period)6d %(budget)6d %(vcpu)4d %(extra)5d") % info)
+#     else:
+#         if domid is None:
+#             # place holder for system-wide scheduler parameters
+#             err("No domain given.")
+#             usage('sched-rtglobal')
+
+#         if serverType == SERVER_XEN_API:
+#             if doms[0]['domid']:
+#                 server.xenapi.VM.add_to_VCPUs_params_live(
+#                     get_single_vm(domid),
+#                     "period",
+#                     period)
+#                 server.xenapi.VM.add_to_VCPUs_params_live(
+#                     get_single_vm(domid),
+#                     "budget",
+#                     budget)
+#                 server.xenapi.VM.add_to_VCPUs_params_live(
+#                     get_single_vm(domid),
+#                     "vcpu",
+#                     vcpu)
+#                 server.xenapi.VM.add_to_VCPUs_params_live(
+#                     get_single_vm(domid),
+#                     "extra",
+#                     extra)
+#             else:
+#                 server.xenapi.VM.add_to_VCPUs_params(
+#                     get_single_vm(domid),
+#                     "period",
+#                     period)
+#                 server.xenapi.VM.add_to_VCPUs_params(
+#                     get_single_vm(domid),
+#                     "budget",
+#                     budget)
+#                 server.xenapi.VM.add_to_VCPUs_params(
+#                     get_single_vm(domid),
+#                     "vcpu",
+#                     vcpu)
+#                 server.xenapi.VM.add_to_VCPUs_params(
+#                     get_single_vm(domid),
+#                     "extra",
+#                     extra)
+#         else:
+#             result = server.xend.domain.sched_rtglobal_set(domid, period, budget, vcpu, extra)
+#             if result != 0:
+#                 err(str(result))
+
+# # rtpartition
+# def xm_sched_rtpartition(args):
+#     """Get/Set options for rtpartition Scheduler."""
+    
+#     check_sched_type('rtpartition')
+
+#     try:
+#         opts, params = getopt.getopt(args, "d:p:b:v:e:",
+#             ["domain=", "period=", "budget=", "vcpu=", "extra="])
+#     except getopt.GetoptError, opterr:
+#         err(opterr)
+#         usage('sched-rtpartition')
+
+#     domid = None
+#     period = None
+#     budget = None
+#     vcpu = None
+#     extra = None
+
+#     for o, a in opts:
+#         if o in ["-d", "--domain"]:
+#             domid = a
+#         elif o in ["-p", "--period"]:
+#             period = int(a)
+#         elif o in ["-p", "--budget"]:
+#             budget = int(a)
+#         elif o in ["-p", "--vcpu"]:
+#             vcpu = int(a)
+#         elif o in ["-p", "--extra"]:
+#             extra = int(a)
+
+#     doms = filter(lambda x : domid_match(domid, x),
+#                   [parse_doms_info(dom)
+#                   for dom in getDomains(None, 'all')])
+
+#     if period is None and budget is None and vcpu is None and extra is None:
+#         if domid is not None and doms == []: 
+#             err("Domain '%s' does not exist." % domid)
+#             usage('sched-rtpartition')
+#         # print header if we aren't setting any parameters
+#         print '%-33s %4s %6s %6s %4s %5s' % ('Name','ID','Period','Budget','Vcpu','Extra')
+        
+#         for d in doms:
+#             try:
+#                 if serverType == SERVER_XEN_API:
+#                     info = server.xenapi.VM_metrics.get_VCPUs_params(
+#                         server.xenapi.VM.get_metrics(
+#                             get_single_vm(d['name'])))
+#                 else:
+#                     info = server.xend.domain.sched_rtpartition_get(d['name'])
+#             except xmlrpclib.Fault:
+#                 pass
+
+#             if 'period' not in info or 'budget' not in info or 'vcpu' not in info or 'extra' not in info:
+#                 # domain does not support sched-rtpartition?
+#                 info = {'period': -1, 'budget': -1, 'vcpu': -1, 'extra': -1}
+
+#             info['period'] = int(info['period'])
+#             info['budget'] = int(info['budget'])
+#             info['vcpu'] = int(info['vcpu'])
+#             info['extra'] = int(info['extra'])
+            
+#             info['name']  = d['name']
+#             info['domid'] = str(d['domid'])
+#             print( ("%(name)-32s %(domid)5s %(period)6d %(budget)6d %(vcpu)4d %(extra)5d") % info)
+#     else:
+#         if domid is None:
+#             # place holder for system-wide scheduler parameters
+#             err("No domain given.")
+#             usage('sched-rtpartition')
+
+#         if serverType == SERVER_XEN_API:
+#             if doms[0]['domid']:
+#                 server.xenapi.VM.add_to_VCPUs_params_live(
+#                     get_single_vm(domid),
+#                     "period",
+#                     period)
+#                 server.xenapi.VM.add_to_VCPUs_params_live(
+#                     get_single_vm(domid),
+#                     "budget",
+#                     budget)
+#                 server.xenapi.VM.add_to_VCPUs_params_live(
+#                     get_single_vm(domid),
+#                     "vcpu",
+#                     vcpu)
+#                 server.xenapi.VM.add_to_VCPUs_params_live(
+#                     get_single_vm(domid),
+#                     "extra",
+#                     extra)
+#             else:
+#                 server.xenapi.VM.add_to_VCPUs_params(
+#                     get_single_vm(domid),
+#                     "period",
+#                     period)
+#                 server.xenapi.VM.add_to_VCPUs_params(
+#                     get_single_vm(domid),
+#                     "budget",
+#                     budget)
+#                 server.xenapi.VM.add_to_VCPUs_params(
+#                     get_single_vm(domid),
+#                     "vcpu",
+#                     vcpu)
+#                 server.xenapi.VM.add_to_VCPUs_params(
+#                     get_single_vm(domid),
+#                     "extra",
+#                     extra)
+#         else:
+#             result = server.xend.domain.sched_rtpartition_set(domid, period, budget, vcpu, extra)
+#             if result != 0:
+#                 err(str(result))
+
 def xm_sched_credit2(args):
     """Get/Set options for Credit2 Scheduler."""
 
@@ -3799,6 +4041,8 @@ commands = {
     "sched-sedf": xm_sched_sedf,
     "sched-credit": xm_sched_credit,
     "sched-credit2": xm_sched_credit2,
+    # "sched-rtglobal": xm_sched_rtglobal,
+    # "sched-rtpartition": xm_sched_rtpartition,
     # block
     "block-attach": xm_block_attach,
     "block-detach": xm_block_detach,
diff --git a/tools/python/xen/xm/migrate.py b/tools/python/xen/xm/migrate.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/new.py b/tools/python/xen/xm/new.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/opts.py b/tools/python/xen/xm/opts.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/resetpolicy.py b/tools/python/xen/xm/resetpolicy.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/resources.py b/tools/python/xen/xm/resources.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/rmlabel.py b/tools/python/xen/xm/rmlabel.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/setenforce.py b/tools/python/xen/xm/setenforce.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/setpolicy.py b/tools/python/xen/xm/setpolicy.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/shutdown.py b/tools/python/xen/xm/shutdown.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/tests/__init__.py b/tools/python/xen/xm/tests/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/tests/test_create.py b/tools/python/xen/xm/tests/test_create.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xm/xenapi_create.py b/tools/python/xen/xm/xenapi_create.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xsview/__init__.py b/tools/python/xen/xsview/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xsview/main.py b/tools/python/xen/xsview/main.py
old mode 100644
new mode 100755
diff --git a/tools/python/xen/xsview/xsviewer.py b/tools/python/xen/xsview/xsviewer.py
old mode 100644
new mode 100755
diff --git a/tools/remus/Makefile b/tools/remus/Makefile
old mode 100644
new mode 100755
diff --git a/tools/remus/README b/tools/remus/README
old mode 100644
new mode 100755
diff --git a/tools/remus/remus b/tools/remus/remus
old mode 100644
new mode 100755
diff --git a/tools/sv/Makefile b/tools/sv/Makefile
old mode 100644
new mode 100755
diff --git a/tools/tests/Makefile b/tools/tests/Makefile
old mode 100644
new mode 100755
diff --git a/tools/tests/mce-test/Makefile b/tools/tests/mce-test/Makefile
old mode 100644
new mode 100755
diff --git a/tools/tests/mce-test/README b/tools/tests/mce-test/README
old mode 100644
new mode 100755
diff --git a/tools/tests/mce-test/cases/srao_llc/dom0/cases.sh b/tools/tests/mce-test/cases/srao_llc/dom0/cases.sh
old mode 100644
new mode 100755
diff --git a/tools/tests/mce-test/cases/srao_llc/guest/cases.sh b/tools/tests/mce-test/cases/srao_llc/guest/cases.sh
old mode 100644
new mode 100755
diff --git a/tools/tests/mce-test/cases/srao_llc/xen/cases.sh b/tools/tests/mce-test/cases/srao_llc/xen/cases.sh
old mode 100644
new mode 100755
diff --git a/tools/tests/mce-test/cases/srao_mem/dom0/cases.sh b/tools/tests/mce-test/cases/srao_mem/dom0/cases.sh
old mode 100644
new mode 100755
diff --git a/tools/tests/mce-test/cases/srao_mem/guest/cases.sh b/tools/tests/mce-test/cases/srao_mem/guest/cases.sh
old mode 100644
new mode 100755
diff --git a/tools/tests/mce-test/cases/srao_mem/xen/cases.sh b/tools/tests/mce-test/cases/srao_mem/xen/cases.sh
old mode 100644
new mode 100755
diff --git a/tools/tests/mce-test/cases/ucna_llc/dom0/cases.sh b/tools/tests/mce-test/cases/ucna_llc/dom0/cases.sh
old mode 100644
new mode 100755
diff --git a/tools/tests/mce-test/cases/ucna_llc/guest/cases.sh b/tools/tests/mce-test/cases/ucna_llc/guest/cases.sh
old mode 100644
new mode 100755
diff --git a/tools/tests/mce-test/cases/ucna_llc/xen/cases.sh b/tools/tests/mce-test/cases/ucna_llc/xen/cases.sh
old mode 100644
new mode 100755
diff --git a/tools/tests/mce-test/config/setup.conf b/tools/tests/mce-test/config/setup.conf
old mode 100644
new mode 100755
diff --git a/tools/tests/mce-test/lib/xen-mceinj-tool.sh b/tools/tests/mce-test/lib/xen-mceinj-tool.sh
old mode 100644
new mode 100755
diff --git a/tools/tests/mce-test/tools/Makefile b/tools/tests/mce-test/tools/Makefile
old mode 100644
new mode 100755
diff --git a/tools/tests/mce-test/tools/README b/tools/tests/mce-test/tools/README
old mode 100644
new mode 100755
diff --git a/tools/tests/mce-test/tools/xen-mceinj.c b/tools/tests/mce-test/tools/xen-mceinj.c
old mode 100644
new mode 100755
diff --git a/tools/tests/mem-sharing/Makefile b/tools/tests/mem-sharing/Makefile
old mode 100644
new mode 100755
diff --git a/tools/tests/mem-sharing/memshrtool.c b/tools/tests/mem-sharing/memshrtool.c
old mode 100644
new mode 100755
diff --git a/tools/tests/regression/Makefile b/tools/tests/regression/Makefile
old mode 100644
new mode 100755
diff --git a/tools/tests/regression/README b/tools/tests/regression/README
old mode 100644
new mode 100755
diff --git a/tools/tests/regression/scripts/build_python.sh b/tools/tests/regression/scripts/build_python.sh
old mode 100644
new mode 100755
diff --git a/tools/tests/regression/scripts/check_python_syntax.sh b/tools/tests/regression/scripts/check_python_syntax.sh
old mode 100644
new mode 100755
diff --git a/tools/tests/regression/scripts/download_python.sh b/tools/tests/regression/scripts/download_python.sh
old mode 100644
new mode 100755
diff --git a/tools/tests/run_tests.sh b/tools/tests/run_tests.sh
old mode 100644
new mode 100755
diff --git a/tools/tests/utests/run_all_tests.py b/tools/tests/utests/run_all_tests.py
old mode 100644
new mode 100755
diff --git a/tools/tests/utests/ut_util/ut_fileuri.py b/tools/tests/utests/ut_util/ut_fileuri.py
old mode 100644
new mode 100755
diff --git a/tools/tests/utests/ut_xend/ut_XendConfig.py b/tools/tests/utests/ut_xend/ut_XendConfig.py
old mode 100644
new mode 100755
diff --git a/tools/tests/utests/ut_xend/ut_image.py b/tools/tests/utests/ut_xend/ut_image.py
old mode 100644
new mode 100755
diff --git a/tools/tests/x86_emulator/Makefile b/tools/tests/x86_emulator/Makefile
old mode 100644
new mode 100755
diff --git a/tools/tests/x86_emulator/blowfish.c b/tools/tests/x86_emulator/blowfish.c
old mode 100644
new mode 100755
diff --git a/tools/tests/x86_emulator/blowfish.mk b/tools/tests/x86_emulator/blowfish.mk
old mode 100644
new mode 100755
diff --git a/tools/tests/x86_emulator/test_x86_emulator.c b/tools/tests/x86_emulator/test_x86_emulator.c
old mode 100644
new mode 100755
diff --git a/tools/tests/x86_emulator/x86_emulate.c b/tools/tests/x86_emulator/x86_emulate.c
old mode 100644
new mode 100755
diff --git a/tools/tests/xen-access/Makefile b/tools/tests/xen-access/Makefile
old mode 100644
new mode 100755
diff --git a/tools/tests/xen-access/xen-access.c b/tools/tests/xen-access/xen-access.c
old mode 100644
new mode 100755
diff --git a/tools/xcutils/Makefile b/tools/xcutils/Makefile
old mode 100644
new mode 100755
diff --git a/tools/xcutils/lsevtchn.c b/tools/xcutils/lsevtchn.c
old mode 100644
new mode 100755
diff --git a/tools/xcutils/readnotes.c b/tools/xcutils/readnotes.c
old mode 100644
new mode 100755
diff --git a/tools/xcutils/xc_restore.c b/tools/xcutils/xc_restore.c
old mode 100644
new mode 100755
diff --git a/tools/xcutils/xc_save.c b/tools/xcutils/xc_save.c
old mode 100644
new mode 100755
diff --git a/tools/xenbackendd/Makefile b/tools/xenbackendd/Makefile
old mode 100644
new mode 100755
diff --git a/tools/xenbackendd/xenbackendd.c b/tools/xenbackendd/xenbackendd.c
old mode 100644
new mode 100755
diff --git a/tools/xenmon/COPYING b/tools/xenmon/COPYING
old mode 100644
new mode 100755
diff --git a/tools/xenmon/Makefile b/tools/xenmon/Makefile
old mode 100644
new mode 100755
diff --git a/tools/xenmon/README b/tools/xenmon/README
old mode 100644
new mode 100755
diff --git a/tools/xenmon/setmask.c b/tools/xenmon/setmask.c
old mode 100644
new mode 100755
diff --git a/tools/xenmon/xenbaked.c b/tools/xenmon/xenbaked.c
old mode 100644
new mode 100755
diff --git a/tools/xenmon/xenbaked.h b/tools/xenmon/xenbaked.h
old mode 100644
new mode 100755
diff --git a/tools/xenmon/xenmon.py b/tools/xenmon/xenmon.py
old mode 100644
new mode 100755
diff --git a/tools/xenpaging/Makefile b/tools/xenpaging/Makefile
old mode 100644
new mode 100755
diff --git a/tools/xenpaging/file_ops.c b/tools/xenpaging/file_ops.c
old mode 100644
new mode 100755
diff --git a/tools/xenpaging/file_ops.h b/tools/xenpaging/file_ops.h
old mode 100644
new mode 100755
diff --git a/tools/xenpaging/pagein.c b/tools/xenpaging/pagein.c
old mode 100644
new mode 100755
diff --git a/tools/xenpaging/policy.h b/tools/xenpaging/policy.h
old mode 100644
new mode 100755
diff --git a/tools/xenpaging/policy_default.c b/tools/xenpaging/policy_default.c
old mode 100644
new mode 100755
diff --git a/tools/xenpaging/xenpaging.c b/tools/xenpaging/xenpaging.c
old mode 100644
new mode 100755
diff --git a/tools/xenpaging/xenpaging.h b/tools/xenpaging/xenpaging.h
old mode 100644
new mode 100755
diff --git a/tools/xenpmd/Makefile b/tools/xenpmd/Makefile
old mode 100644
new mode 100755
diff --git a/tools/xenpmd/xenpmd.c b/tools/xenpmd/xenpmd.c
old mode 100644
new mode 100755
diff --git a/tools/xenstat/Makefile b/tools/xenstat/Makefile
old mode 100644
new mode 100755
diff --git a/tools/xenstat/libxenstat/COPYING b/tools/xenstat/libxenstat/COPYING
old mode 100644
new mode 100755
diff --git a/tools/xenstat/libxenstat/Makefile b/tools/xenstat/libxenstat/Makefile
old mode 100644
new mode 100755
diff --git a/tools/xenstat/libxenstat/bindings/swig/perl/.empty b/tools/xenstat/libxenstat/bindings/swig/perl/.empty
old mode 100644
new mode 100755
diff --git a/tools/xenstat/libxenstat/bindings/swig/python/.empty b/tools/xenstat/libxenstat/bindings/swig/python/.empty
old mode 100644
new mode 100755
diff --git a/tools/xenstat/libxenstat/bindings/swig/xenstat.i b/tools/xenstat/libxenstat/bindings/swig/xenstat.i
old mode 100644
new mode 100755
diff --git a/tools/xenstat/libxenstat/src/xenstat.c b/tools/xenstat/libxenstat/src/xenstat.c
old mode 100644
new mode 100755
diff --git a/tools/xenstat/libxenstat/src/xenstat.h b/tools/xenstat/libxenstat/src/xenstat.h
old mode 100644
new mode 100755
diff --git a/tools/xenstat/libxenstat/src/xenstat_linux.c b/tools/xenstat/libxenstat/src/xenstat_linux.c
old mode 100644
new mode 100755
diff --git a/tools/xenstat/libxenstat/src/xenstat_netbsd.c b/tools/xenstat/libxenstat/src/xenstat_netbsd.c
old mode 100644
new mode 100755
diff --git a/tools/xenstat/libxenstat/src/xenstat_priv.h b/tools/xenstat/libxenstat/src/xenstat_priv.h
old mode 100644
new mode 100755
diff --git a/tools/xenstat/libxenstat/src/xenstat_solaris.c b/tools/xenstat/libxenstat/src/xenstat_solaris.c
old mode 100644
new mode 100755
diff --git a/tools/xenstat/xentop/Makefile b/tools/xenstat/xentop/Makefile
old mode 100644
new mode 100755
diff --git a/tools/xenstat/xentop/TODO b/tools/xenstat/xentop/TODO
old mode 100644
new mode 100755
diff --git a/tools/xenstat/xentop/xentop.1 b/tools/xenstat/xentop/xentop.1
old mode 100644
new mode 100755
diff --git a/tools/xenstat/xentop/xentop.c b/tools/xenstat/xentop/xentop.c
old mode 100644
new mode 100755
diff --git a/tools/xenstore/.gdbinit b/tools/xenstore/.gdbinit
old mode 100644
new mode 100755
diff --git a/tools/xenstore/COPYING b/tools/xenstore/COPYING
old mode 100644
new mode 100755
diff --git a/tools/xenstore/Makefile b/tools/xenstore/Makefile
old mode 100644
new mode 100755
diff --git a/tools/xenstore/README b/tools/xenstore/README
old mode 100644
new mode 100755
diff --git a/tools/xenstore/TODO b/tools/xenstore/TODO
old mode 100644
new mode 100755
diff --git a/tools/xenstore/compat/xs.h b/tools/xenstore/compat/xs.h
old mode 100644
new mode 100755
diff --git a/tools/xenstore/compat/xs_lib.h b/tools/xenstore/compat/xs_lib.h
old mode 100644
new mode 100755
diff --git a/tools/xenstore/hashtable.c b/tools/xenstore/hashtable.c
old mode 100644
new mode 100755
diff --git a/tools/xenstore/hashtable.h b/tools/xenstore/hashtable.h
old mode 100644
new mode 100755
diff --git a/tools/xenstore/hashtable_private.h b/tools/xenstore/hashtable_private.h
old mode 100644
new mode 100755
diff --git a/tools/xenstore/init-xenstore-domain.c b/tools/xenstore/init-xenstore-domain.c
old mode 100644
new mode 100755
diff --git a/tools/xenstore/list.h b/tools/xenstore/list.h
old mode 100644
new mode 100755
diff --git a/tools/xenstore/talloc.c b/tools/xenstore/talloc.c
old mode 100644
new mode 100755
diff --git a/tools/xenstore/talloc.h b/tools/xenstore/talloc.h
old mode 100644
new mode 100755
diff --git a/tools/xenstore/talloc_guide.txt b/tools/xenstore/talloc_guide.txt
old mode 100644
new mode 100755
diff --git a/tools/xenstore/tdb.c b/tools/xenstore/tdb.c
old mode 100644
new mode 100755
diff --git a/tools/xenstore/tdb.h b/tools/xenstore/tdb.h
old mode 100644
new mode 100755
diff --git a/tools/xenstore/utils.c b/tools/xenstore/utils.c
old mode 100644
new mode 100755
diff --git a/tools/xenstore/utils.h b/tools/xenstore/utils.h
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xenstore.h b/tools/xenstore/xenstore.h
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xenstore_client.c b/tools/xenstore/xenstore_client.c
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xenstore_control.c b/tools/xenstore/xenstore_control.c
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xenstore_lib.h b/tools/xenstore/xenstore_lib.h
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xenstored_core.c b/tools/xenstore/xenstored_core.c
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xenstored_core.h b/tools/xenstore/xenstored_core.h
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xenstored_domain.c b/tools/xenstore/xenstored_domain.c
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xenstored_domain.h b/tools/xenstore/xenstored_domain.h
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xenstored_linux.c b/tools/xenstore/xenstored_linux.c
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xenstored_minios.c b/tools/xenstore/xenstored_minios.c
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xenstored_netbsd.c b/tools/xenstore/xenstored_netbsd.c
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xenstored_posix.c b/tools/xenstore/xenstored_posix.c
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xenstored_probes.d b/tools/xenstore/xenstored_probes.d
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xenstored_solaris.c b/tools/xenstore/xenstored_solaris.c
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xenstored_transaction.c b/tools/xenstore/xenstored_transaction.c
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xenstored_transaction.h b/tools/xenstore/xenstored_transaction.h
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xenstored_watch.c b/tools/xenstore/xenstored_watch.c
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xenstored_watch.h b/tools/xenstore/xenstored_watch.h
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xs.c b/tools/xenstore/xs.c
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xs_lib.c b/tools/xenstore/xs_lib.c
old mode 100644
new mode 100755
diff --git a/tools/xenstore/xs_tdb_dump.c b/tools/xenstore/xs_tdb_dump.c
old mode 100644
new mode 100755
diff --git a/tools/xentrace/Makefile b/tools/xentrace/Makefile
old mode 100644
new mode 100755
diff --git a/tools/xentrace/formats b/tools/xentrace/formats
old mode 100644
new mode 100755
diff --git a/tools/xentrace/setsize.c b/tools/xentrace/setsize.c
old mode 100644
new mode 100755
diff --git a/tools/xentrace/xenctx.c b/tools/xentrace/xenctx.c
old mode 100644
new mode 100755
diff --git a/tools/xentrace/xentrace.8 b/tools/xentrace/xentrace.8
old mode 100644
new mode 100755
diff --git a/tools/xentrace/xentrace.c b/tools/xentrace/xentrace.c
old mode 100644
new mode 100755
diff --git a/tools/xentrace/xentrace_format b/tools/xentrace/xentrace_format
old mode 100644
new mode 100755
diff --git a/tools/xentrace/xentrace_format.1 b/tools/xentrace/xentrace_format.1
old mode 100644
new mode 100755
diff --git a/tools/xm-test/COPYING b/tools/xm-test/COPYING
old mode 100644
new mode 100755
diff --git a/tools/xm-test/ChangeLog b/tools/xm-test/ChangeLog
old mode 100644
new mode 100755
diff --git a/tools/xm-test/Makefile.am b/tools/xm-test/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/README b/tools/xm-test/README
old mode 100644
new mode 100755
diff --git a/tools/xm-test/TODO b/tools/xm-test/TODO
old mode 100644
new mode 100755
diff --git a/tools/xm-test/Writing_Tests_HOWTO b/tools/xm-test/Writing_Tests_HOWTO
old mode 100644
new mode 100755
diff --git a/tools/xm-test/configure.ac b/tools/xm-test/configure.ac
old mode 100644
new mode 100755
diff --git a/tools/xm-test/grouptest/cpupool b/tools/xm-test/grouptest/cpupool
old mode 100644
new mode 100755
diff --git a/tools/xm-test/grouptest/create b/tools/xm-test/grouptest/create
old mode 100644
new mode 100755
diff --git a/tools/xm-test/grouptest/default b/tools/xm-test/grouptest/default
old mode 100644
new mode 100755
diff --git a/tools/xm-test/grouptest/medium b/tools/xm-test/grouptest/medium
old mode 100644
new mode 100755
diff --git a/tools/xm-test/grouptest/quick b/tools/xm-test/grouptest/quick
old mode 100644
new mode 100755
diff --git a/tools/xm-test/grouptest/xapi b/tools/xm-test/grouptest/xapi
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestLib/DomainTracking.py b/tools/xm-test/lib/XmTestLib/DomainTracking.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestLib/NetConfig.py b/tools/xm-test/lib/XmTestLib/NetConfig.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestLib/Test.py b/tools/xm-test/lib/XmTestLib/Test.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestLib/XenAPIDomain.py b/tools/xm-test/lib/XmTestLib/XenAPIDomain.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestLib/XenDevice.py b/tools/xm-test/lib/XmTestLib/XenDevice.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestLib/XenDomain.py b/tools/xm-test/lib/XmTestLib/XenDomain.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestLib/XenMemory.py b/tools/xm-test/lib/XmTestLib/XenMemory.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestLib/Xm.py b/tools/xm-test/lib/XmTestLib/Xm.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestLib/__init__.py b/tools/xm-test/lib/XmTestLib/__init__.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestLib/arch.py b/tools/xm-test/lib/XmTestLib/arch.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestLib/block_utils.py b/tools/xm-test/lib/XmTestLib/block_utils.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestLib/config.py.in b/tools/xm-test/lib/XmTestLib/config.py.in
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestLib/network_utils.py b/tools/xm-test/lib/XmTestLib/network_utils.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestLib/xapi.py b/tools/xm-test/lib/XmTestLib/xapi.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestReport/OSReport.py b/tools/xm-test/lib/XmTestReport/OSReport.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestReport/ProgReport.py b/tools/xm-test/lib/XmTestReport/ProgReport.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestReport/Report.py b/tools/xm-test/lib/XmTestReport/Report.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestReport/ResultReport.py b/tools/xm-test/lib/XmTestReport/ResultReport.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestReport/arch.py b/tools/xm-test/lib/XmTestReport/arch.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestReport/utils.py b/tools/xm-test/lib/XmTestReport/utils.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/lib/XmTestReport/xmtest.py.in b/tools/xm-test/lib/XmTestReport/xmtest.py.in
old mode 100644
new mode 100755
diff --git a/tools/xm-test/mergereport b/tools/xm-test/mergereport
old mode 100644
new mode 100755
diff --git a/tools/xm-test/mkreport b/tools/xm-test/mkreport
old mode 100644
new mode 100755
diff --git a/tools/xm-test/ramdisk/Makefile.am b/tools/xm-test/ramdisk/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/ramdisk/README-XenSource-initrd-0.7-img b/tools/xm-test/ramdisk/README-XenSource-initrd-0.7-img
old mode 100644
new mode 100755
diff --git a/tools/xm-test/ramdisk/README-XenSource-initrd-0.8-img b/tools/xm-test/ramdisk/README-XenSource-initrd-0.8-img
old mode 100644
new mode 100755
diff --git a/tools/xm-test/ramdisk/README-XenSource-initrd-1.0-img b/tools/xm-test/ramdisk/README-XenSource-initrd-1.0-img
old mode 100644
new mode 100755
diff --git a/tools/xm-test/ramdisk/README-XenSource-initrd-1.1-img b/tools/xm-test/ramdisk/README-XenSource-initrd-1.1-img
old mode 100644
new mode 100755
diff --git a/tools/xm-test/ramdisk/bin/create_disk_image b/tools/xm-test/ramdisk/bin/create_disk_image
old mode 100644
new mode 100755
diff --git a/tools/xm-test/ramdisk/configs/buildroot-i386 b/tools/xm-test/ramdisk/configs/buildroot-i386
old mode 100644
new mode 100755
diff --git a/tools/xm-test/ramdisk/configs/busybox b/tools/xm-test/ramdisk/configs/busybox
old mode 100644
new mode 100755
diff --git a/tools/xm-test/ramdisk/configs/uClibc b/tools/xm-test/ramdisk/configs/uClibc
old mode 100644
new mode 100755
diff --git a/tools/xm-test/ramdisk/make-release.sh b/tools/xm-test/ramdisk/make-release.sh
old mode 100644
new mode 100755
diff --git a/tools/xm-test/ramdisk/patches/buildroot/add_xvd_devices.patch b/tools/xm-test/ramdisk/patches/buildroot/add_xvd_devices.patch
old mode 100644
new mode 100755
diff --git a/tools/xm-test/ramdisk/patches/buildroot/hping.patch b/tools/xm-test/ramdisk/patches/buildroot/hping.patch
old mode 100644
new mode 100755
diff --git a/tools/xm-test/ramdisk/skel/.profile b/tools/xm-test/ramdisk/skel/.profile
old mode 100644
new mode 100755
diff --git a/tools/xm-test/ramdisk/skel/etc/init.d/rcS b/tools/xm-test/ramdisk/skel/etc/init.d/rcS
old mode 100644
new mode 100755
diff --git a/tools/xm-test/ramdisk/skel/etc/inittab b/tools/xm-test/ramdisk/skel/etc/inittab
old mode 100644
new mode 100755
diff --git a/tools/xm-test/ramdisk/skel/root/.profile b/tools/xm-test/ramdisk/skel/root/.profile
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/Makefile.am b/tools/xm-test/tests/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/Makefile.am.template b/tools/xm-test/tests/Makefile.am.template
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/_sanity/01_domu_proc.py b/tools/xm-test/tests/_sanity/01_domu_proc.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/_sanity/Makefile.am b/tools/xm-test/tests/_sanity/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-create/01_block_attach_device_pos.py b/tools/xm-test/tests/block-create/01_block_attach_device_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-create/02_block_attach_file_device_pos.py b/tools/xm-test/tests/block-create/02_block_attach_file_device_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-create/04_block_attach_device_repeatedly_pos.py b/tools/xm-test/tests/block-create/04_block_attach_device_repeatedly_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-create/05_block_attach_and_dettach_device_repeatedly_pos.py b/tools/xm-test/tests/block-create/05_block_attach_and_dettach_device_repeatedly_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-create/06_block_attach_baddomain_neg.py b/tools/xm-test/tests/block-create/06_block_attach_baddomain_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-create/07_block_attach_baddevice_neg.py b/tools/xm-test/tests/block-create/07_block_attach_baddevice_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-create/08_block_attach_bad_filedevice_neg.py b/tools/xm-test/tests/block-create/08_block_attach_bad_filedevice_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-create/09_block_attach_and_dettach_device_check_data_pos.py b/tools/xm-test/tests/block-create/09_block_attach_and_dettach_device_check_data_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-create/10_block_attach_dettach_multiple_devices.py b/tools/xm-test/tests/block-create/10_block_attach_dettach_multiple_devices.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-create/11_block_attach_shared_dom0.py b/tools/xm-test/tests/block-create/11_block_attach_shared_dom0.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-create/12_block_attach_shared_domU.py b/tools/xm-test/tests/block-create/12_block_attach_shared_domU.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-create/Makefile.am b/tools/xm-test/tests/block-create/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-destroy/01_block-destroy_btblock_pos.py b/tools/xm-test/tests/block-destroy/01_block-destroy_btblock_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-destroy/02_block-destroy_rtblock_pos.py b/tools/xm-test/tests/block-destroy/02_block-destroy_rtblock_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-destroy/03_block-destroy_nonexist_neg.py b/tools/xm-test/tests/block-destroy/03_block-destroy_nonexist_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-destroy/04_block-destroy_nonattached_neg.py b/tools/xm-test/tests/block-destroy/04_block-destroy_nonattached_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-destroy/05_block-destroy_byname_pos.py b/tools/xm-test/tests/block-destroy/05_block-destroy_byname_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-destroy/06_block-destroy_check_list_pos.py b/tools/xm-test/tests/block-destroy/06_block-destroy_check_list_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-destroy/Makefile.am b/tools/xm-test/tests/block-destroy/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-integrity/01_block_device_read_verify.py b/tools/xm-test/tests/block-integrity/01_block_device_read_verify.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-integrity/02_block_device_write_verify.py b/tools/xm-test/tests/block-integrity/02_block_device_write_verify.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-integrity/Makefile.am b/tools/xm-test/tests/block-integrity/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-list/01_block-list_pos.py b/tools/xm-test/tests/block-list/01_block-list_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-list/02_block-list_attachbd_pos.py b/tools/xm-test/tests/block-list/02_block-list_attachbd_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-list/03_block-list_anotherbd_pos.py b/tools/xm-test/tests/block-list/03_block-list_anotherbd_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-list/04_block-list_nodb_pos.py b/tools/xm-test/tests/block-list/04_block-list_nodb_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-list/05_block-list_nonexist_neg.py b/tools/xm-test/tests/block-list/05_block-list_nonexist_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-list/06_block-list_checkremove_pos.py b/tools/xm-test/tests/block-list/06_block-list_checkremove_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/block-list/Makefile.am b/tools/xm-test/tests/block-list/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/console/01_console_badopt_neg.py b/tools/xm-test/tests/console/01_console_badopt_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/console/02_console_baddom_neg.py b/tools/xm-test/tests/console/02_console_baddom_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/console/Makefile.am b/tools/xm-test/tests/console/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/cpupool/01_cpupool_basic_pos.py b/tools/xm-test/tests/cpupool/01_cpupool_basic_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/cpupool/02_cpupool_manage_pos.py b/tools/xm-test/tests/cpupool/02_cpupool_manage_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/cpupool/03_cpupool_domain.py b/tools/xm-test/tests/cpupool/03_cpupool_domain.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/cpupool/04_cpupool_migrate.py b/tools/xm-test/tests/cpupool/04_cpupool_migrate.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/cpupool/Makefile.am b/tools/xm-test/tests/cpupool/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/cpupool/pool1.cfg b/tools/xm-test/tests/cpupool/pool1.cfg
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/cpupool/pools.py b/tools/xm-test/tests/cpupool/pools.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/create/01_create_basic_pos.py b/tools/xm-test/tests/create/01_create_basic_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/create/02_create_noparm_neg.py b/tools/xm-test/tests/create/02_create_noparm_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/create/03_create_badparm_neg.py b/tools/xm-test/tests/create/03_create_badparm_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/create/04_create_conflictname_neg.py b/tools/xm-test/tests/create/04_create_conflictname_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/create/06_create_mem_neg.py b/tools/xm-test/tests/create/06_create_mem_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/create/07_create_mem64_pos.py b/tools/xm-test/tests/create/07_create_mem64_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/create/08_create_mem128_pos.py b/tools/xm-test/tests/create/08_create_mem128_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/create/09_create_mem256_pos.py b/tools/xm-test/tests/create/09_create_mem256_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/create/10_create_fastdestroy.py b/tools/xm-test/tests/create/10_create_fastdestroy.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/create/11_create_concurrent_pos.py b/tools/xm-test/tests/create/11_create_concurrent_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/create/12_create_concurrent_stress_pos.py b/tools/xm-test/tests/create/12_create_concurrent_stress_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/create/13_create_multinic_pos.py b/tools/xm-test/tests/create/13_create_multinic_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/create/14_create_blockroot_pos.py b/tools/xm-test/tests/create/14_create_blockroot_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/create/15_create_smallmem_pos.py b/tools/xm-test/tests/create/15_create_smallmem_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/create/16_create_smallmem_neg.py b/tools/xm-test/tests/create/16_create_smallmem_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/create/Makefile.am b/tools/xm-test/tests/create/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/destroy/01_destroy_basic_pos.py b/tools/xm-test/tests/destroy/01_destroy_basic_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/destroy/02_destroy_noparm_neg.py b/tools/xm-test/tests/destroy/02_destroy_noparm_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/destroy/03_destroy_nonexist_neg.py b/tools/xm-test/tests/destroy/03_destroy_nonexist_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/destroy/04_destroy_badparm_neg.py b/tools/xm-test/tests/destroy/04_destroy_badparm_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/destroy/05_destroy_byid_pos.py b/tools/xm-test/tests/destroy/05_destroy_byid_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/destroy/06_destroy_dom0_neg.py b/tools/xm-test/tests/destroy/06_destroy_dom0_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/destroy/07_destroy_stale_pos.py b/tools/xm-test/tests/destroy/07_destroy_stale_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/destroy/Makefile.am b/tools/xm-test/tests/destroy/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/dmesg/01_dmesg_basic_pos.py b/tools/xm-test/tests/dmesg/01_dmesg_basic_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/dmesg/02_dmesg_basic_neg.py b/tools/xm-test/tests/dmesg/02_dmesg_basic_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/dmesg/Makefile.am b/tools/xm-test/tests/dmesg/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/domid/01_domid_basic_pos.py b/tools/xm-test/tests/domid/01_domid_basic_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/domid/02_domid_basic_neg.py b/tools/xm-test/tests/domid/02_domid_basic_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/domid/Makefile.am b/tools/xm-test/tests/domid/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/domname/01_domname_basic_pos.py b/tools/xm-test/tests/domname/01_domname_basic_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/domname/02_domname_basic_neg.py b/tools/xm-test/tests/domname/02_domname_basic_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/domname/Makefile.am b/tools/xm-test/tests/domname/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/enforce_dom0_cpus/01_enforce_dom0_cpus_basic_pos.py b/tools/xm-test/tests/enforce_dom0_cpus/01_enforce_dom0_cpus_basic_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/enforce_dom0_cpus/Makefile.am b/tools/xm-test/tests/enforce_dom0_cpus/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/help/01_help_basic_pos.py b/tools/xm-test/tests/help/01_help_basic_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/help/02_help_basic_neg.py b/tools/xm-test/tests/help/02_help_basic_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/help/03_help_badparm_neg.py b/tools/xm-test/tests/help/03_help_badparm_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/help/04_help_long_pos.py b/tools/xm-test/tests/help/04_help_long_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/help/05_help_nonroot_pos.py b/tools/xm-test/tests/help/05_help_nonroot_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/help/06_help_allcmds.py b/tools/xm-test/tests/help/06_help_allcmds.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/help/Makefile.am b/tools/xm-test/tests/help/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/info/01_info_basic_pos.py b/tools/xm-test/tests/info/01_info_basic_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/info/02_info_compiledata_pos.py b/tools/xm-test/tests/info/02_info_compiledata_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/info/Makefile.am b/tools/xm-test/tests/info/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/list/01_list_basic_pos.py b/tools/xm-test/tests/list/01_list_basic_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/list/02_list_badparm_neg.py b/tools/xm-test/tests/list/02_list_badparm_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/list/03_list_nonexist_neg.py b/tools/xm-test/tests/list/03_list_nonexist_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/list/04_list_goodparm_pos.py b/tools/xm-test/tests/list/04_list_goodparm_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/list/05_list_long_pos.py b/tools/xm-test/tests/list/05_list_long_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/list/06_list_nonroot.py b/tools/xm-test/tests/list/06_list_nonroot.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/list/Makefile.am b/tools/xm-test/tests/list/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/memmax/01_memmax_badparm_neg.py b/tools/xm-test/tests/memmax/01_memmax_badparm_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/memmax/Makefile.am b/tools/xm-test/tests/memmax/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/memset/01_memset_basic_pos.py b/tools/xm-test/tests/memset/01_memset_basic_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/memset/02_memset_badparm_neg.py b/tools/xm-test/tests/memset/02_memset_badparm_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/memset/03_memset_random_pos.py b/tools/xm-test/tests/memset/03_memset_random_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/memset/04_memset_smallmem_pos.py b/tools/xm-test/tests/memset/04_memset_smallmem_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/memset/Makefile.am b/tools/xm-test/tests/memset/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/migrate/01_migrate_localhost_pos.py b/tools/xm-test/tests/migrate/01_migrate_localhost_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/migrate/Makefile.am b/tools/xm-test/tests/migrate/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/network-attach/01_network_attach_pos.py b/tools/xm-test/tests/network-attach/01_network_attach_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/network-attach/02_network_attach_detach_pos.py b/tools/xm-test/tests/network-attach/02_network_attach_detach_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/network-attach/03_network_attach_detach_multiple_pos.py b/tools/xm-test/tests/network-attach/03_network_attach_detach_multiple_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/network-attach/04_network_attach_baddomain_neg.py b/tools/xm-test/tests/network-attach/04_network_attach_baddomain_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/network-attach/Makefile.am b/tools/xm-test/tests/network-attach/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/network/02_network_local_ping_pos.py b/tools/xm-test/tests/network/02_network_local_ping_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/network/03_network_local_tcp_pos.py b/tools/xm-test/tests/network/03_network_local_tcp_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/network/04_network_local_udp_pos.py b/tools/xm-test/tests/network/04_network_local_udp_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/network/05_network_dom0_ping_pos.py b/tools/xm-test/tests/network/05_network_dom0_ping_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/network/06_network_dom0_tcp_pos.py b/tools/xm-test/tests/network/06_network_dom0_tcp_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/network/07_network_dom0_udp_pos.py b/tools/xm-test/tests/network/07_network_dom0_udp_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/network/11_network_domU_ping_pos.py b/tools/xm-test/tests/network/11_network_domU_ping_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/network/12_network_domU_tcp_pos.py b/tools/xm-test/tests/network/12_network_domU_tcp_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/network/13_network_domU_udp_pos.py b/tools/xm-test/tests/network/13_network_domU_udp_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/network/Makefile.am b/tools/xm-test/tests/network/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/pause/01_pause_basic_pos.py b/tools/xm-test/tests/pause/01_pause_basic_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/pause/02_pause_badopt_neg.py b/tools/xm-test/tests/pause/02_pause_badopt_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/pause/03_pause_badname_neg.py b/tools/xm-test/tests/pause/03_pause_badname_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/pause/04_pause_badid_neg.py b/tools/xm-test/tests/pause/04_pause_badid_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/pause/Makefile.am b/tools/xm-test/tests/pause/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/reboot/01_reboot_basic_pos.py b/tools/xm-test/tests/reboot/01_reboot_basic_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/reboot/02_reboot_badopt_neg.py b/tools/xm-test/tests/reboot/02_reboot_badopt_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/reboot/03_reboot_badname_neg.py b/tools/xm-test/tests/reboot/03_reboot_badname_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/reboot/Makefile.am b/tools/xm-test/tests/reboot/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/restore/01_restore_basic_pos.py b/tools/xm-test/tests/restore/01_restore_basic_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/restore/02_restore_badparm_neg.py b/tools/xm-test/tests/restore/02_restore_badparm_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/restore/03_restore_badfilename_neg.py b/tools/xm-test/tests/restore/03_restore_badfilename_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/restore/04_restore_withdevices_pos.py b/tools/xm-test/tests/restore/04_restore_withdevices_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/restore/Makefile.am b/tools/xm-test/tests/restore/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/save/01_save_basic_pos.py b/tools/xm-test/tests/save/01_save_basic_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/save/02_save_badparm_neg.py b/tools/xm-test/tests/save/02_save_badparm_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/save/03_save_bogusfile_neg.py b/tools/xm-test/tests/save/03_save_bogusfile_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/save/Makefile.am b/tools/xm-test/tests/save/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/sched-credit/01_sched_credit_weight_cap_pos.py b/tools/xm-test/tests/sched-credit/01_sched_credit_weight_cap_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/sched-credit/Makefile.am b/tools/xm-test/tests/sched-credit/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/sedf/01_sedf_period_slice_pos.py b/tools/xm-test/tests/sedf/01_sedf_period_slice_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/sedf/02_sedf_period_lower_neg.py b/tools/xm-test/tests/sedf/02_sedf_period_lower_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/sedf/03_sedf_slice_lower_neg.py b/tools/xm-test/tests/sedf/03_sedf_slice_lower_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/sedf/04_sedf_slice_upper_neg.py b/tools/xm-test/tests/sedf/04_sedf_slice_upper_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/sedf/05_sedf_extratime_pos.py b/tools/xm-test/tests/sedf/05_sedf_extratime_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/sedf/06_sedf_extratime_disable_neg.py b/tools/xm-test/tests/sedf/06_sedf_extratime_disable_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/sedf/Makefile.am b/tools/xm-test/tests/sedf/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/shutdown/01_shutdown_basic_pos.py b/tools/xm-test/tests/shutdown/01_shutdown_basic_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/shutdown/02_shutdown_badparm_neg.py b/tools/xm-test/tests/shutdown/02_shutdown_badparm_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/shutdown/03_shutdown_nonexist_neg.py b/tools/xm-test/tests/shutdown/03_shutdown_nonexist_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/shutdown/Makefile.am b/tools/xm-test/tests/shutdown/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/sysrq/01_sysrq_basic_neg.py b/tools/xm-test/tests/sysrq/01_sysrq_basic_neg.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/sysrq/02_sysrq_sync_pos.py b/tools/xm-test/tests/sysrq/02_sysrq_sync_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/sysrq/03_sysrq_withreboot_pos.py b/tools/xm-test/tests/sysrq/03_sysrq_withreboot_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/sysrq/Makefile.am b/tools/xm-test/tests/sysrq/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/unpause/01_unpause_basic_pos.py b/tools/xm-test/tests/unpause/01_unpause_basic_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/unpause/Makefile.am b/tools/xm-test/tests/unpause/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/vcpu-disable/01_vcpu-disable_basic_pos.py b/tools/xm-test/tests/vcpu-disable/01_vcpu-disable_basic_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/vcpu-disable/Makefile.am b/tools/xm-test/tests/vcpu-disable/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/vcpu-pin/01_vcpu-pin_basic_pos.py b/tools/xm-test/tests/vcpu-pin/01_vcpu-pin_basic_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/vcpu-pin/Makefile.am b/tools/xm-test/tests/vcpu-pin/Makefile.am
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/xapi/01_xapi-vm_basic.py b/tools/xm-test/tests/xapi/01_xapi-vm_basic.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/xapi/02_xapi-vbd_basic.py b/tools/xm-test/tests/xapi/02_xapi-vbd_basic.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/xapi/03_xapi-network_pos.py b/tools/xm-test/tests/xapi/03_xapi-network_pos.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/xapi/04_xapi-data_uri_handling.py b/tools/xm-test/tests/xapi/04_xapi-data_uri_handling.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/xapi/20_xapi-cpu_pool_basic.py b/tools/xm-test/tests/xapi/20_xapi-cpu_pool_basic.py
old mode 100644
new mode 100755
diff --git a/tools/xm-test/tests/xapi/Makefile.am b/tools/xm-test/tests/xapi/Makefile.am
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/Makefile b/unmodified_drivers/linux-2.6/Makefile
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/README b/unmodified_drivers/linux-2.6/README
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/balloon/Kbuild b/unmodified_drivers/linux-2.6/balloon/Kbuild
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/balloon/Makefile b/unmodified_drivers/linux-2.6/balloon/Makefile
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/blkfront/Kbuild b/unmodified_drivers/linux-2.6/blkfront/Kbuild
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/blkfront/Makefile b/unmodified_drivers/linux-2.6/blkfront/Makefile
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/compat-include/asm-generic/pgtable-nopmd.h b/unmodified_drivers/linux-2.6/compat-include/asm-generic/pgtable-nopmd.h
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/compat-include/asm-generic/pgtable-nopud.h b/unmodified_drivers/linux-2.6/compat-include/asm-generic/pgtable-nopud.h
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/compat-include/linux/io.h b/unmodified_drivers/linux-2.6/compat-include/linux/io.h
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/compat-include/linux/mutex.h b/unmodified_drivers/linux-2.6/compat-include/linux/mutex.h
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/compat-include/linux/scatterlist.h b/unmodified_drivers/linux-2.6/compat-include/linux/scatterlist.h
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/compat-include/xen/platform-compat.h b/unmodified_drivers/linux-2.6/compat-include/xen/platform-compat.h
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/netfront/Kbuild b/unmodified_drivers/linux-2.6/netfront/Kbuild
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/netfront/Makefile b/unmodified_drivers/linux-2.6/netfront/Makefile
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/overrides.mk b/unmodified_drivers/linux-2.6/overrides.mk
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/platform-pci/Kbuild b/unmodified_drivers/linux-2.6/platform-pci/Kbuild
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/platform-pci/Makefile b/unmodified_drivers/linux-2.6/platform-pci/Makefile
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/platform-pci/evtchn.c b/unmodified_drivers/linux-2.6/platform-pci/evtchn.c
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/platform-pci/machine_reboot.c b/unmodified_drivers/linux-2.6/platform-pci/machine_reboot.c
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/platform-pci/panic-handler.c b/unmodified_drivers/linux-2.6/platform-pci/panic-handler.c
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/platform-pci/platform-compat.c b/unmodified_drivers/linux-2.6/platform-pci/platform-compat.c
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/platform-pci/platform-pci.c b/unmodified_drivers/linux-2.6/platform-pci/platform-pci.c
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/platform-pci/platform-pci.h b/unmodified_drivers/linux-2.6/platform-pci/platform-pci.h
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/platform-pci/xen_support.c b/unmodified_drivers/linux-2.6/platform-pci/xen_support.c
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/scsifront/Kbuild b/unmodified_drivers/linux-2.6/scsifront/Kbuild
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/scsifront/Makefile b/unmodified_drivers/linux-2.6/scsifront/Makefile
old mode 100644
new mode 100755
diff --git a/unmodified_drivers/linux-2.6/xenbus/empty_directory b/unmodified_drivers/linux-2.6/xenbus/empty_directory
old mode 100644
new mode 100755
diff --git a/xen/COPYING b/xen/COPYING
old mode 100644
new mode 100755
diff --git a/xen/Makefile b/xen/Makefile
old mode 100644
new mode 100755
diff --git a/xen/Rules.mk b/xen/Rules.mk
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/Makefile b/xen/arch/arm/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/Rules.mk b/xen/arch/arm/Rules.mk
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/Makefile b/xen/arch/arm/arm32/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/asm-offsets.c b/xen/arch/arm/arm32/asm-offsets.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/debug-exynos4210.inc b/xen/arch/arm/arm32/debug-exynos4210.inc
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/debug-pl011.inc b/xen/arch/arm/arm32/debug-pl011.inc
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/debug.S b/xen/arch/arm/arm32/debug.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/domain.c b/xen/arch/arm/arm32/domain.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/entry.S b/xen/arch/arm/arm32/entry.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/head.S b/xen/arch/arm/arm32/head.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/lib/Makefile b/xen/arch/arm/arm32/lib/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/lib/assembler.h b/xen/arch/arm/arm32/lib/assembler.h
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/lib/bitops.h b/xen/arch/arm/arm32/lib/bitops.h
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/lib/changebit.S b/xen/arch/arm/arm32/lib/changebit.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/lib/clearbit.S b/xen/arch/arm/arm32/lib/clearbit.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/lib/copy_template.S b/xen/arch/arm/arm32/lib/copy_template.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/lib/div64.S b/xen/arch/arm/arm32/lib/div64.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/lib/findbit.S b/xen/arch/arm/arm32/lib/findbit.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/lib/lib1funcs.S b/xen/arch/arm/arm32/lib/lib1funcs.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/lib/lshrdi3.S b/xen/arch/arm/arm32/lib/lshrdi3.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/lib/memcpy.S b/xen/arch/arm/arm32/lib/memcpy.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/lib/memmove.S b/xen/arch/arm/arm32/lib/memmove.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/lib/memset.S b/xen/arch/arm/arm32/lib/memset.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/lib/memzero.S b/xen/arch/arm/arm32/lib/memzero.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/lib/setbit.S b/xen/arch/arm/arm32/lib/setbit.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/lib/testchangebit.S b/xen/arch/arm/arm32/lib/testchangebit.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/lib/testclearbit.S b/xen/arch/arm/arm32/lib/testclearbit.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/lib/testsetbit.S b/xen/arch/arm/arm32/lib/testsetbit.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/mode_switch.S b/xen/arch/arm/arm32/mode_switch.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/proc-ca15.S b/xen/arch/arm/arm32/proc-ca15.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm32/traps.c b/xen/arch/arm/arm32/traps.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm64/Makefile b/xen/arch/arm/arm64/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm64/asm-offsets.c b/xen/arch/arm/arm64/asm-offsets.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm64/debug-pl011.inc b/xen/arch/arm/arm64/debug-pl011.inc
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm64/debug.S b/xen/arch/arm/arm64/debug.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm64/domain.c b/xen/arch/arm/arm64/domain.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm64/entry.S b/xen/arch/arm/arm64/entry.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm64/head.S b/xen/arch/arm/arm64/head.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm64/lib/Makefile b/xen/arch/arm/arm64/lib/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm64/lib/bitops.c b/xen/arch/arm/arm64/lib/bitops.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm64/lib/find_next_bit.c b/xen/arch/arm/arm64/lib/find_next_bit.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm64/mode_switch.S b/xen/arch/arm/arm64/mode_switch.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/arm64/traps.c b/xen/arch/arm/arm64/traps.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/cpu.c b/xen/arch/arm/cpu.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/device.c b/xen/arch/arm/device.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/domain.c b/xen/arch/arm/domain.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/domain_build.c b/xen/arch/arm/domain_build.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/domctl.c b/xen/arch/arm/domctl.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/dtb.S b/xen/arch/arm/dtb.S
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/early_printk.c b/xen/arch/arm/early_printk.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/gic.c b/xen/arch/arm/gic.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/guestcopy.c b/xen/arch/arm/guestcopy.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/hvm.c b/xen/arch/arm/hvm.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/io.c b/xen/arch/arm/io.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/io.h b/xen/arch/arm/io.h
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/irq.c b/xen/arch/arm/irq.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/kernel.c b/xen/arch/arm/kernel.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/kernel.h b/xen/arch/arm/kernel.h
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/mm.c b/xen/arch/arm/mm.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/p2m.c b/xen/arch/arm/p2m.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/percpu.c b/xen/arch/arm/percpu.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/physdev.c b/xen/arch/arm/physdev.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/platform.c b/xen/arch/arm/platform.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/platforms/Makefile b/xen/arch/arm/platforms/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/platforms/exynos5.c b/xen/arch/arm/platforms/exynos5.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/platforms/vexpress.c b/xen/arch/arm/platforms/vexpress.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/psci.c b/xen/arch/arm/psci.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/setup.c b/xen/arch/arm/setup.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/shutdown.c b/xen/arch/arm/shutdown.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/smp.c b/xen/arch/arm/smp.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/smpboot.c b/xen/arch/arm/smpboot.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/sysctl.c b/xen/arch/arm/sysctl.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/time.c b/xen/arch/arm/time.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/traps.c b/xen/arch/arm/traps.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/vgic.c b/xen/arch/arm/vgic.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/vpl011.c b/xen/arch/arm/vpl011.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/vpl011.h b/xen/arch/arm/vpl011.h
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/vtimer.c b/xen/arch/arm/vtimer.c
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/vtimer.h b/xen/arch/arm/vtimer.h
old mode 100644
new mode 100755
diff --git a/xen/arch/arm/xen.lds.S b/xen/arch/arm/xen.lds.S
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/Makefile b/xen/arch/x86/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/Rules.mk b/xen/arch/x86/Rules.mk
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/acpi/Makefile b/xen/arch/x86/acpi/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/acpi/boot.c b/xen/arch/x86/acpi/boot.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/acpi/cpu_idle.c b/xen/arch/x86/acpi/cpu_idle.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/acpi/cpufreq/Makefile b/xen/arch/x86/acpi/cpufreq/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/acpi/cpufreq/cpufreq.c b/xen/arch/x86/acpi/cpufreq/cpufreq.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/acpi/cpufreq/powernow.c b/xen/arch/x86/acpi/cpufreq/powernow.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/acpi/cpuidle_menu.c b/xen/arch/x86/acpi/cpuidle_menu.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/acpi/lib.c b/xen/arch/x86/acpi/lib.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/acpi/power.c b/xen/arch/x86/acpi/power.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/acpi/suspend.c b/xen/arch/x86/acpi/suspend.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/acpi/wakeup_prot.S b/xen/arch/x86/acpi/wakeup_prot.S
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/apic.c b/xen/arch/x86/apic.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/bitops.c b/xen/arch/x86/bitops.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/boot/Makefile b/xen/arch/x86/boot/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/boot/build32.mk b/xen/arch/x86/boot/build32.mk
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/boot/cmdline.S b/xen/arch/x86/boot/cmdline.S
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/boot/edd.S b/xen/arch/x86/boot/edd.S
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/boot/head.S b/xen/arch/x86/boot/head.S
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/boot/mem.S b/xen/arch/x86/boot/mem.S
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/boot/mkelf32.c b/xen/arch/x86/boot/mkelf32.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/boot/reloc.c b/xen/arch/x86/boot/reloc.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/boot/trampoline.S b/xen/arch/x86/boot/trampoline.S
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/boot/video.S b/xen/arch/x86/boot/video.S
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/boot/video.h b/xen/arch/x86/boot/video.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/boot/wakeup.S b/xen/arch/x86/boot/wakeup.S
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/boot/x86_64.S b/xen/arch/x86/boot/x86_64.S
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/bzimage.c b/xen/arch/x86/bzimage.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/clear_page.S b/xen/arch/x86/clear_page.S
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/compat.c b/xen/arch/x86/compat.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/copy_page.S b/xen/arch/x86/copy_page.S
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/Makefile b/xen/arch/x86/cpu/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/amd.c b/xen/arch/x86/cpu/amd.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/centaur.c b/xen/arch/x86/cpu/centaur.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/common.c b/xen/arch/x86/cpu/common.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/cpu.h b/xen/arch/x86/cpu/cpu.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/intel.c b/xen/arch/x86/cpu/intel.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/intel_cacheinfo.c b/xen/arch/x86/cpu/intel_cacheinfo.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/Makefile b/xen/arch/x86/cpu/mcheck/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/amd_f10.c b/xen/arch/x86/cpu/mcheck/amd_f10.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/amd_k8.c b/xen/arch/x86/cpu/mcheck/amd_k8.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/amd_nonfatal.c b/xen/arch/x86/cpu/mcheck/amd_nonfatal.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/barrier.c b/xen/arch/x86/cpu/mcheck/barrier.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/barrier.h b/xen/arch/x86/cpu/mcheck/barrier.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/mcaction.c b/xen/arch/x86/cpu/mcheck/mcaction.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/mcaction.h b/xen/arch/x86/cpu/mcheck/mcaction.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/mce-apei.c b/xen/arch/x86/cpu/mcheck/mce-apei.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/mce.c b/xen/arch/x86/cpu/mcheck/mce.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/mce.h b/xen/arch/x86/cpu/mcheck/mce.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/mce_amd.c b/xen/arch/x86/cpu/mcheck/mce_amd.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/mce_amd.h b/xen/arch/x86/cpu/mcheck/mce_amd.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/mce_intel.c b/xen/arch/x86/cpu/mcheck/mce_intel.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/mce_quirks.h b/xen/arch/x86/cpu/mcheck/mce_quirks.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/mctelem.c b/xen/arch/x86/cpu/mcheck/mctelem.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/mctelem.h b/xen/arch/x86/cpu/mcheck/mctelem.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/non-fatal.c b/xen/arch/x86/cpu/mcheck/non-fatal.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/util.c b/xen/arch/x86/cpu/mcheck/util.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/util.h b/xen/arch/x86/cpu/mcheck/util.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/vmce.c b/xen/arch/x86/cpu/mcheck/vmce.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/vmce.h b/xen/arch/x86/cpu/mcheck/vmce.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mcheck/x86_mca.h b/xen/arch/x86/cpu/mcheck/x86_mca.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mtrr/Makefile b/xen/arch/x86/cpu/mtrr/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mtrr/generic.c b/xen/arch/x86/cpu/mtrr/generic.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mtrr/main.c b/xen/arch/x86/cpu/mtrr/main.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mtrr/mtrr.h b/xen/arch/x86/cpu/mtrr/mtrr.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/cpu/mwait-idle.c b/xen/arch/x86/cpu/mwait-idle.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/crash.c b/xen/arch/x86/crash.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/debug.c b/xen/arch/x86/debug.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/delay.c b/xen/arch/x86/delay.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/dmi_scan.c b/xen/arch/x86/dmi_scan.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/domain.c b/xen/arch/x86/domain.c
old mode 100644
new mode 100755
index 52c9040..aaaf5e8
--- a/xen/arch/x86/domain.c
+++ b/xen/arch/x86/domain.c
@@ -60,6 +60,8 @@
 #include <xen/numa.h>
 #include <xen/iommu.h>
 #include <compat/vcpu.h>
+#include <xen/trace.h>          /* trace schedule overhead */
+
 
 DEFINE_PER_CPU(struct vcpu *, curr_vcpu);
 DEFINE_PER_CPU(unsigned long, cr4);
@@ -1397,6 +1399,10 @@ void context_switch(struct vcpu *prev, struct vcpu *next)
 {
     unsigned int cpu = smp_processor_id();
     cpumask_t dirty_mask;
+    /* trace overhead */
+    s_time_t t1, t2;
+    int flush_tlb = 0;
+    t1 = NOW();
 
     ASSERT(local_irq_is_enabled());
 
@@ -1408,6 +1414,7 @@ void context_switch(struct vcpu *prev, struct vcpu *next)
     {
         /* Other cpus call __sync_local_execstate from flush ipi handler. */
         flush_tlb_mask(&dirty_mask);
+        flush_tlb = 1;
     }
 
     if (prev != next)
@@ -1462,7 +1469,20 @@ void context_switch(struct vcpu *prev, struct vcpu *next)
         /* Must be done with interrupts enabled */
         vpmu_load(next);
 
+    t2 = NOW();
+    TRACE_6D(TRC_SCHED_OVERHEAD_CONTEXT_SWITCH,
+             prev->domain->domain_id,
+             prev->vcpu_id,
+             next->domain->domain_id,
+             next->vcpu_id,
+             flush_tlb,
+             t2-t1);
+
+    t1 = NOW();
     context_saved(prev);
+    t2 = NOW();
+    TRACE_3D(TRC_SCHED_OVERHEAD_CONTEXT_SAVED, prev->domain->domain_id, prev->vcpu_id, t2-t1);
+
 
     if (prev != next)
         update_runstate_area(next);
diff --git a/xen/arch/x86/domain_build.c b/xen/arch/x86/domain_build.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/domain_page.c b/xen/arch/x86/domain_page.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/domctl.c b/xen/arch/x86/domctl.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/e820.c b/xen/arch/x86/e820.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/efi/Makefile b/xen/arch/x86/efi/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/efi/boot.c b/xen/arch/x86/efi/boot.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/efi/check.c b/xen/arch/x86/efi/check.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/efi/compat.c b/xen/arch/x86/efi/compat.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/efi/efi.h b/xen/arch/x86/efi/efi.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/efi/mkreloc.c b/xen/arch/x86/efi/mkreloc.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/efi/relocs-dummy.S b/xen/arch/x86/efi/relocs-dummy.S
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/efi/runtime.c b/xen/arch/x86/efi/runtime.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/efi/stub.c b/xen/arch/x86/efi/stub.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/extable.c b/xen/arch/x86/extable.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/flushtlb.c b/xen/arch/x86/flushtlb.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/gdbstub.c b/xen/arch/x86/gdbstub.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/genapic/Makefile b/xen/arch/x86/genapic/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/genapic/bigsmp.c b/xen/arch/x86/genapic/bigsmp.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/genapic/default.c b/xen/arch/x86/genapic/default.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/genapic/delivery.c b/xen/arch/x86/genapic/delivery.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/genapic/probe.c b/xen/arch/x86/genapic/probe.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/genapic/summit.c b/xen/arch/x86/genapic/summit.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/genapic/x2apic.c b/xen/arch/x86/genapic/x2apic.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hpet.c b/xen/arch/x86/hpet.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/Makefile b/xen/arch/x86/hvm/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/asid.c b/xen/arch/x86/hvm/asid.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/emulate.c b/xen/arch/x86/hvm/emulate.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/hpet.c b/xen/arch/x86/hvm/hpet.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/hvm.c b/xen/arch/x86/hvm/hvm.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/i8254.c b/xen/arch/x86/hvm/i8254.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/intercept.c b/xen/arch/x86/hvm/intercept.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/io.c b/xen/arch/x86/hvm/io.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/irq.c b/xen/arch/x86/hvm/irq.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/mtrr.c b/xen/arch/x86/hvm/mtrr.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/nestedhvm.c b/xen/arch/x86/hvm/nestedhvm.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/pmtimer.c b/xen/arch/x86/hvm/pmtimer.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/quirks.c b/xen/arch/x86/hvm/quirks.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/rtc.c b/xen/arch/x86/hvm/rtc.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/save.c b/xen/arch/x86/hvm/save.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/stdvga.c b/xen/arch/x86/hvm/stdvga.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/svm/Makefile b/xen/arch/x86/hvm/svm/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/svm/asid.c b/xen/arch/x86/hvm/svm/asid.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/svm/emulate.c b/xen/arch/x86/hvm/svm/emulate.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/svm/entry.S b/xen/arch/x86/hvm/svm/entry.S
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/svm/intr.c b/xen/arch/x86/hvm/svm/intr.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/svm/nestedsvm.c b/xen/arch/x86/hvm/svm/nestedsvm.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/svm/svm.c b/xen/arch/x86/hvm/svm/svm.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/svm/svmdebug.c b/xen/arch/x86/hvm/svm/svmdebug.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/svm/vmcb.c b/xen/arch/x86/hvm/svm/vmcb.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/svm/vpmu.c b/xen/arch/x86/hvm/svm/vpmu.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/vioapic.c b/xen/arch/x86/hvm/vioapic.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/viridian.c b/xen/arch/x86/hvm/viridian.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/vlapic.c b/xen/arch/x86/hvm/vlapic.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/vmsi.c b/xen/arch/x86/hvm/vmsi.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/vmx/Makefile b/xen/arch/x86/hvm/vmx/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/vmx/entry.S b/xen/arch/x86/hvm/vmx/entry.S
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/vmx/intr.c b/xen/arch/x86/hvm/vmx/intr.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/vmx/realmode.c b/xen/arch/x86/hvm/vmx/realmode.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/vmx/vmcs.c b/xen/arch/x86/hvm/vmx/vmcs.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/vmx/vmx.c b/xen/arch/x86/hvm/vmx/vmx.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/vmx/vpmu_core2.c b/xen/arch/x86/hvm/vmx/vpmu_core2.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/vmx/vvmx.c b/xen/arch/x86/hvm/vmx/vvmx.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/vpic.c b/xen/arch/x86/hvm/vpic.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/vpmu.c b/xen/arch/x86/hvm/vpmu.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/hvm/vpt.c b/xen/arch/x86/hvm/vpt.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/i387.c b/xen/arch/x86/i387.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/i8259.c b/xen/arch/x86/i8259.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/io_apic.c b/xen/arch/x86/io_apic.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/ioport_emulate.c b/xen/arch/x86/ioport_emulate.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/irq.c b/xen/arch/x86/irq.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/machine_kexec.c b/xen/arch/x86/machine_kexec.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/microcode.c b/xen/arch/x86/microcode.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/microcode_amd.c b/xen/arch/x86/microcode_amd.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/microcode_intel.c b/xen/arch/x86/microcode_intel.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm.c b/xen/arch/x86/mm.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/Makefile b/xen/arch/x86/mm/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/guest_walk.c b/xen/arch/x86/mm/guest_walk.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/hap/Makefile b/xen/arch/x86/mm/hap/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/hap/guest_walk.c b/xen/arch/x86/mm/hap/guest_walk.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/hap/hap.c b/xen/arch/x86/mm/hap/hap.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/hap/nested_ept.c b/xen/arch/x86/mm/hap/nested_ept.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/hap/nested_hap.c b/xen/arch/x86/mm/hap/nested_hap.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/hap/private.h b/xen/arch/x86/mm/hap/private.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/mem_access.c b/xen/arch/x86/mm/mem_access.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/mem_event.c b/xen/arch/x86/mm/mem_event.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/mem_paging.c b/xen/arch/x86/mm/mem_paging.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/mem_sharing.c b/xen/arch/x86/mm/mem_sharing.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/mm-locks.h b/xen/arch/x86/mm/mm-locks.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/p2m-ept.c b/xen/arch/x86/mm/p2m-ept.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/p2m-pod.c b/xen/arch/x86/mm/p2m-pod.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/p2m-pt.c b/xen/arch/x86/mm/p2m-pt.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/p2m.c b/xen/arch/x86/mm/p2m.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/paging.c b/xen/arch/x86/mm/paging.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/shadow/Makefile b/xen/arch/x86/mm/shadow/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/shadow/common.c b/xen/arch/x86/mm/shadow/common.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/shadow/multi.c b/xen/arch/x86/mm/shadow/multi.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/shadow/multi.h b/xen/arch/x86/mm/shadow/multi.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/shadow/private.h b/xen/arch/x86/mm/shadow/private.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mm/shadow/types.h b/xen/arch/x86/mm/shadow/types.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/mpparse.c b/xen/arch/x86/mpparse.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/msi.c b/xen/arch/x86/msi.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/nmi.c b/xen/arch/x86/nmi.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/numa.c b/xen/arch/x86/numa.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/oprofile/Makefile b/xen/arch/x86/oprofile/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/oprofile/backtrace.c b/xen/arch/x86/oprofile/backtrace.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/oprofile/nmi_int.c b/xen/arch/x86/oprofile/nmi_int.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/oprofile/op_counter.h b/xen/arch/x86/oprofile/op_counter.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/oprofile/op_model_athlon.c b/xen/arch/x86/oprofile/op_model_athlon.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/oprofile/op_model_p4.c b/xen/arch/x86/oprofile/op_model_p4.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/oprofile/op_model_ppro.c b/xen/arch/x86/oprofile/op_model_ppro.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/oprofile/op_x86_model.h b/xen/arch/x86/oprofile/op_x86_model.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/oprofile/xenoprof.c b/xen/arch/x86/oprofile/xenoprof.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/pci.c b/xen/arch/x86/pci.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/percpu.c b/xen/arch/x86/percpu.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/physdev.c b/xen/arch/x86/physdev.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/platform_hypercall.c b/xen/arch/x86/platform_hypercall.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/setup.c b/xen/arch/x86/setup.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/shutdown.c b/xen/arch/x86/shutdown.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/smp.c b/xen/arch/x86/smp.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/smpboot.c b/xen/arch/x86/smpboot.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/srat.c b/xen/arch/x86/srat.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/string.c b/xen/arch/x86/string.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/sysctl.c b/xen/arch/x86/sysctl.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/tboot.c b/xen/arch/x86/tboot.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/time.c b/xen/arch/x86/time.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/trace.c b/xen/arch/x86/trace.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/traps.c b/xen/arch/x86/traps.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/usercopy.c b/xen/arch/x86/usercopy.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/Makefile b/xen/arch/x86/x86_64/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/acpi_mmcfg.c b/xen/arch/x86/x86_64/acpi_mmcfg.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/asm-offsets.c b/xen/arch/x86/x86_64/asm-offsets.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/compat.c b/xen/arch/x86/x86_64/compat.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/compat/Makefile b/xen/arch/x86/x86_64/compat/Makefile
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/compat/entry.S b/xen/arch/x86/x86_64/compat/entry.S
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/compat/mm.c b/xen/arch/x86/x86_64/compat/mm.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/compat/traps.c b/xen/arch/x86/x86_64/compat/traps.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/compat_kexec.S b/xen/arch/x86/x86_64/compat_kexec.S
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/cpu_idle.c b/xen/arch/x86/x86_64/cpu_idle.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/cpufreq.c b/xen/arch/x86/x86_64/cpufreq.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/domain.c b/xen/arch/x86/x86_64/domain.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/entry.S b/xen/arch/x86/x86_64/entry.S
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/gdbstub.c b/xen/arch/x86/x86_64/gdbstub.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/gpr_switch.S b/xen/arch/x86/x86_64/gpr_switch.S
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/machine_kexec.c b/xen/arch/x86/x86_64/machine_kexec.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/mm.c b/xen/arch/x86/x86_64/mm.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/mmconf-fam10h.c b/xen/arch/x86/x86_64/mmconf-fam10h.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/mmconfig-shared.c b/xen/arch/x86/x86_64/mmconfig-shared.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/mmconfig.h b/xen/arch/x86/x86_64/mmconfig.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/mmconfig_64.c b/xen/arch/x86/x86_64/mmconfig_64.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/pci.c b/xen/arch/x86/x86_64/pci.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/physdev.c b/xen/arch/x86/x86_64/physdev.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/platform_hypercall.c b/xen/arch/x86/x86_64/platform_hypercall.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_64/traps.c b/xen/arch/x86/x86_64/traps.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_emulate.c b/xen/arch/x86/x86_emulate.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_emulate/x86_emulate.c b/xen/arch/x86/x86_emulate/x86_emulate.c
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/x86_emulate/x86_emulate.h b/xen/arch/x86/x86_emulate/x86_emulate.h
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/xen.lds.S b/xen/arch/x86/xen.lds.S
old mode 100644
new mode 100755
diff --git a/xen/arch/x86/xstate.c b/xen/arch/x86/xstate.c
old mode 100644
new mode 100755
diff --git a/xen/common/Makefile b/xen/common/Makefile
old mode 100644
new mode 100755
index 0dc2050..c13ad55
--- a/xen/common/Makefile
+++ b/xen/common/Makefile
@@ -21,6 +21,8 @@ obj-y += rangeset.o
 obj-y += sched_credit.o
 obj-y += sched_credit2.o
 obj-y += sched_sedf.o
+obj-y += sched_rtglobal.o
+obj-y += sched_rtpartition.o
 obj-y += sched_arinc653.o
 obj-y += schedule.o
 obj-y += shutdown.o
diff --git a/xen/common/bitmap.c b/xen/common/bitmap.c
old mode 100644
new mode 100755
diff --git a/xen/common/bunzip2.c b/xen/common/bunzip2.c
old mode 100644
new mode 100755
diff --git a/xen/common/compat/Makefile b/xen/common/compat/Makefile
old mode 100644
new mode 100755
diff --git a/xen/common/compat/domain.c b/xen/common/compat/domain.c
old mode 100644
new mode 100755
diff --git a/xen/common/compat/grant_table.c b/xen/common/compat/grant_table.c
old mode 100644
new mode 100755
diff --git a/xen/common/compat/kernel.c b/xen/common/compat/kernel.c
old mode 100644
new mode 100755
diff --git a/xen/common/compat/memory.c b/xen/common/compat/memory.c
old mode 100644
new mode 100755
diff --git a/xen/common/compat/multicall.c b/xen/common/compat/multicall.c
old mode 100644
new mode 100755
diff --git a/xen/common/compat/schedule.c b/xen/common/compat/schedule.c
old mode 100644
new mode 100755
diff --git a/xen/common/compat/tmem_xen.c b/xen/common/compat/tmem_xen.c
old mode 100644
new mode 100755
diff --git a/xen/common/compat/xenoprof.c b/xen/common/compat/xenoprof.c
old mode 100644
new mode 100755
diff --git a/xen/common/compat/xlat.c b/xen/common/compat/xlat.c
old mode 100644
new mode 100755
diff --git a/xen/common/core_parking.c b/xen/common/core_parking.c
old mode 100644
new mode 100755
diff --git a/xen/common/cpu.c b/xen/common/cpu.c
old mode 100644
new mode 100755
diff --git a/xen/common/cpupool.c b/xen/common/cpupool.c
old mode 100644
new mode 100755
diff --git a/xen/common/decompress.c b/xen/common/decompress.c
old mode 100644
new mode 100755
diff --git a/xen/common/decompress.h b/xen/common/decompress.h
old mode 100644
new mode 100755
diff --git a/xen/common/device_tree.c b/xen/common/device_tree.c
old mode 100644
new mode 100755
diff --git a/xen/common/domain.c b/xen/common/domain.c
old mode 100644
new mode 100755
diff --git a/xen/common/domctl.c b/xen/common/domctl.c
old mode 100644
new mode 100755
diff --git a/xen/common/event_channel.c b/xen/common/event_channel.c
old mode 100644
new mode 100755
diff --git a/xen/common/gcov/Makefile b/xen/common/gcov/Makefile
old mode 100644
new mode 100755
diff --git a/xen/common/gcov/gcov.c b/xen/common/gcov/gcov.c
old mode 100644
new mode 100755
diff --git a/xen/common/gdbstub.c b/xen/common/gdbstub.c
old mode 100644
new mode 100755
diff --git a/xen/common/grant_table.c b/xen/common/grant_table.c
old mode 100644
new mode 100755
diff --git a/xen/common/hvm/Makefile b/xen/common/hvm/Makefile
old mode 100644
new mode 100755
diff --git a/xen/common/hvm/save.c b/xen/common/hvm/save.c
old mode 100644
new mode 100755
diff --git a/xen/common/inflate.c b/xen/common/inflate.c
old mode 100644
new mode 100755
diff --git a/xen/common/irq.c b/xen/common/irq.c
old mode 100644
new mode 100755
diff --git a/xen/common/kernel.c b/xen/common/kernel.c
old mode 100644
new mode 100755
diff --git a/xen/common/kexec.c b/xen/common/kexec.c
old mode 100644
new mode 100755
diff --git a/xen/common/keyhandler.c b/xen/common/keyhandler.c
old mode 100644
new mode 100755
diff --git a/xen/common/lib.c b/xen/common/lib.c
old mode 100644
new mode 100755
diff --git a/xen/common/libelf/COPYING b/xen/common/libelf/COPYING
old mode 100644
new mode 100755
diff --git a/xen/common/libelf/Makefile b/xen/common/libelf/Makefile
old mode 100644
new mode 100755
diff --git a/xen/common/libelf/README b/xen/common/libelf/README
old mode 100644
new mode 100755
diff --git a/xen/common/libelf/libelf-dominfo.c b/xen/common/libelf/libelf-dominfo.c
old mode 100644
new mode 100755
diff --git a/xen/common/libelf/libelf-loader.c b/xen/common/libelf/libelf-loader.c
old mode 100644
new mode 100755
diff --git a/xen/common/libelf/libelf-private.h b/xen/common/libelf/libelf-private.h
old mode 100644
new mode 100755
diff --git a/xen/common/libelf/libelf-tools.c b/xen/common/libelf/libelf-tools.c
old mode 100644
new mode 100755
diff --git a/xen/common/libfdt/Makefile b/xen/common/libfdt/Makefile
old mode 100644
new mode 100755
diff --git a/xen/common/libfdt/Makefile.libfdt b/xen/common/libfdt/Makefile.libfdt
old mode 100644
new mode 100755
diff --git a/xen/common/libfdt/TODO b/xen/common/libfdt/TODO
old mode 100644
new mode 100755
diff --git a/xen/common/libfdt/fdt.c b/xen/common/libfdt/fdt.c
old mode 100644
new mode 100755
diff --git a/xen/common/libfdt/fdt_ro.c b/xen/common/libfdt/fdt_ro.c
old mode 100644
new mode 100755
diff --git a/xen/common/libfdt/fdt_rw.c b/xen/common/libfdt/fdt_rw.c
old mode 100644
new mode 100755
diff --git a/xen/common/libfdt/fdt_strerror.c b/xen/common/libfdt/fdt_strerror.c
old mode 100644
new mode 100755
diff --git a/xen/common/libfdt/fdt_sw.c b/xen/common/libfdt/fdt_sw.c
old mode 100644
new mode 100755
diff --git a/xen/common/libfdt/fdt_wip.c b/xen/common/libfdt/fdt_wip.c
old mode 100644
new mode 100755
diff --git a/xen/common/libfdt/libfdt_internal.h b/xen/common/libfdt/libfdt_internal.h
old mode 100644
new mode 100755
diff --git a/xen/common/libfdt/version.lds b/xen/common/libfdt/version.lds
old mode 100644
new mode 100755
diff --git a/xen/common/lzo.c b/xen/common/lzo.c
old mode 100644
new mode 100755
diff --git a/xen/common/memory.c b/xen/common/memory.c
old mode 100644
new mode 100755
diff --git a/xen/common/multicall.c b/xen/common/multicall.c
old mode 100644
new mode 100755
diff --git a/xen/common/notifier.c b/xen/common/notifier.c
old mode 100644
new mode 100755
diff --git a/xen/common/page_alloc.c b/xen/common/page_alloc.c
old mode 100644
new mode 100755
diff --git a/xen/common/perfc.c b/xen/common/perfc.c
old mode 100644
new mode 100755
diff --git a/xen/common/preempt.c b/xen/common/preempt.c
old mode 100644
new mode 100755
diff --git a/xen/common/radix-tree.c b/xen/common/radix-tree.c
old mode 100644
new mode 100755
diff --git a/xen/common/rangeset.c b/xen/common/rangeset.c
old mode 100644
new mode 100755
diff --git a/xen/common/rbtree.c b/xen/common/rbtree.c
old mode 100644
new mode 100755
diff --git a/xen/common/rcupdate.c b/xen/common/rcupdate.c
old mode 100644
new mode 100755
diff --git a/xen/common/sched_arinc653.c b/xen/common/sched_arinc653.c
old mode 100644
new mode 100755
diff --git a/xen/common/sched_credit.c b/xen/common/sched_credit.c
old mode 100644
new mode 100755
diff --git a/xen/common/sched_credit2.c b/xen/common/sched_credit2.c
old mode 100644
new mode 100755
diff --git a/xen/common/sched_rtglobal.c b/xen/common/sched_rtglobal.c
new file mode 100755
index 0000000..829a89b
--- /dev/null
+++ b/xen/common/sched_rtglobal.c
@@ -0,0 +1,931 @@
+/******************************************************************************
+ * Preemptive Global EDF/RM scheduler for xen
+ *
+ * by Sisu Xi, 2013, Washington University in Saint Louis
+ * based on code of credite Scheduler
+ */
+
+#include <xen/config.h>
+#include <xen/init.h>
+#include <xen/lib.h>
+#include <xen/sched.h>
+#include <xen/domain.h>
+#include <xen/delay.h>
+#include <xen/event.h>
+#include <xen/time.h>
+#include <xen/perfc.h>
+#include <xen/sched-if.h>
+#include <xen/softirq.h>
+#include <asm/atomic.h>
+#include <xen/errno.h>
+#include <xen/trace.h>
+#include <xen/cpu.h>
+#include <xen/keyhandler.h>
+#include <xen/trace.h>
+
+/*
+ * TODO:
+ *
+ * How to show individual VCPU info?
+ * Migration compensation and resist like credit2
+ * Lock Holder Problem, using yield?
+ * Self switch problem?
+ * More testing with xentrace and xenanalyze
+ */
+
+/*
+ * Design:
+ *
+ * Follows the pre-emptive Global EDF/RM theory.
+ * Each VCPU can have a dedicated period/budget pair of parameter. When a VCPU is running, it burns its budget, and when there are no budget, the VCPU need to wait unitl next period to get replensihed. Any unused budget is discarded in the end of period.
+ * Server mechanism: deferrable server is used here. Therefore, when a VCPU has no task but with budget left, the budget is preserved.
+ * Priority scheme: a global variable called priority_scheme is used to switch between EDF and RM
+ * Queue scheme: a global runqueue is used here. It holds all runnable VCPUs. VCPUs are divided into two parts: with and without remaining budget. Among each part, VCPUs are sorted by their current deadlines.
+ * Scheduling quanta: 1 ms is picked as the scheduling quanta, but the accounting is done in microsecond level.
+ * Other: cpumask is also supported, as a result, although the runq is sorted, the scheduler also need to verify whether the cpumask is allowed or not.
+ */
+
+/*
+ * Locking:
+ * Just like credit2, a global system lock is used to protect the RunQ.
+ *
+ * The lock is already grabbed when calling wake/sleep/schedule/ functions in schedule.c
+ *
+ * The functions involes RunQ and needs to grab locks are:
+ *    dump, vcpu_insert, vcpu_remove, context_saved,
+ */
+
+/*
+ * Default parameters
+ */
+#define RTGLOBAL_DEFAULT_PERIOD     10
+#define RTGLOBAL_DEFAULT_BUDGET      4
+
+#define EDF							0
+#define RM							1
+
+/*
+ * Useful macros
+ */
+#define RTGLOBAL_PRIV(_ops)     ((struct rtglobal_private *)((_ops)->sched_data))
+#define RTGLOBAL_VCPU(_vcpu)    ((struct rtglobal_vcpu *)(_vcpu)->sched_priv)
+#define RTGLOBAL_DOM(_dom)      ((struct rtglobal_dom *)(_dom)->sched_priv)
+#define RUNQ(_ops)          	(&RTGLOBAL_PRIV(_ops)->runq)
+
+/*
+ * Flags
+ */
+#define __RTGLOBAL_scheduled            1
+#define RTGLOBAL_scheduled (1<<__RTGLOBAL_scheduled)
+#define __RTGLOBAL_delayed_runq_add     2
+#define RTGLOBAL_delayed_runq_add (1<<__RTGLOBAL_delayed_runq_add)
+
+/*
+ * Used to printout debug information
+ */
+#define printtime()     ( printk("%d : %3ld.%3ld : %-19s ", smp_processor_id(), NOW()/MILLISECS(1), NOW()%MILLISECS(1)/1000, __func__) )
+
+/*
+ * Systme-wide private data, include a global RunQueue
+ * The global lock is referenced by schedule_data.schedule_lock from all physical cpus.
+ * It can be grabbed via vcpu_schedule_lock_irq()
+ */
+struct rtglobal_private {
+    spinlock_t lock;        /* The global coarse grand lock */
+    struct list_head sdom;  /* list of availalbe domains, used for dump */
+    struct list_head runq;  /* Ordered list of runnable VMs */
+    cpumask_t cpus;         /* cpumask_t of available physical cpus */
+    cpumask_t tickled;      /* another cpu in the queue already ticked this one */
+    unsigned priority_scheme;
+};
+
+/*
+ * Virtual CPU
+ */
+struct rtglobal_vcpu {
+    struct list_head runq_elem; /* On the runqueue list */
+    struct list_head sdom_elem; /* On the domain VCPU list */
+
+    /* Up-pointers */
+    struct rtglobal_dom *sdom;
+    struct vcpu *vcpu;
+
+    /* VCPU parameters, in milliseconds */
+    int period;
+    int budget;
+
+    /* VCPU current infomation */
+    long cur_budget;             /* current budget in microseconds, if none, should not schedule unless extra */
+    s_time_t last_start;        /* last start time, used to calculate budget */
+    s_time_t cur_deadline;      /* current deadline, used to do EDF */
+    unsigned flags;             /* mark __RTGLOBAL_scheduled, etc.. */
+};
+
+/*
+ * Domain
+ */
+struct rtglobal_dom {
+    struct list_head vcpu;      /* link its VCPUs */
+    struct list_head sdom_elem; /* link list on rtglobal_priv */
+    struct domain *dom;         /* pointer to upper domain */
+    int    extra;               /* not evaluated */
+};
+
+/*
+ * RunQueue helper functions
+ */
+static int
+__vcpu_on_runq(struct rtglobal_vcpu *svc)
+{
+   return !list_empty(&svc->runq_elem);
+}
+
+static struct rtglobal_vcpu *
+__runq_elem(struct list_head *elem)
+{
+    return list_entry(elem, struct rtglobal_vcpu, runq_elem);
+}
+
+/* lock is grabbed before calling this function */
+static inline void
+__runq_remove(struct rtglobal_vcpu *svc)
+{
+    if ( __vcpu_on_runq(svc) )
+        list_del_init(&svc->runq_elem);
+}
+
+/* lock is grabbed before calling this function */
+static void
+__runq_insert(const struct scheduler *ops, struct rtglobal_vcpu *svc)
+{
+    struct list_head *runq = RUNQ(ops);
+    struct list_head *iter;
+	struct rtglobal_private *prv = RTGLOBAL_PRIV(ops);
+    ASSERT( spin_is_locked(per_cpu(schedule_data, svc->vcpu->processor).schedule_lock) );
+
+    if ( __vcpu_on_runq(svc) )
+        return;
+
+    list_for_each(iter, runq) {
+        struct rtglobal_vcpu * iter_svc = __runq_elem(iter);
+
+		if ( svc->cur_budget > 0 ) { // svc still has budget
+			if ( iter_svc->cur_budget == 0 ||
+			     ( ( prv->priority_scheme == EDF && svc->cur_deadline <= iter_svc->cur_deadline ) ||
+			       ( prv->priority_scheme == RM && svc->period <= iter_svc->period )) ) {
+					break;
+			}
+		} else { // svc has no budget
+			if ( iter_svc->cur_budget == 0 &&
+			     ( ( prv->priority_scheme == EDF && svc->cur_deadline <= iter_svc->cur_deadline ) ||
+			       ( prv->priority_scheme == RM && svc->period <= iter_svc->period )) ) {
+					break;
+			}
+		}
+    }
+
+    list_add_tail(&svc->runq_elem, iter);
+}
+
+/*
+ * Debug related code, dump vcpu/pcpu
+ */
+static void
+rtglobal_dump_vcpu(struct rtglobal_vcpu *svc)
+{
+    if ( svc == NULL ) {
+        printk("NULL!\n");
+        return;
+    }
+// #define cpustr keyhandler_scratch
+    // cpumask_scnprintf(cpustr, sizeof(cpustr), svc->vcpu->cpu_affinity);
+    printk("[%5d.%-2d] cpu %d, (%-2d, %-2d), cur_b=%ld cur_d=%lu last_start=%lu onR=%d runnable=%d\n",
+        // , affinity=%s\n",
+            svc->vcpu->domain->domain_id,
+            svc->vcpu->vcpu_id,
+            svc->vcpu->processor,
+            svc->period,
+            svc->budget,
+            svc->cur_budget,
+            svc->cur_deadline,
+            svc->last_start,
+            __vcpu_on_runq(svc),
+            vcpu_runnable(svc->vcpu));
+            // cpustr);
+// #undef cpustr
+}
+
+static void
+rtglobal_dump_pcpu(const struct scheduler *ops, int cpu)
+{
+    struct rtglobal_vcpu *svc = RTGLOBAL_VCPU(curr_on_cpu(cpu));
+
+    printtime();
+    rtglobal_dump_vcpu(svc);
+}
+
+/* should not need lock here. only showing stuff */
+static void
+rtglobal_dump(const struct scheduler *ops)
+{
+    struct list_head *iter_sdom, *iter_svc, *runq, *iter;
+    struct rtglobal_private *prv = RTGLOBAL_PRIV(ops);
+    struct rtglobal_vcpu *svc;
+    int cpu = 0;
+    int loop = 0;
+
+    printtime();
+    printk("Priority Scheme: ");
+    if ( prv->priority_scheme == EDF ) printk("EDF\n");
+    else printk ("RM\n");
+
+    printk("PCPU info: \n");
+    for_each_cpu(cpu, &prv->cpus) {
+        rtglobal_dump_pcpu(ops, cpu);
+    }
+
+    printk("Global RunQueue info: \n");
+    loop = 0;
+    runq = RUNQ(ops);
+    list_for_each( iter, runq ) {
+        svc = __runq_elem(iter);
+        printk("\t%3d: ", ++loop);
+        rtglobal_dump_vcpu(svc);
+    }
+
+    printk("Domain info: \n");
+    loop = 0;
+    list_for_each( iter_sdom, &prv->sdom ) {
+        struct rtglobal_dom *sdom;
+        sdom = list_entry(iter_sdom, struct rtglobal_dom, sdom_elem);
+        printk("\tdomain: %d\n", sdom->dom->domain_id);
+
+        list_for_each( iter_svc, &sdom->vcpu ) {
+            svc = list_entry(iter_svc, struct rtglobal_vcpu, sdom_elem);
+            printk("\t\t%3d: ", ++loop);
+            rtglobal_dump_vcpu(svc);
+        }
+    }
+
+    printk("\n");
+}
+
+/*
+ * Init/Free related code
+ */
+static int
+rtglobal_init(struct scheduler *ops)
+{
+    struct rtglobal_private *prv;
+
+    prv = xmalloc(struct rtglobal_private);
+    if ( prv == NULL ) {
+        printk("malloc failed at rtglobal_private\n");
+        return -ENOMEM;
+    }
+    memset(prv, 0, sizeof(*prv));
+
+    ops->sched_data = prv;
+    spin_lock_init(&prv->lock);
+    INIT_LIST_HEAD(&prv->sdom);
+    INIT_LIST_HEAD(&prv->runq);
+    cpumask_clear(&prv->tickled);
+    cpumask_clear(&prv->cpus);
+    prv->priority_scheme = EDF;     /* by default, use EDF scheduler */
+
+    printk("This is the Deferrable Server version of the preemptive RTGLOBAL scheduler\n");
+    printk("If you want to use it as a periodic server, please run a background busy CPU task\n");
+    printk("----#########----\n");
+    printk("This is the bounced version! It will force vm wtih id 1 to bounce between PCPUs\n");
+    printk("----########----\n");
+
+    printtime();
+    printk("\n");
+
+    return 0;
+}
+
+static void
+rtglobal_deinit(const struct scheduler *ops)
+{
+    struct rtglobal_private *prv;
+
+    printtime();
+    printk("\n");
+
+    prv = RTGLOBAL_PRIV(ops);
+    if ( prv )
+        xfree(prv);
+}
+
+/* point per_cpu spinlock to the global system lock */
+static void *
+rtglobal_alloc_pdata(const struct scheduler *ops, int cpu)
+{
+    struct rtglobal_private *prv = RTGLOBAL_PRIV(ops);
+
+    cpumask_set_cpu(cpu, &prv->cpus);
+
+    per_cpu(schedule_data, cpu).schedule_lock = &prv->lock;
+
+    printtime();
+    printk("total cpus: %d", cpumask_weight(&prv->cpus));
+    return (void *)1;
+}
+
+static void
+rtglobal_free_pdata(const struct scheduler *ops, void *pcpu, int cpu)
+{
+    struct rtglobal_private * prv = RTGLOBAL_PRIV(ops);
+    cpumask_clear_cpu(cpu, &prv->cpus);
+    printtime();
+    printk("cpu=%d\n", cpu);
+}
+
+static void *
+rtglobal_alloc_domdata(const struct scheduler *ops, struct domain *dom)
+{
+    unsigned long flags;
+    struct rtglobal_dom *sdom;
+    struct rtglobal_private * prv = RTGLOBAL_PRIV(ops);
+
+    printtime();
+    printk("dom=%d\n", dom->domain_id);
+
+    sdom = xmalloc(struct rtglobal_dom);
+    if ( sdom == NULL ) {
+        printk("%s, xmalloc failed\n", __func__);
+        return NULL;
+    }
+    memset(sdom, 0, sizeof(*sdom));
+
+    INIT_LIST_HEAD(&sdom->vcpu);
+    INIT_LIST_HEAD(&sdom->sdom_elem);
+    sdom->dom = dom;
+    sdom->extra = 0;         /* by default, should not allow extra time */
+
+    /* spinlock here to insert the dom */
+    spin_lock_irqsave(&prv->lock, flags);
+    list_add_tail(&sdom->sdom_elem, &(prv->sdom));
+    spin_unlock_irqrestore(&prv->lock, flags);
+
+    return (void *)sdom;
+}
+
+static void
+rtglobal_free_domdata(const struct scheduler *ops, void *data)
+{
+    unsigned long flags;
+    struct rtglobal_dom *sdom = data;
+    struct rtglobal_private * prv = RTGLOBAL_PRIV(ops);
+
+    printtime();
+    printk("dom=%d\n", sdom->dom->domain_id);
+
+    spin_lock_irqsave(&prv->lock, flags);
+    list_del_init(&sdom->sdom_elem);
+    spin_unlock_irqrestore(&prv->lock, flags);
+    xfree(data);
+}
+
+static int
+rtglobal_dom_init(const struct scheduler *ops, struct domain *dom)
+{
+    struct rtglobal_dom *sdom;
+
+    printtime();
+    printk("dom=%d\n", dom->domain_id);
+
+    /* IDLE Domain does not link on rtglobal_private */
+    if ( is_idle_domain(dom) ) { return 0; }
+
+    sdom = rtglobal_alloc_domdata(ops, dom);
+    if ( sdom == NULL ) {
+        printk("%s, failed\n", __func__);
+        return -ENOMEM;
+    }
+    dom->sched_priv = sdom;
+
+    return 0;
+}
+
+static void
+rtglobal_dom_destroy(const struct scheduler *ops, struct domain *dom)
+{
+    printtime();
+    printk("dom=%d\n", dom->domain_id);
+
+    rtglobal_free_domdata(ops, RTGLOBAL_DOM(dom));
+}
+
+static void *
+rtglobal_alloc_vdata(const struct scheduler *ops, struct vcpu *vc, void *dd)
+{
+    struct rtglobal_vcpu *svc;
+    s_time_t now = NOW();
+    long count;
+
+    /* Allocate per-VCPU info */
+    svc = xmalloc(struct rtglobal_vcpu);
+    if ( svc == NULL ) {
+        printk("%s, xmalloc failed\n", __func__);
+        return NULL;
+    }
+    memset(svc, 0, sizeof(*svc));
+
+    INIT_LIST_HEAD(&svc->runq_elem);
+    INIT_LIST_HEAD(&svc->sdom_elem);
+    svc->flags = 0U;
+    svc->sdom = dd;
+    svc->vcpu = vc;
+    svc->last_start = 0;            /* init last_start is 0 */
+
+	svc->period = RTGLOBAL_DEFAULT_PERIOD;
+	if ( !is_idle_vcpu(vc) && vc->domain->domain_id != 0 ) {
+		svc->budget = RTGLOBAL_DEFAULT_BUDGET;
+	} else {
+		svc->budget = RTGLOBAL_DEFAULT_PERIOD;
+	}
+
+	count = (now/MILLISECS(svc->period)) + 1;
+	svc->cur_deadline += count*MILLISECS(svc->period); /* sync all VCPU's start time to 0 */
+
+    svc->cur_budget = svc->budget*1000; /* counting in microseconds level */
+    printtime();
+    rtglobal_dump_vcpu(svc);
+
+    return svc;
+}
+
+static void
+rtglobal_free_vdata(const struct scheduler *ops, void *priv)
+{
+    struct rtglobal_vcpu *svc = priv;
+    printtime();
+    rtglobal_dump_vcpu(svc);
+    xfree(svc);
+}
+
+/* lock is grabbed before calling this function */
+static void
+rtglobal_vcpu_insert(const struct scheduler *ops, struct vcpu *vc)
+{
+    struct rtglobal_vcpu *svc = RTGLOBAL_VCPU(vc);
+
+    printtime();
+    rtglobal_dump_vcpu(svc);
+
+    /* IDLE VCPU not allowed on RunQ */
+    if ( is_idle_vcpu(vc) )
+        return;
+
+    list_add_tail(&svc->sdom_elem, &svc->sdom->vcpu);   /* add to dom vcpu list */
+}
+
+/* lock is grabbed before calling this function */
+static void
+rtglobal_vcpu_remove(const struct scheduler *ops, struct vcpu *vc)
+{
+    struct rtglobal_vcpu * const svc = RTGLOBAL_VCPU(vc);
+    struct rtglobal_dom * const sdom = svc->sdom;
+
+    printtime();
+    rtglobal_dump_vcpu(svc);
+
+    BUG_ON( sdom == NULL );
+    BUG_ON( __vcpu_on_runq(svc) );
+
+    if ( !is_idle_vcpu(vc) ) {
+        list_del_init(&svc->sdom_elem);
+    }
+}
+
+/*
+ * Other important functions
+ */
+/* do we need the lock here? */
+/* TODO: How to return the per VCPU parameters? Right now return the sum of budgets */
+static int
+rtglobal_dom_cntl(const struct scheduler *ops, struct domain *d, struct xen_domctl_scheduler_op *op)
+{
+    struct rtglobal_dom * const sdom = RTGLOBAL_DOM(d);
+    struct list_head *iter;
+    struct rtglobal_private * prv = RTGLOBAL_PRIV(ops);
+
+    if ( op->cmd == XEN_DOMCTL_SCHEDOP_getinfo ) {
+        /* for debug use, whenever adjust Dom0 parameter, do global dump */
+        if ( d->domain_id == 0 ) {
+            rtglobal_dump(ops);
+        }
+
+        /* TODO: how to return individual VCPU parameters? */
+        op->u.rtglobal.budget = 0;
+        op->u.rtglobal.extra = sdom->extra;
+        list_for_each( iter, &sdom->vcpu ) {
+            struct rtglobal_vcpu * svc = list_entry(iter, struct rtglobal_vcpu, sdom_elem);
+            op->u.rtglobal.budget += svc->budget;
+            op->u.rtglobal.period = svc->period;
+        }
+    } else {
+        ASSERT(op->cmd == XEN_DOMCTL_SCHEDOP_putinfo);
+
+        if ( d->domain_id == 0 ) {
+            if ( prv->priority_scheme == EDF ) {
+                prv->priority_scheme = RM;
+                printk("priority changed to RM\n");
+            } else {
+                prv->priority_scheme = EDF;
+                printk("priority changed to EDF\n");
+            }
+        }
+
+        sdom->extra = op->u.rtglobal.extra;
+        list_for_each( iter, &sdom->vcpu ) {
+            struct rtglobal_vcpu * svc = list_entry(iter, struct rtglobal_vcpu, sdom_elem);
+            if ( op->u.rtglobal.vcpu == svc->vcpu->vcpu_id ) { /* adjust per VCPU parameter */
+                svc->period = op->u.rtglobal.period;
+                svc->budget = op->u.rtglobal.budget;
+                break;
+            }
+        }
+    }
+
+    return 0;
+}
+
+/* return a VCPU considering affinity */
+static int
+rtglobal_cpu_pick(const struct scheduler *ops, struct vcpu *vc)
+{
+    cpumask_t cpus;
+    int cpu;
+    struct rtglobal_private * prv = RTGLOBAL_PRIV(ops);
+
+    cpumask_copy(&cpus, vc->cpu_affinity);
+    cpumask_and(&cpus, &prv->cpus, &cpus);
+
+    cpu = cpumask_test_cpu(vc->processor, &cpus)
+            ? vc->processor 
+            : cpumask_cycle(vc->processor, &cpus);
+    ASSERT( !cpumask_empty(&cpus) && cpumask_test_cpu(cpu, &cpus) );
+
+    return cpu;
+}
+
+/* Implemented as deferrable server. */
+/* burn budget at microsecond level */
+static void
+burn_budgets(const struct scheduler *ops, struct rtglobal_vcpu *svc, s_time_t now) {
+    s_time_t delta;
+    unsigned int consume;
+    long count = 0;
+
+    /* first time called for this svc, update last_start */
+    if ( svc->last_start == 0 ) {
+        svc->last_start = now;
+        return;
+    }
+
+    /* don't burn budget for idle VCPU */
+    if ( is_idle_vcpu(svc->vcpu) ) {
+        return;
+    }
+
+    /* don't burn budget for Domain-0, RT-Xen use only */
+    if ( svc->sdom->dom->domain_id == 0 ) {
+        return;
+    }
+
+    /* update deadline info */
+    delta = now - svc->cur_deadline;
+    if ( delta >= 0 ) {
+        count = ( delta/MILLISECS(svc->period) ) + 1;
+        svc->cur_deadline += count * MILLISECS(svc->period);
+        svc->cur_budget = svc->budget * 1000;
+        return;
+    }
+
+    delta = now - svc->last_start;
+    if ( delta < 0 ) {
+        printk("%s, delta = %ld for ", __func__, delta);
+        rtglobal_dump_vcpu(svc);
+        svc->last_start = now;  /* update last_start */
+        svc->cur_budget = 0;
+        return;
+    }
+
+    if ( svc->cur_budget == 0 ) return;
+
+    /* burn at microseconds level */
+    consume = ( delta/MICROSECS(1) );
+    if ( delta%MICROSECS(1) > MICROSECS(1)/2 ) consume++;
+
+    svc->cur_budget -= consume;
+    if ( svc->cur_budget < 0 ) svc->cur_budget = 0;
+}
+
+/* RunQ is sorted. Pick first one within cpumask. If no one, return NULL */
+/* lock is grabbed before calling this function */
+static struct rtglobal_vcpu *
+__runq_pick(const struct scheduler *ops, cpumask_t mask)
+{
+    struct list_head *runq = RUNQ(ops);
+    struct list_head *iter;
+    struct rtglobal_vcpu *svc = NULL;
+    struct rtglobal_vcpu *iter_svc = NULL;
+    cpumask_t cpu_common;
+
+    list_for_each(iter, runq) {
+        iter_svc = __runq_elem(iter);
+
+        cpumask_copy(&cpu_common, iter_svc->vcpu->cpu_affinity);
+        cpumask_and(&cpu_common, &mask, &cpu_common);
+        if ( cpumask_empty(&cpu_common) )
+            continue;
+
+        if ( iter_svc->cur_budget <= 0 && iter_svc->sdom->extra == 0 )
+            continue;
+
+        /* bounce for VMs with id 1 */
+        if ( iter_svc->sdom->dom->domain_id == 1 && iter_svc->vcpu->processor == smp_processor_id() )
+            continue;
+
+        svc = iter_svc;
+        break;
+    }
+
+    return svc;
+}
+
+/* lock is grabbed before calling this function */
+static void
+__repl_update(const struct scheduler *ops, s_time_t now)
+{
+    struct list_head *runq = RUNQ(ops);
+    struct list_head *iter;
+    struct list_head *tmp;
+    struct rtglobal_vcpu *svc = NULL;
+
+    s_time_t diff;
+    long count;
+
+    list_for_each_safe(iter, tmp, runq) {
+        svc = __runq_elem(iter);
+
+        diff = now - svc->cur_deadline;
+        if ( diff > 0 ) {
+            count = (diff/MILLISECS(svc->period)) + 1;
+            svc->cur_deadline += count * MILLISECS(svc->period);
+            svc->cur_budget = svc->budget * 1000;
+            __runq_remove(svc);
+            __runq_insert(ops, svc);
+        }
+    }
+}
+
+/* The lock is already grabbed in schedule.c, no need to lock here */
+static struct task_slice
+rtglobal_schedule(const struct scheduler *ops, s_time_t now, bool_t tasklet_work_scheduled)
+{
+    const int cpu = smp_processor_id();
+    struct rtglobal_private * prv = RTGLOBAL_PRIV(ops);
+    struct rtglobal_vcpu * const scurr = RTGLOBAL_VCPU(current);
+    struct rtglobal_vcpu * snext = NULL;
+    struct task_slice ret;
+
+    /* clear ticked bit now that we've been scheduled */
+    if ( cpumask_test_cpu(cpu, &prv->tickled) )
+        cpumask_clear_cpu(cpu, &prv->tickled);
+
+    /* burn_budget would return for IDLE VCPU */
+    burn_budgets(ops, scurr, now);
+
+    __repl_update(ops, now);
+
+    if ( tasklet_work_scheduled ) {
+        snext = RTGLOBAL_VCPU(idle_vcpu[cpu]);
+    } else {
+        cpumask_t cur_cpu;
+        cpumask_clear(&cur_cpu);
+        cpumask_set_cpu(cpu, &cur_cpu);
+        snext = __runq_pick(ops, cur_cpu);
+        if ( snext == NULL )
+            snext = RTGLOBAL_VCPU(idle_vcpu[cpu]);
+
+        /* if scurr has higher priority and budget, still pick scurr */
+        if ( !is_idle_vcpu(current) &&
+             vcpu_runnable(current) &&
+             scurr->cur_budget > 0 &&
+             ( is_idle_vcpu(snext->vcpu) ||
+               scurr->cur_deadline <= snext->cur_deadline ) ) {
+               // scurr->vcpu->domain->domain_id == snext->vcpu->domain->domain_id ) ) {
+            snext = scurr;
+        }
+    }
+
+    if ( snext != scurr &&
+         !is_idle_vcpu(current) &&
+         vcpu_runnable(current) ) {
+        set_bit(__RTGLOBAL_delayed_runq_add, &scurr->flags);
+    }
+
+    snext->last_start = now;
+    ret.migrated = 0;
+    if ( !is_idle_vcpu(snext->vcpu) ) {
+        if ( snext != scurr ) {
+            __runq_remove(snext);
+            set_bit(__RTGLOBAL_scheduled, &snext->flags);
+        }
+        if ( snext->vcpu->processor != cpu ) {
+            snext->vcpu->processor = cpu;
+            ret.migrated = 1;
+        }
+    }
+
+    // if ( is_idle_vcpu(snext->vcpu) || snext->cur_budget > MILLISECS(1)) {
+    //     ret.time = MILLISECS(1);
+    // } else if ( snext->cur_budget > 0 ) {
+    //     ret.time = MICROSECS(snext->budget);
+    // }
+
+    ret.time = MILLISECS(1);
+    ret.task = snext->vcpu;
+
+    return ret;
+}
+
+/* Remove VCPU from RunQ */
+/* The lock is already grabbed in schedule.c, no need to lock here */
+static void
+rtglobal_vcpu_sleep(const struct scheduler *ops, struct vcpu *vc)
+{
+    struct rtglobal_vcpu * const svc = RTGLOBAL_VCPU(vc);
+
+    BUG_ON( is_idle_vcpu(vc) );
+
+    if ( curr_on_cpu(vc->processor) == vc ) {
+        cpu_raise_softirq(vc->processor, SCHEDULE_SOFTIRQ);
+        return;
+    }
+
+    if ( __vcpu_on_runq(svc) ) {
+        __runq_remove(svc);
+    }
+
+    clear_bit(__RTGLOBAL_delayed_runq_add, &svc->flags);
+}
+
+/*
+ * called by wake() and context_saved()
+ * we have a running candidate here, the kick logic is:
+ * Among all the cpus that are within the cpu affinity
+ * 1) if the new->cpu is idle, kick it. This could benefit cache hit
+ * 2) if there are any idle vcpu, kick it.
+ * 3) now all pcpus are busy, among all the running vcpus, pick lowest priority one
+ *    if snext has higher priority, kick it.
+ * TODO: what if these two vcpus belongs to the same domain?
+ * replace a vcpu belonging to the same domain does not make sense
+ */
+/* lock is grabbed before calling this function */
+static void
+runq_tickle(const struct scheduler *ops, struct rtglobal_vcpu *new)
+{
+    struct rtglobal_private * prv = RTGLOBAL_PRIV(ops);
+    struct rtglobal_vcpu * scheduled = NULL;    /* lowest priority scheduled */
+    struct rtglobal_vcpu * iter_svc;
+    struct vcpu * iter_vc;
+    int cpu = 0;
+    cpumask_t not_tickled;                  /* not tickled cpus */
+
+    if ( new == NULL || is_idle_vcpu(new->vcpu) ) return;
+
+    cpumask_copy(&not_tickled, new->vcpu->cpu_affinity);
+    cpumask_andnot(&not_tickled, &not_tickled, &prv->tickled);
+
+    /* 1) if new's previous cpu is idle, kick it for cache benefit */
+    if ( is_idle_vcpu(curr_on_cpu(new->vcpu->processor)) ) {
+        cpumask_set_cpu(new->vcpu->processor, &prv->tickled);
+        cpu_raise_softirq(new->vcpu->processor, SCHEDULE_SOFTIRQ);
+        return;
+    }
+
+    /* 2) if there are any idle pcpu, kick it */
+    /* the same loop also found the one with lowest priority */
+    for_each_cpu(cpu, &not_tickled) {
+        iter_vc = curr_on_cpu(cpu);
+        if ( is_idle_vcpu(iter_vc) ) {
+            cpumask_set_cpu(cpu, &prv->tickled);
+            cpu_raise_softirq(cpu, SCHEDULE_SOFTIRQ);
+            return;
+        }
+        iter_svc = RTGLOBAL_VCPU(iter_vc);
+        if ( scheduled == NULL || iter_svc->cur_deadline < scheduled->cur_deadline ) {
+            scheduled = iter_svc;
+        }
+    }
+
+    /* 3) new has higher priority, kick it */
+    if ( scheduled != NULL && new->cur_deadline < scheduled->cur_deadline ) {
+        cpumask_set_cpu(scheduled->vcpu->processor, &prv->tickled);
+        cpu_raise_softirq(scheduled->vcpu->processor, SCHEDULE_SOFTIRQ);
+    }
+    return;
+}
+
+/* Should always wake up runnable, put it back to RunQ. Check priority to raise interrupt */
+/* The lock is already grabbed in schedule.c, no need to lock here */
+/* TODO: what if these two vcpus belongs to the same domain? */
+static void
+rtglobal_vcpu_wake(const struct scheduler *ops, struct vcpu *vc)
+{
+    struct rtglobal_vcpu * const svc = RTGLOBAL_VCPU(vc);
+    s_time_t diff;
+    s_time_t now = NOW();
+    long count = 0;
+    struct rtglobal_private * prv = RTGLOBAL_PRIV(ops);
+    struct rtglobal_vcpu * snext = NULL;        /* highest priority on RunQ */
+
+    BUG_ON( is_idle_vcpu(vc) );
+
+    if ( unlikely(curr_on_cpu(vc->processor) == vc) ) return;
+
+    /* on RunQ, just update info is ok */
+    if ( unlikely(__vcpu_on_runq(svc)) ) return;
+
+    /* if context hasn't been saved yet, set flag so it will add later */
+    if ( unlikely(test_bit(__RTGLOBAL_scheduled, &svc->flags)) ) {
+        set_bit(__RTGLOBAL_delayed_runq_add, &svc->flags);
+        return;
+    }
+
+    /* update deadline info */
+    diff = now - svc->cur_deadline;
+    if ( diff >= 0 ) {
+        count = ( diff/MILLISECS(svc->period) ) + 1;
+        svc->cur_deadline += count * MILLISECS(svc->period);
+        svc->cur_budget = svc->budget * 1000;
+    }
+
+    __runq_insert(ops, svc);
+    __repl_update(ops, now);
+    snext = __runq_pick(ops, prv->cpus);    /* pick snext from ALL cpus */
+    runq_tickle(ops, snext);
+
+    return;
+}
+
+/* scurr has finished context switch, insert it back to the RunQ*/
+static void
+rtglobal_context_saved(const struct scheduler *ops, struct vcpu *vc)
+{
+    struct rtglobal_vcpu * svc = RTGLOBAL_VCPU(vc);
+    struct rtglobal_vcpu * snext = NULL;
+    struct rtglobal_private * prv = RTGLOBAL_PRIV(ops);
+
+    clear_bit(__RTGLOBAL_scheduled, &svc->flags);
+    if ( is_idle_vcpu(vc) ) return;
+
+    vcpu_schedule_lock_irq(vc);
+    if ( test_and_clear_bit(__RTGLOBAL_delayed_runq_add, &svc->flags) && likely(vcpu_runnable(vc)) ) {
+        __runq_insert(ops, svc);
+        __repl_update(ops, NOW());
+        snext = __runq_pick(ops, prv->cpus);    /* pick snext from ALL cpus */
+        runq_tickle(ops, snext);
+    }
+    vcpu_schedule_unlock_irq(vc);
+}
+
+static struct rtglobal_private _rtglobal_priv;
+
+const struct scheduler sched_rtglobal_def = {
+    .name           = "SMP RTGLOBAL Scheduler",
+    .opt_name       = "rtglobal",
+    .sched_id       = XEN_SCHEDULER_RTGLOBAL,
+    .sched_data     = &_rtglobal_priv,
+
+    .dump_cpu_state = rtglobal_dump_pcpu,
+    .dump_settings  = rtglobal_dump,
+    .init           = rtglobal_init,
+    .deinit         = rtglobal_deinit,
+    .alloc_pdata    = rtglobal_alloc_pdata,
+    .free_pdata     = rtglobal_free_pdata,
+    .alloc_domdata  = rtglobal_alloc_domdata,
+    .free_domdata   = rtglobal_free_domdata,
+    .init_domain    = rtglobal_dom_init,
+    .destroy_domain = rtglobal_dom_destroy,
+    .alloc_vdata    = rtglobal_alloc_vdata,
+    .free_vdata     = rtglobal_free_vdata,
+    .insert_vcpu    = rtglobal_vcpu_insert,
+    .remove_vcpu    = rtglobal_vcpu_remove,
+
+    .adjust         = rtglobal_dom_cntl,
+
+    .pick_cpu       = rtglobal_cpu_pick,
+    .do_schedule    = rtglobal_schedule,
+    .sleep          = rtglobal_vcpu_sleep,
+    .wake           = rtglobal_vcpu_wake,
+    .context_saved  = rtglobal_context_saved,
+
+    .yield          = NULL,
+    .migrate        = NULL,
+};
diff --git a/xen/common/sched_rtpartition.c b/xen/common/sched_rtpartition.c
new file mode 100755
index 0000000..a5d9a9c
--- /dev/null
+++ b/xen/common/sched_rtpartition.c
@@ -0,0 +1,809 @@
+/******************************************************************************
+ * Preemptive Partition EDF/RM scheduler for xen
+ *
+ * by Sisu Xi, 2013, Washington University in Saint Louis
+ * based on code of credit Scheduler
+ */
+
+#include <xen/config.h>
+#include <xen/init.h>
+#include <xen/lib.h>
+#include <xen/sched.h>
+#include <xen/domain.h>
+#include <xen/delay.h>
+#include <xen/event.h>
+#include <xen/time.h>
+#include <xen/perfc.h>
+#include <xen/sched-if.h>
+#include <xen/softirq.h>
+#include <asm/atomic.h>
+#include <xen/errno.h>
+#include <xen/trace.h>
+#include <xen/cpu.h>
+#include <xen/keyhandler.h>
+#include <xen/trace.h>
+
+/*
+ * TODO:
+ *
+ * How to show individual VCPU info?
+ * More testing with xentrace and xenanalyze
+ */
+
+/*
+ * Design:
+ *
+ * Follows the pre-emptive Partition EDF/RM theory.
+ * Each VCPU can have a dedicated period/budget pair of parameter. When a VCPU is running, it burns its budget, and when there are no budget, the VCPU need to wait unitl next period to get replensihed. Any unused budget is discarded in the end of period.
+ * Server mechanism: deferrable server is used here. Therefore, when a VCPU has no task but with budget left, the budget is preserved.
+ * Priority scheme: a global variable called priority_scheme is used to switch between EDF and RM
+ * Queue scheme: partitioned runqueue is used here. Each PCPU holds a dedicated run queue. VCPUs are divided into two parts: with and without remaining budget. Among each part, VCPUs are sorted by their current deadlines.
+ * Scheduling quanta: 1 ms is picked as the scheduling quanta, but the accounting is done in microsecond level.
+ * Other: VCPU migration is supported via command. No load balancing is provided by default.
+ */
+
+ /*
+ * Locking:
+ * This is a partitioned queue implementation
+ */
+
+/*
+ * Default parameters
+ */
+#define RTPARTITION_DEFAULT_PERIOD     10
+#define RTPARTITION_DEFAULT_BUDGET      4
+
+#define EDF                             0
+#define RM                              1
+
+/*
+ * Useful macros
+ */
+#define RTPARTITION_PRIV(_ops)      ((struct rtpartition_private *)((_ops)->sched_data))
+#define RTPARTITION_PCPU(_cpu)      ((struct rtpartition_pcpu *)per_cpu(schedule_data, _cpu).sched_priv)
+#define RTPARTITION_VCPU(_vcpu)     ((struct rtpartition_vcpu *)(_vcpu)->sched_priv)
+#define RTPARTITION_DOM(_dom)       ((struct rtpartition_dom *)(_dom)->sched_priv)
+#define RUNQ(_cpu)                  (&RTPARTITION_PCPU(_cpu)->runq)
+
+/*
+ * Used to printout debug information
+ */
+#define printtime()     ( printk("%d : %3ld.%3ld : %-19s ", smp_processor_id(), NOW()/MILLISECS(1), NOW()%MILLISECS(1)/1000, __func__) )
+
+/*
+ * Systme-wide private data, include a global RunQueue
+ * The global lock is referenced by schedule_data.schedule_lock from all physical cpus.
+ * It can be grabbed via vcpu_schedule_lock_irq()
+ */
+struct rtpartition_private {
+    spinlock_t lock;        /* used for irqsave */
+    struct list_head sdom;  /* list of availalbe domains, used for dump */
+    cpumask_t cpus;         /* cpumask_t of available physical cpus */
+    unsigned priority_scheme;       /* EDF or RM */
+};
+
+/*
+ * Physical CPU
+ */
+struct rtpartition_pcpu {
+    struct list_head runq;  /* per pcpu runq */
+};
+
+/*
+ * Virtual CPU
+ */
+struct rtpartition_vcpu {
+    struct list_head runq_elem; /* On the runqueue list */
+    struct list_head sdom_elem; /* On the domain VCPU list */
+
+    /* Up-pointers */
+    struct rtpartition_dom *sdom;
+    struct vcpu *vcpu;
+
+    /* RTPARTITION parameters, in milliseconds */
+    int period;
+    int budget;
+
+    /* VCPU current infomation */
+    long cur_budget;             /* current budget in microseconds, if none, should not schedule unless extra */
+    s_time_t last_start;        /* last start time, used to calculate budget */
+    s_time_t cur_deadline;      /* current deadline, used to do EDF */
+};
+
+/*
+ * Domain
+ */
+struct rtpartition_dom {
+    struct list_head vcpu;      /* link its VCPUs */
+    struct list_head sdom_elem; /* link list on rtpartition_priv */
+    struct domain *dom;         /* pointer to upper domain */
+    int    extra;               /* not evaluated */
+};
+
+/*
+ * RunQueue helper functions
+ */
+static int
+__vcpu_on_runq(struct rtpartition_vcpu *svc)
+{
+   return !list_empty(&svc->runq_elem);
+}
+
+static struct rtpartition_vcpu *
+__runq_elem(struct list_head *elem)
+{
+    return list_entry(elem, struct rtpartition_vcpu, runq_elem);
+}
+
+/* lock is grabbed before calling this function */
+static inline void
+__runq_remove(struct rtpartition_vcpu *svc)
+{
+    if ( __vcpu_on_runq(svc) )
+        list_del_init(&svc->runq_elem);
+}
+
+/* lock is grabbed before calling this function */
+static void
+__runq_insert(const struct scheduler *ops, unsigned int cpu, struct rtpartition_vcpu *svc)
+{
+    struct list_head *runq = RUNQ(cpu);
+    struct list_head *iter;
+    struct rtpartition_private *prv = RTPARTITION_PRIV(ops);
+    ASSERT( spin_is_locked(per_cpu(schedule_data, svc->vcpu->processor).schedule_lock) );
+
+    if ( __vcpu_on_runq(svc) )
+        return;
+
+    list_for_each(iter, runq) {
+        struct rtpartition_vcpu * iter_svc = __runq_elem(iter);
+
+        if ( svc->cur_budget > 0 ) { // svc still has budget
+            if ( iter_svc->cur_budget == 0 ||
+                 ( ( prv->priority_scheme == EDF && svc->cur_deadline <= iter_svc->cur_deadline ) ||
+                   ( prv->priority_scheme == RM && svc->period <= iter_svc->period )) ) {
+                    break;
+            }
+        } else { // svc has no budget
+            if ( iter_svc->cur_budget == 0 &&
+                 ( ( prv->priority_scheme == EDF && svc->cur_deadline <= iter_svc->cur_deadline ) ||
+                   ( prv->priority_scheme == RM && svc->period <= iter_svc->period )) ) {
+                    break;
+            }
+        }
+    }
+
+    list_add_tail(&svc->runq_elem, iter);
+}
+
+/*
+ * Debug related code, dump vcpu/pcpu
+ */
+static void
+rtpartition_dump_vcpu(struct rtpartition_vcpu *svc)
+{
+    if ( svc == NULL ) {
+        printk("NULL!\n");
+        return;
+    }
+// #define cpustr keyhandler_scratch
+    // cpumask_scnprintf(cpustr, sizeof(cpustr), svc->vcpu->cpu_affinity);
+    printk("[%5d.%-2d] cpu %d, (%-2d, %-2d), cur_b=%ld cur_d=%lu last_start=%lu onR=%d runnable=%d\n",
+        // , affinity=%s\n",
+            svc->vcpu->domain->domain_id,
+            svc->vcpu->vcpu_id,
+            svc->vcpu->processor,
+            svc->period,
+            svc->budget,
+            svc->cur_budget,
+            svc->cur_deadline,
+            svc->last_start,
+            __vcpu_on_runq(svc),
+            vcpu_runnable(svc->vcpu));
+            // cpustr);
+// #undef cpustr
+}
+
+static void
+rtpartition_dump_pcpu(const struct scheduler *ops, int cpu)
+{
+    struct rtpartition_vcpu *svc = RTPARTITION_VCPU(curr_on_cpu(cpu));
+    struct list_head *runq, *iter;
+    int loop = 0;
+
+    printtime();
+    printk("On cpu %d, running: ", cpu);
+    rtpartition_dump_vcpu(svc);
+
+    printk("RunQ info: \n");
+    runq = RUNQ(cpu);
+    list_for_each( iter, runq ) {
+        svc = __runq_elem(iter);
+        printk("\t%3d: ", ++loop);
+        rtpartition_dump_vcpu(svc);
+    }
+}
+
+/* should not need lock here. only showing stuff */
+static void
+rtpartition_dump(const struct scheduler *ops)
+{
+    struct list_head *iter_sdom, *iter_svc;
+    struct rtpartition_private *prv = RTPARTITION_PRIV(ops);
+    struct rtpartition_vcpu *svc;
+    int cpu = 0;
+    int loop = 0;
+
+    printtime();
+    if ( prv->priority_scheme == EDF ) printk("EDF\n");
+    else printk ("RM\n");
+
+    printk("PCPU info: \n");
+    for_each_cpu(cpu, &prv->cpus) {
+        rtpartition_dump_pcpu(ops, cpu);
+    }
+
+    printk("Domain info: \n");
+    loop = 0;
+    list_for_each( iter_sdom, &prv->sdom ) {
+        struct rtpartition_dom *sdom;
+        sdom = list_entry(iter_sdom, struct rtpartition_dom, sdom_elem);
+        printk("\tdomain: %d\n", sdom->dom->domain_id);
+
+        list_for_each( iter_svc, &sdom->vcpu ) {
+            svc = list_entry(iter_svc, struct rtpartition_vcpu, sdom_elem);
+            printk("\t\t%3d: ", ++loop);
+            rtpartition_dump_vcpu(svc);
+        }
+    }
+
+    printk("\n");
+}
+
+/*
+ * Init/Free related code
+ */
+static int
+rtpartition_init(struct scheduler *ops)
+{
+    struct rtpartition_private *prv;
+
+    prv = xmalloc(struct rtpartition_private);
+    if ( prv == NULL ) {
+        printk("malloc failed at rtpartition_private\n");
+        return -ENOMEM;
+    }
+    memset(prv, 0, sizeof(*prv));
+
+    ops->sched_data = prv;
+    spin_lock_init(&prv->lock);
+    INIT_LIST_HEAD(&prv->sdom);
+    cpumask_clear(&prv->cpus);
+    prv->priority_scheme = EDF;     /* by default, use EDF scheduler */
+
+    printk("This is the Deferrable Server version of the preemptive RTPARTITION scheduler\n");
+    printk("If you want to use it as a periodic server, please run a background busy CPU task\n");
+
+    printtime();
+    printk("\n");
+
+    return 0;
+}
+
+static void
+rtpartition_deinit(const struct scheduler *ops)
+{
+    struct rtpartition_private *prv;
+
+    printtime();
+    printk("\n");
+
+    prv = RTPARTITION_PRIV(ops);
+    if ( prv )
+        xfree(prv);
+}
+
+/* point per_cpu spinlock to the global system lock */
+static void *
+rtpartition_alloc_pdata(const struct scheduler *ops, int cpu)
+{
+    struct rtpartition_private *prv = RTPARTITION_PRIV(ops);
+    struct rtpartition_pcpu *spc;
+    unsigned long flags;
+
+    spc = xzalloc(struct rtpartition_pcpu);
+    if ( spc == NULL )
+        return NULL;
+
+    spin_lock_irqsave(&prv->lock, flags);
+
+    cpumask_set_cpu(cpu, &prv->cpus);
+    INIT_LIST_HEAD(&spc->runq);
+    if ( per_cpu(schedule_data, cpu).sched_priv == NULL )
+        per_cpu(schedule_data, cpu).sched_priv = spc;
+
+    spin_unlock_irqrestore(&prv->lock, flags);
+
+    printtime();
+    printk("total cpus: %d", cpumask_weight(&prv->cpus));
+    return spc;
+}
+
+static void
+rtpartition_free_pdata(const struct scheduler *ops, void *pcpu, int cpu)
+{
+    struct rtpartition_private * prv = RTPARTITION_PRIV(ops);
+    struct rtpartition_pcpu * spc = pcpu;
+
+    cpumask_clear_cpu(cpu, &prv->cpus);
+    printtime();
+    printk("cpu=%d\n", cpu);
+    xfree(spc);
+}
+
+static void *
+rtpartition_alloc_domdata(const struct scheduler *ops, struct domain *dom)
+{
+    unsigned long flags;
+    struct rtpartition_dom *sdom;
+    struct rtpartition_private * prv = RTPARTITION_PRIV(ops);
+
+    printtime();
+    printk("dom=%d\n", dom->domain_id);
+
+    sdom = xmalloc(struct rtpartition_dom);
+    if ( sdom == NULL ) {
+        printk("%s, xmalloc failed\n", __func__);
+        return NULL;
+    }
+    memset(sdom, 0, sizeof(*sdom));
+
+    INIT_LIST_HEAD(&sdom->vcpu);
+    INIT_LIST_HEAD(&sdom->sdom_elem);
+    sdom->dom = dom;
+    sdom->extra = 0;         /* by default, should not allow extra time */
+
+    /* spinlock here to insert the dom */
+    spin_lock_irqsave(&prv->lock, flags);
+    list_add_tail(&sdom->sdom_elem, &(prv->sdom));
+    spin_unlock_irqrestore(&prv->lock, flags);
+
+    return (void *)sdom;
+}
+
+static void
+rtpartition_free_domdata(const struct scheduler *ops, void *data)
+{
+    unsigned long flags;
+    struct rtpartition_dom *sdom = data;
+    struct rtpartition_private * prv = RTPARTITION_PRIV(ops);
+
+    printtime();
+    printk("dom=%d\n", sdom->dom->domain_id);
+
+    spin_lock_irqsave(&prv->lock, flags);
+    list_del_init(&sdom->sdom_elem);
+    spin_unlock_irqrestore(&prv->lock, flags);
+    xfree(data);
+}
+
+static int
+rtpartition_dom_init(const struct scheduler *ops, struct domain *dom)
+{
+    struct rtpartition_dom *sdom;
+
+    printtime();
+    printk("dom=%d\n", dom->domain_id);
+
+    /* IDLE Domain does not link on rtpartition_private */
+    if ( is_idle_domain(dom) ) { return 0; }
+
+    sdom = rtpartition_alloc_domdata(ops, dom);
+    if ( sdom == NULL ) {
+        printk("%s, failed\n", __func__);
+        return -ENOMEM;
+    }
+    dom->sched_priv = sdom;
+
+    return 0;
+}
+
+static void
+rtpartition_dom_destroy(const struct scheduler *ops, struct domain *dom)
+{
+    printtime();
+    printk("dom=%d\n", dom->domain_id);
+
+    rtpartition_free_domdata(ops, RTPARTITION_DOM(dom));
+}
+
+static void *
+rtpartition_alloc_vdata(const struct scheduler *ops, struct vcpu *vc, void *dd)
+{
+    struct rtpartition_vcpu *svc;
+    s_time_t now = NOW();
+    long count;
+
+    /* Allocate per-VCPU info */
+    svc = xmalloc(struct rtpartition_vcpu);
+    if ( svc == NULL ) {
+        printk("%s, xmalloc failed\n", __func__);
+        return NULL;
+    }
+    memset(svc, 0, sizeof(*svc));
+
+    INIT_LIST_HEAD(&svc->runq_elem);
+    INIT_LIST_HEAD(&svc->sdom_elem);
+    svc->sdom = dd;
+    svc->vcpu = vc;
+    svc->last_start = 0;            /* init last_start is 0 */
+
+    svc->period = RTPARTITION_DEFAULT_PERIOD;
+    if ( !is_idle_vcpu(vc) && vc->domain->domain_id != 0 ) {
+        svc->budget = RTPARTITION_DEFAULT_BUDGET;
+    } else {
+        svc->budget = RTPARTITION_DEFAULT_PERIOD;
+    }
+
+    count = (now/MILLISECS(svc->period)) + 1;
+    svc->cur_deadline += count*MILLISECS(svc->period); /* sync all VCPU's start time to 0 */
+
+    svc->cur_budget = svc->budget*1000; /* counting in microseconds level */
+    printtime();
+    rtpartition_dump_vcpu(svc);
+
+    return svc;
+}
+
+static void
+rtpartition_free_vdata(const struct scheduler *ops, void *priv)
+{
+    struct rtpartition_vcpu *svc = priv;
+    printtime();
+    rtpartition_dump_vcpu(svc);
+    xfree(svc);
+}
+
+/* lock is grabbed before calling this function */
+/* only link VCPU to dom, insert to runq is deferred */
+static void
+rtpartition_vcpu_insert(const struct scheduler *ops, struct vcpu *vc)
+{
+    struct rtpartition_vcpu *svc = RTPARTITION_VCPU(vc);
+
+    printtime();
+    rtpartition_dump_vcpu(svc);
+
+    /* IDLE VCPU not allowed on RunQ */
+    if ( is_idle_vcpu(vc) )
+        return;
+
+    list_add_tail(&svc->sdom_elem, &svc->sdom->vcpu);   /* add to dom vcpu list */
+}
+
+/* lock is grabbed before calling this function */
+/* vcpu should already be off runqueue */
+static void
+rtpartition_vcpu_remove(const struct scheduler *ops, struct vcpu *vc)
+{
+    struct rtpartition_vcpu * const svc = RTPARTITION_VCPU(vc);
+    struct rtpartition_dom * const sdom = svc->sdom;
+
+    printtime();
+    rtpartition_dump_vcpu(svc);
+
+    BUG_ON( sdom == NULL );
+    BUG_ON( __vcpu_on_runq(svc) );
+
+    if ( !is_idle_vcpu(vc) ) {
+        list_del_init(&svc->sdom_elem);
+    }
+}
+
+/*
+ * Other important functions
+ */
+/* do we need the lock here? */
+/* TODO: How to return the per VCPU parameters? Right now return the sum of budgets */
+static int
+rtpartition_dom_cntl(const struct scheduler *ops, struct domain *d, struct xen_domctl_scheduler_op *op)
+{
+    struct rtpartition_dom * const sdom = RTPARTITION_DOM(d);
+    struct list_head *iter;
+    struct rtpartition_private * prv = RTPARTITION_PRIV(ops);
+
+    if ( op->cmd == XEN_DOMCTL_SCHEDOP_getinfo ) {
+        /* for debug use, whenever adjust Dom0 parameter, do global dump */
+        if ( d->domain_id == 0 ) {
+            rtpartition_dump(ops);
+        }
+
+        /* TODO: how to return individual VCPU parameters? */
+        op->u.rtpartition.budget = 0;
+        op->u.rtpartition.extra = sdom->extra;
+        list_for_each( iter, &sdom->vcpu ) {
+            struct rtpartition_vcpu * svc = list_entry(iter, struct rtpartition_vcpu, sdom_elem);
+            op->u.rtpartition.budget += svc->budget;
+            op->u.rtpartition.period = svc->period;
+        }
+    } else {
+        ASSERT(op->cmd == XEN_DOMCTL_SCHEDOP_putinfo);
+
+        if ( d->domain_id == 0 ) {
+            if ( prv->priority_scheme == EDF ) {
+                prv->priority_scheme = RM;
+                printk("priority changed to RM\n");
+            } else {
+                prv->priority_scheme = EDF;
+                printk("priority changed to EDF\n");
+            }
+        }
+
+        sdom->extra = op->u.rtpartition.extra;
+        list_for_each( iter, &sdom->vcpu ) {
+            struct rtpartition_vcpu * svc = list_entry(iter, struct rtpartition_vcpu, sdom_elem);
+            if ( op->u.rtpartition.vcpu == svc->vcpu->vcpu_id ) { /* adjust per VCPU parameter */
+                svc->period = op->u.rtpartition.period;
+                svc->budget = op->u.rtpartition.budget;
+                break;
+            }
+        }
+    }
+
+    return 0;
+}
+
+/* return a VCPU considering affinity */
+static int
+rtpartition_cpu_pick(const struct scheduler *ops, struct vcpu *vc)
+{
+    cpumask_t cpus;
+    int cpu;
+    struct rtpartition_private * prv = RTPARTITION_PRIV(ops);
+
+    cpumask_copy(&cpus, vc->cpu_affinity);
+    cpumask_and(&cpus, &prv->cpus, &cpus);
+
+    cpu = cpumask_test_cpu(vc->processor, &cpus)
+            ? vc->processor 
+            : cpumask_cycle(vc->processor, &cpus);
+    ASSERT( !cpumask_empty(&cpus) && cpumask_test_cpu(cpu, &cpus) );
+
+    return cpu;
+}
+
+/* Implemented as deferrable server. */
+/* burn budget at microsecond level */
+static void
+burn_budgets(const struct scheduler *ops, struct rtpartition_vcpu *svc, s_time_t now) {
+    s_time_t delta;
+    unsigned int consume;
+    long count = 0;
+
+    /* first time called for this svc, update last_start */
+    if ( svc->last_start == 0 ) {
+        svc->last_start = now;
+        return;
+    }
+
+    /* don't burn budget for idle VCPU */
+    if ( is_idle_vcpu(svc->vcpu) ) {
+        return;
+    }
+
+    /* don't burn budget for Domain-0, RT-Xen use only */
+    if ( svc->sdom->dom->domain_id == 0 ) {
+        return;
+    }
+
+    /* update deadline info */
+    delta = now - svc->cur_deadline;
+    if ( delta >= 0 ) {
+        count = ( delta/MILLISECS(svc->period) ) + 1;
+        svc->cur_deadline += count * MILLISECS(svc->period);
+        svc->cur_budget = svc->budget * 1000;
+        return;
+    }
+
+    delta = now - svc->last_start;
+    if ( delta < 0 ) {
+        printk("%s, delta = %ld for ", __func__, delta);
+        rtpartition_dump_vcpu(svc);
+        svc->last_start = now;  /* update last_start */
+        svc->cur_budget = 0;
+        return;
+    }
+
+    if ( svc->cur_budget == 0 ) return;
+
+    /* burn at microseconds level */
+    consume = ( delta/MICROSECS(1) );
+    if ( delta%MICROSECS(1) > MICROSECS(1)/2 ) consume++;
+
+    svc->cur_budget -= consume;
+    if ( svc->cur_budget < 0 ) svc->cur_budget = 0;
+}
+
+/* RunQ is sorted. Pick first one budget. If no one, return NULL */
+/* lock is grabbed before calling this function */
+static struct rtpartition_vcpu *
+__runq_pick(unsigned int cpu)
+{
+    struct list_head *runq = RUNQ(cpu);
+    struct list_head *iter;
+    struct rtpartition_vcpu *iter_svc = NULL;
+
+    list_for_each(iter, runq) {
+        iter_svc = __runq_elem(iter);   
+
+        if ( iter_svc->cur_budget <= 0 && iter_svc->sdom->extra == 0 )
+            continue;
+
+        return iter_svc;
+    }
+
+    return NULL;
+}
+
+/* lock is grabbed before calling this function */
+static void
+__repl_update(const struct scheduler *ops, unsigned int cpu, s_time_t now)
+{
+    struct list_head *runq = RUNQ(cpu);
+    struct list_head *iter;
+    struct list_head *tmp;
+    struct rtpartition_vcpu *svc = NULL;
+
+    s_time_t diff;
+    long count;
+
+    list_for_each_safe(iter, tmp, runq) {
+        svc = __runq_elem(iter);
+
+        if ( now > svc->cur_deadline ) {
+            diff = now - svc->cur_deadline;    
+            count = (diff/MILLISECS(svc->period)) + 1;
+            svc->cur_deadline += count * MILLISECS(svc->period);
+            svc->cur_budget = svc->budget * 1000;
+            __runq_remove(svc);
+            __runq_insert(ops, cpu, svc);   // need ops to get the priority_scheme
+        }
+    }
+}
+
+/* The lock is already grabbed in schedule.c, no need to lock here */
+static struct task_slice
+rtpartition_schedule(const struct scheduler *ops, s_time_t now, bool_t tasklet_work_scheduled)
+{
+    const int cpu = smp_processor_id();
+    struct rtpartition_private * prv = RTPARTITION_PRIV(ops);
+    struct rtpartition_vcpu * const scurr = RTPARTITION_VCPU(current);
+    struct rtpartition_vcpu * snext = NULL;
+    struct task_slice ret;
+
+    /* burn_budget would return for IDLE VCPU */
+    burn_budgets(ops, scurr, now);
+
+    __repl_update(ops, cpu, now);
+
+    if ( tasklet_work_scheduled ) {
+        snext = RTPARTITION_VCPU(idle_vcpu[cpu]);
+    } else {
+        snext = __runq_pick(cpu);
+        if ( snext == NULL )
+            snext = RTPARTITION_VCPU(idle_vcpu[cpu]);
+
+        /* if scurr has higher priority and budget, still pick scurr */
+        if ( !is_idle_vcpu(current) &&
+             vcpu_runnable(current) &&
+             scurr->cur_budget > 0 &&
+             ( is_idle_vcpu(snext->vcpu) ||
+               ( prv->priority_scheme == EDF && scurr->cur_deadline <= snext->cur_deadline ) ||
+               ( prv->priority_scheme == RM && scurr->period <= snext->period)) ) {
+               // scurr->vcpu->domain->domain_id == snext->vcpu->domain->domain_id ) ) {
+            snext = scurr;
+        }
+    }
+
+    if ( snext != scurr &&
+         !is_idle_vcpu(current) &&
+         vcpu_runnable(current) ) {
+        __runq_insert(ops, cpu, scurr); // insert scurr back to runq
+    }
+
+    snext->last_start = now;
+    ret.migrated = 0;
+    if ( !is_idle_vcpu(snext->vcpu) ) {
+        if ( snext != scurr ) {
+            __runq_remove(snext);
+        }
+        if ( snext->vcpu->processor != cpu ) {
+            snext->vcpu->processor = cpu;
+            ret.migrated = 1;
+        }
+    }
+
+    // if ( is_idle_vcpu(snext->vcpu) || snext->cur_budget > MILLISECS(1)) {
+    //     ret.time = MILLISECS(1);
+    // } else if ( snext->cur_budget > 0 ) {
+    //     ret.time = MICROSECS(snext->budget);
+    // }
+
+    ret.time = MILLISECS(1);
+    ret.task = snext->vcpu;
+
+    return ret;
+}
+
+/* Remove VCPU from RunQ */
+/* The lock is already grabbed in schedule.c, no need to lock here */
+static void
+rtpartition_vcpu_sleep(const struct scheduler *ops, struct vcpu *vc)
+{
+    struct rtpartition_vcpu * const svc = RTPARTITION_VCPU(vc);
+
+    BUG_ON( is_idle_vcpu(vc) );
+
+    if ( curr_on_cpu(vc->processor) == vc ) {
+        cpu_raise_softirq(vc->processor, SCHEDULE_SOFTIRQ);
+    } else if ( __vcpu_on_runq(svc) ) {
+        __runq_remove(svc);
+    }
+}
+
+/* Should always wake up runnable, put it back to RunQ. Check priority to raise interrupt */
+/* The lock is already grabbed in schedule.c, no need to lock here */
+static void
+rtpartition_vcpu_wake(const struct scheduler *ops, struct vcpu *vc)
+{
+    struct rtpartition_vcpu * const svc = RTPARTITION_VCPU(vc);
+    const unsigned int cpu = vc->processor;
+    s_time_t now = NOW();
+    
+    BUG_ON( is_idle_vcpu(vc) );
+
+    if ( unlikely(curr_on_cpu(cpu) == vc) ||
+         unlikely(__vcpu_on_runq(svc)) )
+        return;
+
+    __runq_insert(ops, cpu, svc);
+    __repl_update(ops, cpu, now);
+    cpu_raise_softirq(cpu, SCHEDULE_SOFTIRQ);
+
+    return;
+}
+
+static struct rtpartition_private _rtpartition_priv;
+
+const struct scheduler sched_rtpartition_def = {
+    .name           = "SMP RTPARTITION Scheduler",
+    .opt_name       = "rtpartition",
+    .sched_id       = XEN_SCHEDULER_RTPARTITION,
+    .sched_data     = &_rtpartition_priv,
+
+    .dump_cpu_state = rtpartition_dump_pcpu,
+    .dump_settings  = rtpartition_dump,
+    .init           = rtpartition_init,
+    .deinit         = rtpartition_deinit,
+    .alloc_pdata    = rtpartition_alloc_pdata,
+    .free_pdata     = rtpartition_free_pdata,
+    .alloc_domdata  = rtpartition_alloc_domdata,
+    .free_domdata   = rtpartition_free_domdata,
+    .init_domain    = rtpartition_dom_init,
+    .destroy_domain = rtpartition_dom_destroy,
+    .alloc_vdata    = rtpartition_alloc_vdata,
+    .free_vdata     = rtpartition_free_vdata,
+    .insert_vcpu    = rtpartition_vcpu_insert,
+    .remove_vcpu    = rtpartition_vcpu_remove,
+
+    .adjust         = rtpartition_dom_cntl,
+
+    .pick_cpu       = rtpartition_cpu_pick,
+    .do_schedule    = rtpartition_schedule,
+    .sleep          = rtpartition_vcpu_sleep,
+    .wake           = rtpartition_vcpu_wake,
+    
+    .context_saved  = NULL,
+    .yield          = NULL,
+    .migrate        = NULL,
+};
\ No newline at end of file
diff --git a/xen/common/sched_sedf.c b/xen/common/sched_sedf.c
old mode 100644
new mode 100755
diff --git a/xen/common/schedule.c b/xen/common/schedule.c
old mode 100644
new mode 100755
index a8398bd..539e9c2
--- a/xen/common/schedule.c
+++ b/xen/common/schedule.c
@@ -38,7 +38,7 @@
 #include <xsm/xsm.h>
 
 /* opt_sched: scheduler - default to credit */
-static char __initdata opt_sched[10] = "credit";
+static char __initdata opt_sched[20] = "credit";
 string_param("sched", opt_sched);
 
 /* if sched_smt_power_savings is set,
@@ -67,6 +67,8 @@ static const struct scheduler *schedulers[] = {
     &sched_sedf_def,
     &sched_credit_def,
     &sched_credit2_def,
+	&sched_rtglobal_def,
+	&sched_rtpartition_def,
     &sched_arinc653_def,
 };
 
@@ -334,6 +336,9 @@ void sched_destroy_domain(struct domain *d)
 void vcpu_sleep_nosync(struct vcpu *v)
 {
     unsigned long flags;
+    /* trace overhead */
+    s_time_t t1, t2;
+    t1 = NOW();
 
     vcpu_schedule_lock_irqsave(v, flags);
 
@@ -347,6 +352,9 @@ void vcpu_sleep_nosync(struct vcpu *v)
 
     vcpu_schedule_unlock_irqrestore(v, flags);
 
+    t2 = NOW();
+    TRACE_3D(TRC_SCHED_OVERHEAD_SLEEP, v->domain->domain_id, v->vcpu_id, t2-t1);
+
     TRACE_2D(TRC_SCHED_SLEEP, v->domain->domain_id, v->vcpu_id);
 }
 
@@ -363,6 +371,9 @@ void vcpu_sleep_sync(struct vcpu *v)
 void vcpu_wake(struct vcpu *v)
 {
     unsigned long flags;
+    /* trace overhead */
+    s_time_t t1, t2;
+    t1 = NOW();
 
     vcpu_schedule_lock_irqsave(v, flags);
 
@@ -380,6 +391,9 @@ void vcpu_wake(struct vcpu *v)
 
     vcpu_schedule_unlock_irqrestore(v, flags);
 
+    t2 = NOW();
+    TRACE_3D(TRC_SCHED_OVERHEAD_WAKE, v->domain->domain_id, v->vcpu_id, t2-t1);
+
     TRACE_2D(TRC_SCHED_WAKE, v->domain->domain_id, v->vcpu_id);
 }
 
@@ -1144,6 +1158,8 @@ static void schedule(void)
     struct task_slice     next_slice;
     int cpu = smp_processor_id();
 
+    s_time_t t2;       /* trace scheduling latency */ 
+
     ASSERT_NOT_IN_ATOMIC();
 
     SCHED_STAT_CRANK(sched_run);
@@ -1186,6 +1202,17 @@ static void schedule(void)
     {
         pcpu_schedule_unlock_irq(cpu);
         trace_continue_running(next);
+
+        /* trace overhead */
+        t2 = NOW();
+        TRACE_6D(TRC_SCHED_OVERHEAD_SCHED_LATENCY,
+             prev->domain->domain_id,
+             prev->vcpu_id,
+             next->domain->domain_id,
+             next->vcpu_id,
+             next_slice.migrated,
+             t2-now);
+
         return continue_running(prev);
     }
 
@@ -1214,6 +1241,16 @@ static void schedule(void)
     ASSERT(next->runstate.state != RUNSTATE_running);
     vcpu_runstate_change(next, RUNSTATE_running, now);
 
+    /* trace overhead */
+    t2 = NOW();
+    TRACE_6D(TRC_SCHED_OVERHEAD_SCHED_LATENCY,
+             prev->domain->domain_id,
+             prev->vcpu_id,
+             next->domain->domain_id,
+             next->vcpu_id,
+             next_slice.migrated,
+             t2-now);
+
     /*
      * NB. Don't add any trace records from here until the actual context
      * switch, else lost_records resume will not work properly.
diff --git a/xen/common/shutdown.c b/xen/common/shutdown.c
old mode 100644
new mode 100755
diff --git a/xen/common/smp.c b/xen/common/smp.c
old mode 100644
new mode 100755
diff --git a/xen/common/softirq.c b/xen/common/softirq.c
old mode 100644
new mode 100755
diff --git a/xen/common/sort.c b/xen/common/sort.c
old mode 100644
new mode 100755
diff --git a/xen/common/spinlock.c b/xen/common/spinlock.c
old mode 100644
new mode 100755
diff --git a/xen/common/stop_machine.c b/xen/common/stop_machine.c
old mode 100644
new mode 100755
diff --git a/xen/common/string.c b/xen/common/string.c
old mode 100644
new mode 100755
diff --git a/xen/common/symbols-dummy.c b/xen/common/symbols-dummy.c
old mode 100644
new mode 100755
diff --git a/xen/common/symbols.c b/xen/common/symbols.c
old mode 100644
new mode 100755
diff --git a/xen/common/sysctl.c b/xen/common/sysctl.c
old mode 100644
new mode 100755
diff --git a/xen/common/tasklet.c b/xen/common/tasklet.c
old mode 100644
new mode 100755
diff --git a/xen/common/time.c b/xen/common/time.c
old mode 100644
new mode 100755
diff --git a/xen/common/timer.c b/xen/common/timer.c
old mode 100644
new mode 100755
diff --git a/xen/common/tmem.c b/xen/common/tmem.c
old mode 100644
new mode 100755
diff --git a/xen/common/tmem_xen.c b/xen/common/tmem_xen.c
old mode 100644
new mode 100755
diff --git a/xen/common/trace.c b/xen/common/trace.c
old mode 100644
new mode 100755
diff --git a/xen/common/unlzma.c b/xen/common/unlzma.c
old mode 100644
new mode 100755
diff --git a/xen/common/unlzo.c b/xen/common/unlzo.c
old mode 100644
new mode 100755
diff --git a/xen/common/unxz.c b/xen/common/unxz.c
old mode 100644
new mode 100755
diff --git a/xen/common/version.c b/xen/common/version.c
old mode 100644
new mode 100755
diff --git a/xen/common/vmap.c b/xen/common/vmap.c
old mode 100644
new mode 100755
diff --git a/xen/common/vsprintf.c b/xen/common/vsprintf.c
old mode 100644
new mode 100755
diff --git a/xen/common/wait.c b/xen/common/wait.c
old mode 100644
new mode 100755
diff --git a/xen/common/xencomm.c b/xen/common/xencomm.c
old mode 100644
new mode 100755
diff --git a/xen/common/xenoprof.c b/xen/common/xenoprof.c
old mode 100644
new mode 100755
diff --git a/xen/common/xmalloc_tlsf.c b/xen/common/xmalloc_tlsf.c
old mode 100644
new mode 100755
diff --git a/xen/common/xz/crc32.c b/xen/common/xz/crc32.c
old mode 100644
new mode 100755
diff --git a/xen/common/xz/dec_bcj.c b/xen/common/xz/dec_bcj.c
old mode 100644
new mode 100755
diff --git a/xen/common/xz/dec_lzma2.c b/xen/common/xz/dec_lzma2.c
old mode 100644
new mode 100755
diff --git a/xen/common/xz/dec_stream.c b/xen/common/xz/dec_stream.c
old mode 100644
new mode 100755
diff --git a/xen/common/xz/lzma2.h b/xen/common/xz/lzma2.h
old mode 100644
new mode 100755
diff --git a/xen/common/xz/private.h b/xen/common/xz/private.h
old mode 100644
new mode 100755
diff --git a/xen/common/xz/stream.h b/xen/common/xz/stream.h
old mode 100644
new mode 100755
diff --git a/xen/crypto/Makefile b/xen/crypto/Makefile
old mode 100644
new mode 100755
diff --git a/xen/crypto/rijndael.c b/xen/crypto/rijndael.c
old mode 100644
new mode 100755
diff --git a/xen/crypto/vmac.c b/xen/crypto/vmac.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/Makefile b/xen/drivers/Makefile
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/Makefile b/xen/drivers/acpi/Makefile
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/apei/Makefile b/xen/drivers/acpi/apei/Makefile
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/apei/apei-base.c b/xen/drivers/acpi/apei/apei-base.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/apei/apei-internal.h b/xen/drivers/acpi/apei/apei-internal.h
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/apei/apei-io.c b/xen/drivers/acpi/apei/apei-io.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/apei/erst.c b/xen/drivers/acpi/apei/erst.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/hwregs.c b/xen/drivers/acpi/hwregs.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/numa.c b/xen/drivers/acpi/numa.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/osl.c b/xen/drivers/acpi/osl.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/pmstat.c b/xen/drivers/acpi/pmstat.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/reboot.c b/xen/drivers/acpi/reboot.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/tables.c b/xen/drivers/acpi/tables.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/tables/Makefile b/xen/drivers/acpi/tables/Makefile
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/tables/tbfadt.c b/xen/drivers/acpi/tables/tbfadt.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/tables/tbinstal.c b/xen/drivers/acpi/tables/tbinstal.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/tables/tbutils.c b/xen/drivers/acpi/tables/tbutils.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/tables/tbxface.c b/xen/drivers/acpi/tables/tbxface.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/tables/tbxfroot.c b/xen/drivers/acpi/tables/tbxfroot.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/utilities/Makefile b/xen/drivers/acpi/utilities/Makefile
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/utilities/utglobal.c b/xen/drivers/acpi/utilities/utglobal.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/acpi/utilities/utmisc.c b/xen/drivers/acpi/utilities/utmisc.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/char/Makefile b/xen/drivers/char/Makefile
old mode 100644
new mode 100755
diff --git a/xen/drivers/char/console.c b/xen/drivers/char/console.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/char/dt-uart.c b/xen/drivers/char/dt-uart.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/char/ehci-dbgp.c b/xen/drivers/char/ehci-dbgp.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/char/exynos4210-uart.c b/xen/drivers/char/exynos4210-uart.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/char/ns16550.c b/xen/drivers/char/ns16550.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/char/pl011.c b/xen/drivers/char/pl011.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/char/serial.c b/xen/drivers/char/serial.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/cpufreq/Makefile b/xen/drivers/cpufreq/Makefile
old mode 100644
new mode 100755
diff --git a/xen/drivers/cpufreq/cpufreq.c b/xen/drivers/cpufreq/cpufreq.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/cpufreq/cpufreq_misc_governors.c b/xen/drivers/cpufreq/cpufreq_misc_governors.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/cpufreq/cpufreq_ondemand.c b/xen/drivers/cpufreq/cpufreq_ondemand.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/cpufreq/utility.c b/xen/drivers/cpufreq/utility.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/Makefile b/xen/drivers/passthrough/Makefile
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/amd/Makefile b/xen/drivers/passthrough/amd/Makefile
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/amd/iommu_acpi.c b/xen/drivers/passthrough/amd/iommu_acpi.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/amd/iommu_cmd.c b/xen/drivers/passthrough/amd/iommu_cmd.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/amd/iommu_detect.c b/xen/drivers/passthrough/amd/iommu_detect.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/amd/iommu_guest.c b/xen/drivers/passthrough/amd/iommu_guest.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/amd/iommu_init.c b/xen/drivers/passthrough/amd/iommu_init.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/amd/iommu_intr.c b/xen/drivers/passthrough/amd/iommu_intr.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/amd/iommu_map.c b/xen/drivers/passthrough/amd/iommu_map.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/amd/pci_amd_iommu.c b/xen/drivers/passthrough/amd/pci_amd_iommu.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/ats.h b/xen/drivers/passthrough/ats.h
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/io.c b/xen/drivers/passthrough/io.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/iommu.c b/xen/drivers/passthrough/iommu.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/pci.c b/xen/drivers/passthrough/pci.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/vtd/Makefile b/xen/drivers/passthrough/vtd/Makefile
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/vtd/dmar.c b/xen/drivers/passthrough/vtd/dmar.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/vtd/dmar.h b/xen/drivers/passthrough/vtd/dmar.h
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/vtd/extern.h b/xen/drivers/passthrough/vtd/extern.h
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/vtd/intremap.c b/xen/drivers/passthrough/vtd/intremap.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/vtd/iommu.c b/xen/drivers/passthrough/vtd/iommu.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/vtd/iommu.h b/xen/drivers/passthrough/vtd/iommu.h
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/vtd/qinval.c b/xen/drivers/passthrough/vtd/qinval.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/vtd/quirks.c b/xen/drivers/passthrough/vtd/quirks.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/vtd/utils.c b/xen/drivers/passthrough/vtd/utils.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/vtd/vtd.h b/xen/drivers/passthrough/vtd/vtd.h
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/vtd/x86/Makefile b/xen/drivers/passthrough/vtd/x86/Makefile
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/vtd/x86/ats.c b/xen/drivers/passthrough/vtd/x86/ats.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/vtd/x86/vtd.c b/xen/drivers/passthrough/vtd/x86/vtd.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/x86/Makefile b/xen/drivers/passthrough/x86/Makefile
old mode 100644
new mode 100755
diff --git a/xen/drivers/passthrough/x86/ats.c b/xen/drivers/passthrough/x86/ats.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/pci/Makefile b/xen/drivers/pci/Makefile
old mode 100644
new mode 100755
diff --git a/xen/drivers/pci/pci.c b/xen/drivers/pci/pci.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/video/Makefile b/xen/drivers/video/Makefile
old mode 100644
new mode 100755
diff --git a/xen/drivers/video/arm_hdlcd.c b/xen/drivers/video/arm_hdlcd.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/video/font.h b/xen/drivers/video/font.h
old mode 100644
new mode 100755
diff --git a/xen/drivers/video/font_8x14.c b/xen/drivers/video/font_8x14.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/video/font_8x16.c b/xen/drivers/video/font_8x16.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/video/font_8x8.c b/xen/drivers/video/font_8x8.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/video/lfb.c b/xen/drivers/video/lfb.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/video/lfb.h b/xen/drivers/video/lfb.h
old mode 100644
new mode 100755
diff --git a/xen/drivers/video/modelines.h b/xen/drivers/video/modelines.h
old mode 100644
new mode 100755
diff --git a/xen/drivers/video/vesa.c b/xen/drivers/video/vesa.c
old mode 100644
new mode 100755
diff --git a/xen/drivers/video/vga.c b/xen/drivers/video/vga.c
old mode 100644
new mode 100755
diff --git a/xen/include/Makefile b/xen/include/Makefile
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/acconfig.h b/xen/include/acpi/acconfig.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/acexcep.h b/xen/include/acpi/acexcep.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/acglobal.h b/xen/include/acpi/acglobal.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/achware.h b/xen/include/acpi/achware.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/aclocal.h b/xen/include/acpi/aclocal.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/acmacros.h b/xen/include/acpi/acmacros.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/acnames.h b/xen/include/acpi/acnames.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/acoutput.h b/xen/include/acpi/acoutput.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/acpi.h b/xen/include/acpi/acpi.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/acpiosxf.h b/xen/include/acpi/acpiosxf.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/acpixf.h b/xen/include/acpi/acpixf.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/actables.h b/xen/include/acpi/actables.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/actbl.h b/xen/include/acpi/actbl.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/actbl1.h b/xen/include/acpi/actbl1.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/actbl2.h b/xen/include/acpi/actbl2.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/actbl3.h b/xen/include/acpi/actbl3.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/actypes.h b/xen/include/acpi/actypes.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/acutils.h b/xen/include/acpi/acutils.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/apei.h b/xen/include/acpi/apei.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/cpufreq/cpufreq.h b/xen/include/acpi/cpufreq/cpufreq.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/cpufreq/processor_perf.h b/xen/include/acpi/cpufreq/processor_perf.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/pdc_intel.h b/xen/include/acpi/pdc_intel.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/platform/acenv.h b/xen/include/acpi/platform/acenv.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/platform/acgcc.h b/xen/include/acpi/platform/acgcc.h
old mode 100644
new mode 100755
diff --git a/xen/include/acpi/platform/aclinux.h b/xen/include/acpi/platform/aclinux.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/arm32/atomic.h b/xen/include/asm-arm/arm32/atomic.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/arm32/bitops.h b/xen/include/asm-arm/arm32/bitops.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/arm32/flushtlb.h b/xen/include/asm-arm/arm32/flushtlb.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/arm32/io.h b/xen/include/asm-arm/arm32/io.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/arm32/page.h b/xen/include/asm-arm/arm32/page.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/arm32/processor.h b/xen/include/asm-arm/arm32/processor.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/arm32/spinlock.h b/xen/include/asm-arm/arm32/spinlock.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/arm32/system.h b/xen/include/asm-arm/arm32/system.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/arm64/atomic.h b/xen/include/asm-arm/arm64/atomic.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/arm64/bitops.h b/xen/include/asm-arm/arm64/bitops.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/arm64/flushtlb.h b/xen/include/asm-arm/arm64/flushtlb.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/arm64/io.h b/xen/include/asm-arm/arm64/io.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/arm64/page.h b/xen/include/asm-arm/arm64/page.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/arm64/processor.h b/xen/include/asm-arm/arm64/processor.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/arm64/spinlock.h b/xen/include/asm-arm/arm64/spinlock.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/arm64/system.h b/xen/include/asm-arm/arm64/system.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/asm_defns.h b/xen/include/asm-arm/asm_defns.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/atomic.h b/xen/include/asm-arm/atomic.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/bitops.h b/xen/include/asm-arm/bitops.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/bug.h b/xen/include/asm-arm/bug.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/byteorder.h b/xen/include/asm-arm/byteorder.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/cache.h b/xen/include/asm-arm/cache.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/config.h b/xen/include/asm-arm/config.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/cpregs.h b/xen/include/asm-arm/cpregs.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/cpufeature.h b/xen/include/asm-arm/cpufeature.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/current.h b/xen/include/asm-arm/current.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/debugger.h b/xen/include/asm-arm/debugger.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/delay.h b/xen/include/asm-arm/delay.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/desc.h b/xen/include/asm-arm/desc.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/device.h b/xen/include/asm-arm/device.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/div64.h b/xen/include/asm-arm/div64.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/domain.h b/xen/include/asm-arm/domain.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/early_printk.h b/xen/include/asm-arm/early_printk.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/elf.h b/xen/include/asm-arm/elf.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/event.h b/xen/include/asm-arm/event.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/exynos4210-uart.h b/xen/include/asm-arm/exynos4210-uart.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/flushtlb.h b/xen/include/asm-arm/flushtlb.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/gic.h b/xen/include/asm-arm/gic.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/grant_table.h b/xen/include/asm-arm/grant_table.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/guest_access.h b/xen/include/asm-arm/guest_access.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/hardirq.h b/xen/include/asm-arm/hardirq.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/hypercall.h b/xen/include/asm-arm/hypercall.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/init.h b/xen/include/asm-arm/init.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/io.h b/xen/include/asm-arm/io.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/iocap.h b/xen/include/asm-arm/iocap.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/irq.h b/xen/include/asm-arm/irq.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/mm.h b/xen/include/asm-arm/mm.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/multicall.h b/xen/include/asm-arm/multicall.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/nmi.h b/xen/include/asm-arm/nmi.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/numa.h b/xen/include/asm-arm/numa.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/p2m.h b/xen/include/asm-arm/p2m.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/page.h b/xen/include/asm-arm/page.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/paging.h b/xen/include/asm-arm/paging.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/pci.h b/xen/include/asm-arm/pci.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/percpu.h b/xen/include/asm-arm/percpu.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/platform.h b/xen/include/asm-arm/platform.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/platforms/exynos5.h b/xen/include/asm-arm/platforms/exynos5.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/platforms/vexpress.h b/xen/include/asm-arm/platforms/vexpress.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/processor-ca15.h b/xen/include/asm-arm/processor-ca15.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/processor.h b/xen/include/asm-arm/processor.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/psci.h b/xen/include/asm-arm/psci.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/regs.h b/xen/include/asm-arm/regs.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/setup.h b/xen/include/asm-arm/setup.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/smp.h b/xen/include/asm-arm/smp.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/softirq.h b/xen/include/asm-arm/softirq.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/spinlock.h b/xen/include/asm-arm/spinlock.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/string.h b/xen/include/asm-arm/string.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/system.h b/xen/include/asm-arm/system.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/time.h b/xen/include/asm-arm/time.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/trace.h b/xen/include/asm-arm/trace.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/types.h b/xen/include/asm-arm/types.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/vfp.h b/xen/include/asm-arm/vfp.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-arm/xenoprof.h b/xen/include/asm-arm/xenoprof.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/acpi.h b/xen/include/asm-x86/acpi.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/amd-iommu.h b/xen/include/asm-x86/amd-iommu.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/amd.h b/xen/include/asm-x86/amd.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/apic.h b/xen/include/asm-x86/apic.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/apicdef.h b/xen/include/asm-x86/apicdef.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/asm_defns.h b/xen/include/asm-x86/asm_defns.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/atomic.h b/xen/include/asm-x86/atomic.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/bitops.h b/xen/include/asm-x86/bitops.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/bug.h b/xen/include/asm-x86/bug.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/byteorder.h b/xen/include/asm-x86/byteorder.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/bzimage.h b/xen/include/asm-x86/bzimage.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/cache.h b/xen/include/asm-x86/cache.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/compat.h b/xen/include/asm-x86/compat.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/config.h b/xen/include/asm-x86/config.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/cpufeature.h b/xen/include/asm-x86/cpufeature.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/cpuidle.h b/xen/include/asm-x86/cpuidle.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/current.h b/xen/include/asm-x86/current.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/debugger.h b/xen/include/asm-x86/debugger.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/debugreg.h b/xen/include/asm-x86/debugreg.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/delay.h b/xen/include/asm-x86/delay.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/desc.h b/xen/include/asm-x86/desc.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/div64.h b/xen/include/asm-x86/div64.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/domain.h b/xen/include/asm-x86/domain.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/e820.h b/xen/include/asm-x86/e820.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/edd.h b/xen/include/asm-x86/edd.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/efibind.h b/xen/include/asm-x86/efibind.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/elf.h b/xen/include/asm-x86/elf.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/event.h b/xen/include/asm-x86/event.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/fixmap.h b/xen/include/asm-x86/fixmap.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/flushtlb.h b/xen/include/asm-x86/flushtlb.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/genapic.h b/xen/include/asm-x86/genapic.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/grant_table.h b/xen/include/asm-x86/grant_table.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/guest_access.h b/xen/include/asm-x86/guest_access.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/guest_pt.h b/xen/include/asm-x86/guest_pt.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hap.h b/xen/include/asm-x86/hap.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hardirq.h b/xen/include/asm-x86/hardirq.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hpet.h b/xen/include/asm-x86/hpet.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/asid.h b/xen/include/asm-x86/hvm/asid.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/cacheattr.h b/xen/include/asm-x86/hvm/cacheattr.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/domain.h b/xen/include/asm-x86/hvm/domain.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/emulate.h b/xen/include/asm-x86/hvm/emulate.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/guest_access.h b/xen/include/asm-x86/hvm/guest_access.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/hvm.h b/xen/include/asm-x86/hvm/hvm.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/io.h b/xen/include/asm-x86/hvm/io.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/iommu.h b/xen/include/asm-x86/hvm/iommu.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/irq.h b/xen/include/asm-x86/hvm/irq.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/nestedhvm.h b/xen/include/asm-x86/hvm/nestedhvm.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/support.h b/xen/include/asm-x86/hvm/support.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/svm/amd-iommu-defs.h b/xen/include/asm-x86/hvm/svm/amd-iommu-defs.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/svm/amd-iommu-proto.h b/xen/include/asm-x86/hvm/svm/amd-iommu-proto.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/svm/asid.h b/xen/include/asm-x86/hvm/svm/asid.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/svm/emulate.h b/xen/include/asm-x86/hvm/svm/emulate.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/svm/intr.h b/xen/include/asm-x86/hvm/svm/intr.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/svm/nestedsvm.h b/xen/include/asm-x86/hvm/svm/nestedsvm.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/svm/svm.h b/xen/include/asm-x86/hvm/svm/svm.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/svm/svmdebug.h b/xen/include/asm-x86/hvm/svm/svmdebug.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/svm/vmcb.h b/xen/include/asm-x86/hvm/svm/vmcb.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/trace.h b/xen/include/asm-x86/hvm/trace.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/vcpu.h b/xen/include/asm-x86/hvm/vcpu.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/vioapic.h b/xen/include/asm-x86/hvm/vioapic.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/viridian.h b/xen/include/asm-x86/hvm/viridian.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/vlapic.h b/xen/include/asm-x86/hvm/vlapic.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/vmx/vmcs.h b/xen/include/asm-x86/hvm/vmx/vmcs.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/vmx/vmx.h b/xen/include/asm-x86/hvm/vmx/vmx.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/vmx/vpmu_core2.h b/xen/include/asm-x86/hvm/vmx/vpmu_core2.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/vmx/vvmx.h b/xen/include/asm-x86/hvm/vmx/vvmx.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/vpic.h b/xen/include/asm-x86/hvm/vpic.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/vpmu.h b/xen/include/asm-x86/hvm/vpmu.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hvm/vpt.h b/xen/include/asm-x86/hvm/vpt.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/hypercall.h b/xen/include/asm-x86/hypercall.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/i387.h b/xen/include/asm-x86/i387.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/init.h b/xen/include/asm-x86/init.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/io.h b/xen/include/asm-x86/io.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/io_apic.h b/xen/include/asm-x86/io_apic.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/iocap.h b/xen/include/asm-x86/iocap.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/irq.h b/xen/include/asm-x86/irq.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/ldt.h b/xen/include/asm-x86/ldt.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mach-default/bios_ebda.h b/xen/include/asm-x86/mach-default/bios_ebda.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mach-default/io_ports.h b/xen/include/asm-x86/mach-default/io_ports.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mach-default/irq_vectors.h b/xen/include/asm-x86/mach-default/irq_vectors.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mach-default/mach_mpparse.h b/xen/include/asm-x86/mach-default/mach_mpparse.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mach-default/mach_mpspec.h b/xen/include/asm-x86/mach-default/mach_mpspec.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mach-default/mach_wakecpu.h b/xen/include/asm-x86/mach-default/mach_wakecpu.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mach-default/smpboot_hooks.h b/xen/include/asm-x86/mach-default/smpboot_hooks.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mach-generic/mach_apic.h b/xen/include/asm-x86/mach-generic/mach_apic.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mach-generic/mach_mpparse.h b/xen/include/asm-x86/mach-generic/mach_mpparse.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mach-summit/mach_mpparse.h b/xen/include/asm-x86/mach-summit/mach_mpparse.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mc146818rtc.h b/xen/include/asm-x86/mc146818rtc.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mce.h b/xen/include/asm-x86/mce.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mem_access.h b/xen/include/asm-x86/mem_access.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mem_event.h b/xen/include/asm-x86/mem_event.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mem_paging.h b/xen/include/asm-x86/mem_paging.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mem_sharing.h b/xen/include/asm-x86/mem_sharing.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/microcode.h b/xen/include/asm-x86/microcode.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mm.h b/xen/include/asm-x86/mm.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mpspec.h b/xen/include/asm-x86/mpspec.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mpspec_def.h b/xen/include/asm-x86/mpspec_def.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/msi.h b/xen/include/asm-x86/msi.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/msr-index.h b/xen/include/asm-x86/msr-index.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/msr.h b/xen/include/asm-x86/msr.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mtrr.h b/xen/include/asm-x86/mtrr.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/multicall.h b/xen/include/asm-x86/multicall.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/mwait.h b/xen/include/asm-x86/mwait.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/nmi.h b/xen/include/asm-x86/nmi.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/numa.h b/xen/include/asm-x86/numa.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/p2m.h b/xen/include/asm-x86/p2m.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/page.h b/xen/include/asm-x86/page.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/paging.h b/xen/include/asm-x86/paging.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/pci.h b/xen/include/asm-x86/pci.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/percpu.h b/xen/include/asm-x86/percpu.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/perfc.h b/xen/include/asm-x86/perfc.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/perfc_defn.h b/xen/include/asm-x86/perfc_defn.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/processor.h b/xen/include/asm-x86/processor.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/regs.h b/xen/include/asm-x86/regs.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/setup.h b/xen/include/asm-x86/setup.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/shadow.h b/xen/include/asm-x86/shadow.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/shared.h b/xen/include/asm-x86/shared.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/smp.h b/xen/include/asm-x86/smp.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/softirq.h b/xen/include/asm-x86/softirq.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/spinlock.h b/xen/include/asm-x86/spinlock.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/string.h b/xen/include/asm-x86/string.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/system.h b/xen/include/asm-x86/system.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/tboot.h b/xen/include/asm-x86/tboot.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/time.h b/xen/include/asm-x86/time.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/trace.h b/xen/include/asm-x86/trace.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/traps.h b/xen/include/asm-x86/traps.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/types.h b/xen/include/asm-x86/types.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/uaccess.h b/xen/include/asm-x86/uaccess.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/x86_64/asm_defns.h b/xen/include/asm-x86/x86_64/asm_defns.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/x86_64/bug.h b/xen/include/asm-x86/x86_64/bug.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/x86_64/efibind.h b/xen/include/asm-x86/x86_64/efibind.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/x86_64/elf.h b/xen/include/asm-x86/x86_64/elf.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/x86_64/page.h b/xen/include/asm-x86/x86_64/page.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/x86_64/regs.h b/xen/include/asm-x86/x86_64/regs.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/x86_64/system.h b/xen/include/asm-x86/x86_64/system.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/x86_64/uaccess.h b/xen/include/asm-x86/x86_64/uaccess.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/x86_emulate.h b/xen/include/asm-x86/x86_emulate.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/xenoprof.h b/xen/include/asm-x86/xenoprof.h
old mode 100644
new mode 100755
diff --git a/xen/include/asm-x86/xstate.h b/xen/include/asm-x86/xstate.h
old mode 100644
new mode 100755
diff --git a/xen/include/crypto/rijndael.h b/xen/include/crypto/rijndael.h
old mode 100644
new mode 100755
diff --git a/xen/include/crypto/vmac.h b/xen/include/crypto/vmac.h
old mode 100644
new mode 100755
diff --git a/xen/include/efi/efiapi.h b/xen/include/efi/efiapi.h
old mode 100644
new mode 100755
diff --git a/xen/include/efi/eficapsule.h b/xen/include/efi/eficapsule.h
old mode 100644
new mode 100755
diff --git a/xen/include/efi/eficon.h b/xen/include/efi/eficon.h
old mode 100644
new mode 100755
diff --git a/xen/include/efi/efidef.h b/xen/include/efi/efidef.h
old mode 100644
new mode 100755
diff --git a/xen/include/efi/efidevp.h b/xen/include/efi/efidevp.h
old mode 100644
new mode 100755
diff --git a/xen/include/efi/efierr.h b/xen/include/efi/efierr.h
old mode 100644
new mode 100755
diff --git a/xen/include/efi/efipciio.h b/xen/include/efi/efipciio.h
old mode 100644
new mode 100755
diff --git a/xen/include/efi/efiprot.h b/xen/include/efi/efiprot.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/COPYING b/xen/include/public/COPYING
old mode 100644
new mode 100755
diff --git a/xen/include/public/arch-arm.h b/xen/include/public/arch-arm.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/arch-arm/hvm/save.h b/xen/include/public/arch-arm/hvm/save.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/arch-x86/cpuid.h b/xen/include/public/arch-x86/cpuid.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/arch-x86/hvm/save.h b/xen/include/public/arch-x86/hvm/save.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/arch-x86/xen-mca.h b/xen/include/public/arch-x86/xen-mca.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/arch-x86/xen-x86_32.h b/xen/include/public/arch-x86/xen-x86_32.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/arch-x86/xen-x86_64.h b/xen/include/public/arch-x86/xen-x86_64.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/arch-x86/xen.h b/xen/include/public/arch-x86/xen.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/arch-x86_32.h b/xen/include/public/arch-x86_32.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/arch-x86_64.h b/xen/include/public/arch-x86_64.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/callback.h b/xen/include/public/callback.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/dom0_ops.h b/xen/include/public/dom0_ops.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/domctl.h b/xen/include/public/domctl.h
old mode 100644
new mode 100755
index 4c5b2bb..dd13aa9
--- a/xen/include/public/domctl.h
+++ b/xen/include/public/domctl.h
@@ -315,6 +315,9 @@ DEFINE_XEN_GUEST_HANDLE(xen_domctl_max_vcpus_t);
 #define XEN_SCHEDULER_CREDIT   5
 #define XEN_SCHEDULER_CREDIT2  6
 #define XEN_SCHEDULER_ARINC653 7
+#define XEN_SCHEDULER_RTGLOBAL 8
+#define XEN_SCHEDULER_RTPARTITION 9
+
 /* Set or get info? */
 #define XEN_DOMCTL_SCHEDOP_putinfo 0
 #define XEN_DOMCTL_SCHEDOP_getinfo 1
@@ -336,12 +339,23 @@ struct xen_domctl_scheduler_op {
         struct xen_domctl_sched_credit2 {
             uint16_t weight;
         } credit2;
+		struct xen_domctl_sched_rtglobal {
+			uint16_t period;
+			uint16_t budget;
+			uint16_t extra;
+			uint16_t vcpu;
+		} rtglobal;
+		struct xen_domctl_sched_rtpartition {
+			uint16_t period;
+			uint16_t budget;
+			uint16_t extra;
+			uint16_t vcpu;
+		} rtpartition;
     } u;
 };
 typedef struct xen_domctl_scheduler_op xen_domctl_scheduler_op_t;
 DEFINE_XEN_GUEST_HANDLE(xen_domctl_scheduler_op_t);
 
-
 /* XEN_DOMCTL_setdomainhandle */
 struct xen_domctl_setdomainhandle {
     xen_domain_handle_t handle;
diff --git a/xen/include/public/elfnote.h b/xen/include/public/elfnote.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/event_channel.h b/xen/include/public/event_channel.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/features.h b/xen/include/public/features.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/gcov.h b/xen/include/public/gcov.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/grant_table.h b/xen/include/public/grant_table.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/hvm/e820.h b/xen/include/public/hvm/e820.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/hvm/hvm_info_table.h b/xen/include/public/hvm/hvm_info_table.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/hvm/hvm_op.h b/xen/include/public/hvm/hvm_op.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/hvm/hvm_xs_strings.h b/xen/include/public/hvm/hvm_xs_strings.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/hvm/ioreq.h b/xen/include/public/hvm/ioreq.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/hvm/params.h b/xen/include/public/hvm/params.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/hvm/pvdrivers.h b/xen/include/public/hvm/pvdrivers.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/hvm/save.h b/xen/include/public/hvm/save.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/io/blkif.h b/xen/include/public/io/blkif.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/io/console.h b/xen/include/public/io/console.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/io/fbif.h b/xen/include/public/io/fbif.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/io/fsif.h b/xen/include/public/io/fsif.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/io/kbdif.h b/xen/include/public/io/kbdif.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/io/libxenvchan.h b/xen/include/public/io/libxenvchan.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/io/netif.h b/xen/include/public/io/netif.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/io/pciif.h b/xen/include/public/io/pciif.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/io/protocols.h b/xen/include/public/io/protocols.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/io/ring.h b/xen/include/public/io/ring.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/io/tpmif.h b/xen/include/public/io/tpmif.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/io/usbif.h b/xen/include/public/io/usbif.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/io/vscsiif.h b/xen/include/public/io/vscsiif.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/io/xenbus.h b/xen/include/public/io/xenbus.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/io/xs_wire.h b/xen/include/public/io/xs_wire.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/kexec.h b/xen/include/public/kexec.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/mem_event.h b/xen/include/public/mem_event.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/memory.h b/xen/include/public/memory.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/nmi.h b/xen/include/public/nmi.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/physdev.h b/xen/include/public/physdev.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/platform.h b/xen/include/public/platform.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/sched.h b/xen/include/public/sched.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/sysctl.h b/xen/include/public/sysctl.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/tmem.h b/xen/include/public/tmem.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/trace.h b/xen/include/public/trace.h
old mode 100644
new mode 100755
index e2f60a6..2d30aee
--- a/xen/include/public/trace.h
+++ b/xen/include/public/trace.h
@@ -57,6 +57,14 @@
 #define TRC_SCHED_CLASS     0x00022000   /* Scheduler-specific    */
 #define TRC_SCHED_VERBOSE   0x00028000   /* More inclusive scheduling */
 
+#define TRC_SCHED_OVERHEAD  0x00024000   /* Trace to record scheduling overhead */
+#define TRC_SCHED_OVERHEAD_SCHED_LATENCY    (TRC_SCHED_OVERHEAD + 1)
+#define TRC_SCHED_OVERHEAD_CONTEXT_SWITCH   (TRC_SCHED_OVERHEAD + 2)
+#define TRC_SCHED_OVERHEAD_CONTEXT_SAVED    (TRC_SCHED_OVERHEAD + 3)
+#define TRC_SCHED_OVERHEAD_WAKE             (TRC_SCHED_OVERHEAD + 4)
+#define TRC_SCHED_OVERHEAD_SLEEP            (TRC_SCHED_OVERHEAD + 5)
+#define TRC_SCHED_OVERHEAD_SELF_SWITCH      (TRC_SCHED_OVERHEAD + 6)
+
 /*
  * The highest 3 bits of the last 12 bits of TRC_SCHED_CLASS above are
  * reserved for encoding what scheduler produced the information. The
@@ -96,14 +104,14 @@
 #define TRC_SCHED_CONTINUE_RUNNING  (TRC_SCHED_MIN + 2)
 #define TRC_SCHED_DOM_ADD        (TRC_SCHED_VERBOSE +  1)
 #define TRC_SCHED_DOM_REM        (TRC_SCHED_VERBOSE +  2)
-#define TRC_SCHED_SLEEP          (TRC_SCHED_VERBOSE +  3)
-#define TRC_SCHED_WAKE           (TRC_SCHED_VERBOSE +  4)
+#define TRC_SCHED_SLEEP          (TRC_SCHED_VERBOSE +  3)   
+#define TRC_SCHED_WAKE           (TRC_SCHED_VERBOSE +  4)   
 #define TRC_SCHED_YIELD          (TRC_SCHED_VERBOSE +  5)
 #define TRC_SCHED_BLOCK          (TRC_SCHED_VERBOSE +  6)
-#define TRC_SCHED_SHUTDOWN       (TRC_SCHED_VERBOSE +  7)
-#define TRC_SCHED_CTL            (TRC_SCHED_VERBOSE +  8)
-#define TRC_SCHED_ADJDOM         (TRC_SCHED_VERBOSE +  9)
-#define TRC_SCHED_SWITCH         (TRC_SCHED_VERBOSE + 10)
+#define TRC_SCHED_SHUTDOWN       (TRC_SCHED_VERBOSE +  7)   
+#define TRC_SCHED_CTL            (TRC_SCHED_VERBOSE +  8)   
+#define TRC_SCHED_ADJDOM         (TRC_SCHED_VERBOSE +  9)   
+#define TRC_SCHED_SWITCH         (TRC_SCHED_VERBOSE + 10)   
 #define TRC_SCHED_S_TIMER_FN     (TRC_SCHED_VERBOSE + 11)
 #define TRC_SCHED_T_TIMER_FN     (TRC_SCHED_VERBOSE + 12)
 #define TRC_SCHED_DOM_TIMER_FN   (TRC_SCHED_VERBOSE + 13)
diff --git a/xen/include/public/vcpu.h b/xen/include/public/vcpu.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/version.h b/xen/include/public/version.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/xen-compat.h b/xen/include/public/xen-compat.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/xen.h b/xen/include/public/xen.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/xencomm.h b/xen/include/public/xencomm.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/xenoprof.h b/xen/include/public/xenoprof.h
old mode 100644
new mode 100755
diff --git a/xen/include/public/xsm/flask_op.h b/xen/include/public/xsm/flask_op.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/acpi.h b/xen/include/xen/acpi.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/bitmap.h b/xen/include/xen/bitmap.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/bitops.h b/xen/include/xen/bitops.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/byteorder/big_endian.h b/xen/include/xen/byteorder/big_endian.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/byteorder/generic.h b/xen/include/xen/byteorder/generic.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/byteorder/little_endian.h b/xen/include/xen/byteorder/little_endian.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/byteorder/swab.h b/xen/include/xen/byteorder/swab.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/cache.h b/xen/include/xen/cache.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/compat.h b/xen/include/xen/compat.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/compile.h.in b/xen/include/xen/compile.h.in
old mode 100644
new mode 100755
diff --git a/xen/include/xen/compiler.h b/xen/include/xen/compiler.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/config.h b/xen/include/xen/config.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/console.h b/xen/include/xen/console.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/const.h b/xen/include/xen/const.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/cper.h b/xen/include/xen/cper.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/cpu.h b/xen/include/xen/cpu.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/cpuidle.h b/xen/include/xen/cpuidle.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/cpumask.h b/xen/include/xen/cpumask.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/ctype.h b/xen/include/xen/ctype.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/decompress.h b/xen/include/xen/decompress.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/delay.h b/xen/include/xen/delay.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/device_tree.h b/xen/include/xen/device_tree.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/dmi.h b/xen/include/xen/dmi.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/domain.h b/xen/include/xen/domain.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/domain_page.h b/xen/include/xen/domain_page.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/efi.h b/xen/include/xen/efi.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/elf.h b/xen/include/xen/elf.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/elfcore.h b/xen/include/xen/elfcore.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/elfstructs.h b/xen/include/xen/elfstructs.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/err.h b/xen/include/xen/err.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/errno.h b/xen/include/xen/errno.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/event.h b/xen/include/xen/event.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/gcov.h b/xen/include/xen/gcov.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/gdbstub.h b/xen/include/xen/gdbstub.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/grant_table.h b/xen/include/xen/grant_table.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/guest_access.h b/xen/include/xen/guest_access.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/hash.h b/xen/include/xen/hash.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/hvm/iommu.h b/xen/include/xen/hvm/iommu.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/hvm/irq.h b/xen/include/xen/hvm/irq.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/hvm/save.h b/xen/include/xen/hvm/save.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/hypercall.h b/xen/include/xen/hypercall.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/init.h b/xen/include/xen/init.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/inttypes.h b/xen/include/xen/inttypes.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/iocap.h b/xen/include/xen/iocap.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/iommu.h b/xen/include/xen/iommu.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/irq.h b/xen/include/xen/irq.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/irq_cpustat.h b/xen/include/xen/irq_cpustat.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/kernel.h b/xen/include/xen/kernel.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/kexec.h b/xen/include/xen/kexec.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/keyhandler.h b/xen/include/xen/keyhandler.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/lib.h b/xen/include/xen/lib.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/libelf.h b/xen/include/xen/libelf.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/libfdt/fdt.h b/xen/include/xen/libfdt/fdt.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/libfdt/libfdt.h b/xen/include/xen/libfdt/libfdt.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/libfdt/libfdt_env.h b/xen/include/xen/libfdt/libfdt_env.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/list.h b/xen/include/xen/list.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/lzo.h b/xen/include/xen/lzo.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/mm.h b/xen/include/xen/mm.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/multiboot.h b/xen/include/xen/multiboot.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/multicall.h b/xen/include/xen/multicall.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/nmi.h b/xen/include/xen/nmi.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/nodemask.h b/xen/include/xen/nodemask.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/notifier.h b/xen/include/xen/notifier.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/numa.h b/xen/include/xen/numa.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/paging.h b/xen/include/xen/paging.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/pci.h b/xen/include/xen/pci.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/pci_regs.h b/xen/include/xen/pci_regs.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/percpu.h b/xen/include/xen/percpu.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/perfc.h b/xen/include/xen/perfc.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/perfc_defn.h b/xen/include/xen/perfc_defn.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/pfn.h b/xen/include/xen/pfn.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/pmstat.h b/xen/include/xen/pmstat.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/preempt.h b/xen/include/xen/preempt.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/prefetch.h b/xen/include/xen/prefetch.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/radix-tree.h b/xen/include/xen/radix-tree.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/rangeset.h b/xen/include/xen/rangeset.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/rbtree.h b/xen/include/xen/rbtree.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/rcupdate.h b/xen/include/xen/rcupdate.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/sched-if.h b/xen/include/xen/sched-if.h
old mode 100644
new mode 100755
index ad4d80c..2cbd865
--- a/xen/include/xen/sched-if.h
+++ b/xen/include/xen/sched-if.h
@@ -197,7 +197,8 @@ extern const struct scheduler sched_sedf_def;
 extern const struct scheduler sched_credit_def;
 extern const struct scheduler sched_credit2_def;
 extern const struct scheduler sched_arinc653_def;
-
+extern const struct scheduler sched_rtglobal_def;
+extern const struct scheduler sched_rtpartition_def;
 
 struct cpupool
 {
diff --git a/xen/include/xen/sched.h b/xen/include/xen/sched.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/serial.h b/xen/include/xen/serial.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/shared.h b/xen/include/xen/shared.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/shutdown.h b/xen/include/xen/shutdown.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/smp.h b/xen/include/xen/smp.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/softirq.h b/xen/include/xen/softirq.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/sort.h b/xen/include/xen/sort.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/spinlock.h b/xen/include/xen/spinlock.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/stdarg.h b/xen/include/xen/stdarg.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/stop_machine.h b/xen/include/xen/stop_machine.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/string.h b/xen/include/xen/string.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/stringify.h b/xen/include/xen/stringify.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/symbols.h b/xen/include/xen/symbols.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/tasklet.h b/xen/include/xen/tasklet.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/time.h b/xen/include/xen/time.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/timer.h b/xen/include/xen/timer.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/tmem.h b/xen/include/xen/tmem.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/tmem_xen.h b/xen/include/xen/tmem_xen.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/trace.h b/xen/include/xen/trace.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/types.h b/xen/include/xen/types.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/version.h b/xen/include/xen/version.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/vga.h b/xen/include/xen/vga.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/video.h b/xen/include/xen/video.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/vmap.h b/xen/include/xen/vmap.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/wait.h b/xen/include/xen/wait.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/xencomm.h b/xen/include/xen/xencomm.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/xenoprof.h b/xen/include/xen/xenoprof.h
old mode 100644
new mode 100755
diff --git a/xen/include/xen/xmalloc.h b/xen/include/xen/xmalloc.h
old mode 100644
new mode 100755
diff --git a/xen/include/xlat.lst b/xen/include/xlat.lst
old mode 100644
new mode 100755
diff --git a/xen/include/xsm/dummy.h b/xen/include/xsm/dummy.h
old mode 100644
new mode 100755
diff --git a/xen/include/xsm/xsm.h b/xen/include/xsm/xsm.h
old mode 100644
new mode 100755
diff --git a/xen/tools/Makefile b/xen/tools/Makefile
old mode 100644
new mode 100755
diff --git a/xen/tools/figlet/LICENSE b/xen/tools/figlet/LICENSE
old mode 100644
new mode 100755
diff --git a/xen/tools/figlet/Makefile b/xen/tools/figlet/Makefile
old mode 100644
new mode 100755
diff --git a/xen/tools/figlet/README b/xen/tools/figlet/README
old mode 100644
new mode 100755
diff --git a/xen/tools/figlet/figlet.c b/xen/tools/figlet/figlet.c
old mode 100644
new mode 100755
diff --git a/xen/tools/figlet/xen.flf b/xen/tools/figlet/xen.flf
old mode 100644
new mode 100755
diff --git a/xen/tools/get-fields.sh b/xen/tools/get-fields.sh
old mode 100644
new mode 100755
diff --git a/xen/tools/symbols.c b/xen/tools/symbols.c
old mode 100644
new mode 100755
diff --git a/xen/xsm/Makefile b/xen/xsm/Makefile
old mode 100644
new mode 100755
diff --git a/xen/xsm/dummy.c b/xen/xsm/dummy.c
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/Makefile b/xen/xsm/flask/Makefile
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/avc.c b/xen/xsm/flask/avc.c
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/flask_op.c b/xen/xsm/flask/flask_op.c
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/hooks.c b/xen/xsm/flask/hooks.c
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/include/avc.h b/xen/xsm/flask/include/avc.h
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/include/avc_ss.h b/xen/xsm/flask/include/avc_ss.h
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/include/conditional.h b/xen/xsm/flask/include/conditional.h
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/include/objsec.h b/xen/xsm/flask/include/objsec.h
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/include/security.h b/xen/xsm/flask/include/security.h
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/policy/access_vectors b/xen/xsm/flask/policy/access_vectors
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/policy/initial_sids b/xen/xsm/flask/policy/initial_sids
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/policy/mkaccess_vector.sh b/xen/xsm/flask/policy/mkaccess_vector.sh
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/policy/mkflask.sh b/xen/xsm/flask/policy/mkflask.sh
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/policy/security_classes b/xen/xsm/flask/policy/security_classes
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/Makefile b/xen/xsm/flask/ss/Makefile
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/avtab.c b/xen/xsm/flask/ss/avtab.c
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/avtab.h b/xen/xsm/flask/ss/avtab.h
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/conditional.c b/xen/xsm/flask/ss/conditional.c
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/conditional.h b/xen/xsm/flask/ss/conditional.h
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/constraint.h b/xen/xsm/flask/ss/constraint.h
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/context.h b/xen/xsm/flask/ss/context.h
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/ebitmap.c b/xen/xsm/flask/ss/ebitmap.c
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/ebitmap.h b/xen/xsm/flask/ss/ebitmap.h
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/hashtab.c b/xen/xsm/flask/ss/hashtab.c
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/hashtab.h b/xen/xsm/flask/ss/hashtab.h
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/mls.c b/xen/xsm/flask/ss/mls.c
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/mls.h b/xen/xsm/flask/ss/mls.h
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/mls_types.h b/xen/xsm/flask/ss/mls_types.h
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/policydb.c b/xen/xsm/flask/ss/policydb.c
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/policydb.h b/xen/xsm/flask/ss/policydb.h
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/services.c b/xen/xsm/flask/ss/services.c
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/services.h b/xen/xsm/flask/ss/services.h
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/sidtab.c b/xen/xsm/flask/ss/sidtab.c
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/sidtab.h b/xen/xsm/flask/ss/sidtab.h
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/symtab.c b/xen/xsm/flask/ss/symtab.c
old mode 100644
new mode 100755
diff --git a/xen/xsm/flask/ss/symtab.h b/xen/xsm/flask/ss/symtab.h
old mode 100644
new mode 100755
diff --git a/xen/xsm/xsm_core.c b/xen/xsm/xsm_core.c
old mode 100644
new mode 100755
diff --git a/xen/xsm/xsm_policy.c b/xen/xsm/xsm_policy.c
old mode 100644
new mode 100755
